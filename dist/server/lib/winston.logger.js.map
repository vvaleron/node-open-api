{"version":3,"sources":["../../../src/server/lib/winston.logger.js"],"names":["env","process","NODE_ENV","logDir","Logger","existsSync","mkdirSync","transports","Console","timestamp","tsFormat","colorize","level","require","filename","datePattern","prepend","Date","toLocaleTimeString"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;AAEA,IAAMA,MAAMC,QAAQD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;AACA,IAAMC,SAAS,KAAf;;IAEMC,M;AACF,sBAAe;AAAA;;AACX,YAAI,CAAC,aAAGC,UAAH,CAAcF,MAAd,CAAL,EAA4B;AACxB,yBAAGG,SAAH,CAAaH,MAAb;AACH;;AAED,eAAO,IAAK,kBAAQC,MAAb,CAAqB;AACxBG,wBAAY;AACR;AACA,gBAAK,kBAAQA,UAAR,CAAmBC,OAAxB,CAAiC;AAC7BC,2BAAW,KAAKC,QADa;AAE7BC,0BAAU,IAFmB;AAG7BC,uBAAO;AAHsB,aAAjC,CAFQ,EAOR,KAAKC,QAAQ,2BAAR,CAAL,EAA2C;AACvCC,0BAAaX,MAAb,kBADuC;AAEvCM,2BAAW,KAAKC,QAFuB;AAGvCK,6BAAa,YAH0B;AAIvCC,yBAAS,IAJ8B;AAKvCJ,uBAAOZ,QAAQ,aAAR,GAAwB,SAAxB,GAAoC;AALJ,aAA3C,CAPQ;AADY,SAArB,CAAP;AAiBH;;;;mCAEW;AACR,mBAAQ,IAAIiB,IAAJ,EAAD,CAAaC,kBAAb,EAAP;AACH;;;;;;AAGL;AACA;AACA;AACA;AACA;;kBAEe,IAAId,MAAJ,E","file":"winston.logger.js","sourcesContent":["import winston from 'winston';\nimport fs from 'fs';\n\nconst env = process.env.NODE_ENV || 'development';\nconst logDir = 'log';\n\nclass Logger {\n    constructor () {\n        if (!fs.existsSync(logDir)) {\n            fs.mkdirSync(logDir);\n        }\n\n        return new (winston.Logger)({\n            transports: [\n                // colorize the output to the console\n                new (winston.transports.Console)({\n                    timestamp: this.tsFormat,\n                    colorize: true,\n                    level: 'info'\n                }),\n                new (require('winston-daily-rotate-file'))({\n                    filename: `${logDir}/-results.log`,\n                    timestamp: this.tsFormat,\n                    datePattern: 'yyyy-MM-dd',\n                    prepend: true,\n                    level: env === 'development' ? 'verbose' : 'info'\n                })\n            ]\n        });\n    }\n\n    tsFormat () {\n        return (new Date()).toLocaleTimeString();\n    }\n}\n\n// logger.info(' ');\n// logger.debug('Debugging info');\n// logger.verbose('Verbose info');\n// logger.warn('Warning message');\n// logger.error('Error info');\n\nexport default new Logger();"]}