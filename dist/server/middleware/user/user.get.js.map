{"version":3,"sources":["../../../../src/server/middleware/user/user.get.js"],"names":["userModel","UserGet","req","res","next","params","id","findById","err","users","error","status","end","send","find"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;AAEA,IAAMA,YAAY,gBAAOA,SAAzB;;IAEMC,O;;;;;;;gCACOC,G,EAAKC,G,EAAKC,I,EAAM;AACrB;AACA,gBAAI,CAACF,IAAIG,MAAJ,CAAWC,EAAhB,EAAoB;AAChBF;AACH,aAFD,MAEO;AACHJ,0BAAUO,QAAV,CAAmBL,IAAIG,MAAJ,CAAWC,EAA9B,EAAkC,UAACE,GAAD,EAAMC,KAAN,EAAgB;AAC9C,wBAAID,GAAJ,EAAS;AACL,0CAAOE,KAAP,CAAaF,GAAb;AACAL,4BAAIQ,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACH;;AAEDT,wBAAIU,IAAJ,CAASJ,KAAT;AACH,iBAPD;AAQH;AACJ;;;+BAEOP,G,EAAKC,G,EAAKC,I,EAAM;AACpBJ,sBAAUc,IAAV,CAAe,EAAf,EAAmB,UAACN,GAAD,EAAMC,KAAN,EAAgB;AAC/B,oBAAID,GAAJ,EAAS;AACL,sCAAOE,KAAP,CAAaF,GAAb;AACAL,wBAAIQ,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACH;;AAEDT,oBAAIU,IAAJ,CAASJ,KAAT;AACH,aAPD;AAQH;;;;;;kBAGU,IAAIR,OAAJ,E","file":"user.get.js","sourcesContent":["import models from './../../db/models/index';\nimport logger from './../../lib/winston.logger';\n\nconst userModel = models.userModel;\n\nclass UserGet {\n    getById (req, res, next) {\n        // If the user ID is undefined pass control to the this.getAll(req, res, next) method\n        if (!req.params.id) {\n            next();\n        } else {\n            userModel.findById(req.params.id, (err, users) => {\n                if (err) {\n                    logger.error(err);\n                    res.status(404).end();\n                }\n\n                res.send(users);\n            });\n        }\n    }\n\n    getAll (req, res, next) {\n        userModel.find({}, (err, users) => {\n            if (err) {\n                logger.error(err);\n                res.status(404).end();\n            }\n\n            res.send(users);\n        });\n    }\n}\n\nexport default new UserGet();\n"]}