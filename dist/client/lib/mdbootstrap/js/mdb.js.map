{"version":3,"sources":["../../../../../src/client/lib/mdbootstrap/js/mdb.js"],"names":["jQuery","easing","extend","def","swing","x","t","b","c","d","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","Math","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","pow","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInElastic","s","p","a","abs","asin","easeOutElastic","easeInOutElastic","easeInBack","undefined","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","window","Package","Materialize","guid","s4","floor","random","toString","substring","elementOrParentIsFixed","element","$element","$","$checkElements","add","parents","isFixed","each","css","Vel","Velocity","console","log","e","length","r","type","isWindow","nodeType","fn","init","n","i","call","isArray","Array","isPlainObject","constructor","o","prototype","apply","data","expando","uuid","removeData","arguments","l","u","queue","Object","push","dequeue","shift","unshift","Error","offset","getBoundingClientRect","top","left","pageYOffset","document","scrollTop","clientTop","pageXOffset","scrollLeft","clientLeft","position","offsetParent","toLowerCase","style","test","nodeName","parseFloat","marginTop","marginLeft","borderTopWidth","borderLeftWidth","Date","getTime","hasOwnProperty","split","Utilities","module","exports","define","amd","m","isWrapped","slice","isNode","f","round","w","h","v","y","g","V","S","P","isNaN","isFinite","min","max","Float32Array","C","getControlPoints","T","isString","Easings","concat","defaults","State","calls","duration","display","setPropertyValue","visibility","k","A","F","j","endValue","E","startValue","currentValue","Hooks","registered","H","getRoot","N","rootPropertyValueCache","rootPropertyValue","L","unitType","scrollData","Normalizations","mobileHA","transformCache","translate3d","flushTransformCache","progress","isTicking","loop","isAnimating","Lists","transforms3D","RegExp","Values","removeClass","complete","setTimeout","tweensContainer","delay","documentMode","createElement","innerHTML","getElementsByTagName","webkitRequestAnimationFrame","mozRequestAnimationFrame","isFunction","isNodeList","jquery","Zepto","zepto","isZ","isSVG","SVGElement","isEmptyObject","velocity","animate","isMobile","navigator","userAgent","isAndroid","isGingerbread","isChrome","chrome","isFirefox","prefixElement","prefixMatches","scrollAnchor","scrollPropertyLeft","scrollPropertyTop","CSS","Redirects","Promise","begin","_cacheValues","computedStyle","hook","mock","version","major","minor","patch","debug","documentElement","body","parentNode","tension","friction","dx","dv","linear","spring","exp","RegEx","isHex","valueUnwrap","wrappedValueAlreadyExtracted","valueSplit","colors","transformsBase","templates","textShadow","boxShadow","clip","backgroundPosition","transformOrigin","perspectiveOrigin","register","match","join","cleanRootPropertyValue","isCSSNullValue","extractValue","injectValue","replace","blur","opacity","zoom","parseInt","substr","black","blue","gray","green","red","white","hexToRgb","Names","camelCase","toUpperCase","SVGAttribute","prefixCheck","exec","getUnitType","getDisplayType","tagName","addClass","classList","className","remove","getPropertyValue","offsetHeight","offsetWidth","getComputedStyle","getBBox","getAttribute","container","direction","scrollTo","alternateValue","setAttribute","translate","skewX","skewY","scale","rotate","promise","myParent","fontSize","lastPosition","lastParent","lastFontSize","emToPx","lastEmToPx","percentToPxWidth","lastPercentToPxWidth","percentToPxHeight","lastPercentToPxHeight","createElementNS","appendChild","removeChild","remToPx","vwToPx","innerWidth","vhToPx","innerHeight","JSON","stringify","axis","scroll","opts","z","O","q","M","I","B","W","G","Y","D","Q","R","resolver","velocityQueueEntryFlag","delayTimer","next","properties","names","elements","options","rejecter","clearTimeout","backwards","reverse","stagger","drag","requestAnimationFrame","hidden","addEventListener","height","marginBottom","paddingTop","paddingBottom","overflow","root","previous","Chart","context","chart","canvas","ctx","computeDimension","dimension","defaultView","width","aspectRatio","helpers","retinaScale","global","animation","animationSteps","animationEasing","showScale","scaleOverride","scaleSteps","scaleStepWidth","scaleStartValue","scaleLineColor","scaleLineWidth","scaleShowLabels","scaleLabel","scaleIntegersOnly","scaleBeginAtZero","scaleFontFamily","scaleFontSize","scaleFontStyle","scaleFontColor","responsive","maintainAspectRatio","showTooltips","customTooltips","tooltipEvents","tooltipFillColor","tooltipFontFamily","tooltipFontSize","tooltipFontStyle","tooltipFontColor","tooltipTitleFontFamily","tooltipTitleFontSize","tooltipTitleFontStyle","tooltipTitleFontColor","tooltipTitleTemplate","tooltipYPadding","tooltipXPadding","tooltipCaretSize","tooltipCornerRadius","tooltipXOffset","tooltipTemplate","multiTooltipTemplate","multiTooltipKeyBackground","segmentColorDefault","segmentHighlightColorDefaults","onAnimationProgress","onAnimationComplete","types","loopable","callback","self","additionalArgs","item","clone","obj","objClone","value","key","base","extensionObject","merge","master","args","indexOf","arrayToSearch","where","collection","filterCallback","filtered","findNextWhere","startIndex","currentItem","findPreviousWhere","inherits","extensions","parent","ChartElement","Surrogate","__super__","noop","uid","id","warn","str","isNumber","array","cap","valueToCap","maxValue","minValue","getDecimalPlaces","num","parts","toRadians","radians","degrees","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","aliasPixel","pixelWidth","splineCurve","FirstPoint","MiddlePoint","AfterPoint","d01","d12","fa","fb","inner","outer","calculateOrderOfMagnitude","val","LN10","calculateScaleRange","valuesArray","drawingSize","textSize","startFromZero","integersOnly","minSteps","maxSteps","skipFitting","values","valueRange","rangeOrderOfMagnitude","graphMax","ceil","graphMin","graphRange","stepValue","numberOfSteps","steps","template","templateString","valuesObject","Function","cache","tmpl","generateLabels","labelsArray","index","easingEffects","requestAnimFrame","oRequestAnimationFrame","msRequestAnimationFrame","cancelAnimFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","animationLoop","totalSteps","easingString","onProgress","onComplete","chartInstance","currentStep","easingFunction","animationFrame","stepDecimal","easeDecimal","getRelativePosition","evt","mouseX","mouseY","originalEvent","currentTarget","srcElement","boundingRect","touches","clientX","clientY","addEvent","node","eventType","method","attachEvent","removeEvent","handler","removeEventListener","detachEvent","bindEvents","arrayOfEvents","events","eventName","unbindEvents","getMaximumWidth","domNode","padding","getStyle","clientWidth","getMaximumHeight","clientHeight","el","property","currentStyle","getMaximumSize","devicePixelRatio","clear","clearRect","fontString","pixelSize","fontStyle","fontFamily","longestText","font","arrayOfStrings","longest","string","textWidth","measureText","drawRoundedRectangle","radius","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","instances","Type","resize","initialize","stop","animationService","cancelAnimation","newWidth","newHeight","reflow","render","Animation","numSteps","animationObject","draw","addAnimation","generateLegend","legendTemplate","destroy","removeProperty","removeAttribute","showTooltip","ChartElements","forceRedraw","activeElements","isChanged","Elements","changed","datasets","dataArray","dataIndex","points","bars","segments","tooltipLabels","tooltipColors","medianPosition","dataCollection","xPositions","yPositions","xMax","yMax","xMin","yMin","dataset","hasValue","fill","_saved","fillColor","stroke","strokeColor","MultiTooltip","xPadding","yPadding","xOffset","textColor","titleTextColor","titleFontFamily","titleFontStyle","titleFontSize","cornerRadius","labels","legendColors","legendColorBackground","title","custom","Element","tooltipPosition","Tooltip","caretHeight","text","toBase64Image","toDataURL","ChartType","name","chartName","baseDefaults","config","configuration","save","restore","props","update","newProps","transition","ease","Point","inRange","chartX","chartY","hitDetectionRange","hitDetectionRadius","arc","strokeStyle","lineWidth","strokeWidth","fillStyle","Arc","pointRelativePosition","pointRelativeAngle","startAngle","endAngle","betweenAngles","withinRadius","innerRadius","outerRadius","centreAngle","rangeFromCentre","animationPercent","easingDecimal","lineJoin","showStroke","Rectangle","halfWidth","leftX","rightX","halfStroke","xAlign","yAlign","caretPadding","tooltipWidth","tooltipRectHeight","tooltipHeight","tooltipX","tooltipY","textAlign","textBaseline","fillText","titleFont","titleHeight","titleWidth","labelWidth","longestTextWidth","halfHeight","getLineHeight","baseLineHeight","afterTitleIndex","label","fillRect","Scale","fit","buildYLabels","yLabels","stepDecimalPlaces","toFixed","yLabelWidth","showLabels","addXLabel","xLabels","valuesCount","removeXLabel","startPoint","endPoint","cachedEndPoint","cachedHeight","cachedYLabelWidth","calculateYRange","calculateXLabelRotation","firstWidth","lastWidth","firstRotated","lastRotated","xScalePaddingRight","xScalePaddingLeft","xLabelRotation","originalLabelWidth","cosRotation","firstRotatedWidth","xLabelWidth","xGridWidth","calculateX","drawingArea","calculateY","scalingFactor","isRotated","valueWidth","offsetGridLines","valueOffset","yLabelGap","xStart","labelString","yLabelCenter","linePositionY","drawHorizontalLine","showHorizontalLines","gridLineWidth","gridLineColor","lineColor","xPos","linePos","drawVerticalLine","showVerticalLines","RadialScale","size","backdropPaddingY","calculateCenterOffset","lineArc","setScaleSize","getCircumference","largestPossibleRadius","pointLabelFontSize","pointPosition","halfTextWidth","furthestRight","furthestRightIndex","furthestRightAngle","furthestLeft","furthestLeftIndex","furthestLeftAngle","xProtrusionLeft","xProtrusionRight","radiusReductionRight","radiusReductionLeft","maxWidthRadius","pointLabelFontStyle","pointLabelFontFamily","getPointPosition","getIndexAngle","setCenterPoint","leftMovement","rightMovement","maxRight","maxLeft","xCenter","yCenter","angleMultiplier","distanceFromCenter","thisAngle","yCenterOffset","yHeight","showLabelBackdrop","backdropColor","backdropPaddingX","fontColor","angleLineWidth","angleLineColor","centerOffset","outerPosition","backgroundColors","previousOuterPosition","nextOuterPosition","previousOuterHalfway","nextOuterHalfway","pointLabelPosition","pointLabelFontColor","labelsCount","halfLabelsCount","quarterLabelsCount","upperHalf","exactQuarter","frameDuration","animations","dropFrames","digestWrapper","animationWrapper","splice","startDigest","startTime","now","framesToDrop","endTime","frameDelay","timeout","instance","noConflict","defaultConfig","scaleShowGridLines","scaleGridLineColor","scaleGridLineWidth","scaleShowHorizontalLines","scaleShowVerticalLines","barShowStroke","barStrokeWidth","barValueSpacing","barDatasetSpacing","ScaleClass","calculateBarX","datasetCount","datasetIndex","barIndex","xWidth","calculateBaseWidth","xAbsolute","barWidth","calculateBarWidth","baseWidth","activeBars","getBarsAtEvent","eachBars","bar","activeBar","highlightFill","highlightStroke","BarClass","datasetObject","dataPoint","datasetLabel","buildScale","activeElement","barsArray","eventPosition","datasetIterator","dataTotal","scaleOptions","beginAtZero","currentHeight","updatedRanges","addData","newScaleProps","segmentShowStroke","segmentStrokeColor","segmentStrokeWidth","percentageInnerCutout","animateRotate","animateScale","SegmentArc","activeSegments","getSegmentsAtEvent","segment","activeSegment","highlightColor","calculateTotal","datapoint","color","segmentsArray","location","atIndex","silent","highlight","circumference","calculateCircumference","total","indexToDelete","animDecimal","Doughnut","bezierCurve","bezierCurveTension","pointDot","pointDotRadius","pointDotStrokeWidth","pointHitDetectionRadius","datasetStroke","datasetStrokeWidth","datasetFill","PointClass","activePoints","getPointsAtEvent","eachPoints","point","activePoint","pointColor","pointStrokeColor","pointHighlightFill","pointHighlightStroke","pointsArray","nextPoint","previousPoint","pointsWithValues","controlPoints","bezierCurveTo","scaleShowLabelBackdrop","scaleBackdropColor","scaleBackdropPaddingY","scaleBackdropPaddingX","scaleShowLine","updateScaleRange","datapoints","scaleSizes","angleShowLineOut","activePointsCollection","mousePosition","fromCenter","anglePerIndex","pointIndex","scaleBackgroundColors","totalDataArray","MutationObserver","Util","WeakMap","getComputedStyleRX","bind","me","agent","createEvent","event","bubble","cancel","detail","customEvent","initCustomEvent","createEventObject","emitEvent","elem","dispatchEvent","MozWeakMap","keys","get","len","ref","set","WebkitMutationObserver","MozMutationObserver","notSupported","observe","pseudo","prop","_","_char","WOW","boxClass","animateClass","mobile","live","scrollContainer","scrollCallback","scrollHandler","resetAnimation","start","scrolled","util","querySelector","animationNameCache","wowEvent","readyState","finished","box","stopped","boxes","results","querySelectorAll","all","disabled","resetStyle","applyStyle","interval","setInterval","_this","records","len1","record","len2","ref1","results1","addedNodes","doSync","childList","subtree","clearInterval","sync","show","iteration","customStyle","target","trim","cacheAnimationName","vendorSet","animationDuration","animationDelay","animationIterationCount","animationName","cachedAnimationName","vendors","vendor","charAt","vendorCSS","result","getPropertyCSSValue","cssText","_error","isVisible","offsetTop","bottom","viewBottom","viewTop","_util","$anchor","attr","preventDefault","factory","Waves","$$","isTouchAvailable","getWindow","isObject","isDOMNode","getWavesElements","nodes","stringRepr","docElem","win","doc","ownerDocument","convertStyle","styleObj","Effect","button","ripple","pos","relativeY","relativeX","pageY","pageX","rippleStyle","transform","hide","ripples","getElementsByClassName","removeRipple","TagWrapper","input","contains","wrapper","replaceChild","elementStyle","backgroundColor","img","diff","Number","TouchHandler","allowEvent","allow","registerEvent","eType","getWavesEffectElement","parentElement","showEffect","timer","hideEffect","hideEvent","touchMove","moveEvent","attach","classes","elementsLen","wait","off","centre","mousedown","hideRipple","mouseup","calm","displayEffect","error","ready","updateTextFields","input_selector","validity","badInput","siblings","on","validate_field","formReset","is","find","reset_text","$inputElement","object","hasLength","lenAttr","hasClass","hiddenDiv","first","append","text_area_selector","textareaAutoResize","$textarea","content","html"],"mappings":";;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;;;;;;;;;;;;GAYE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCF;AACAA,OAAOC,MAAP,CAAc,QAAd,IAA0BD,OAAOC,MAAP,CAAc,OAAd,CAA1B;;AAEAD,OAAOE,MAAP,CAAeF,OAAOC,MAAtB,EACA;AACCE,MAAK,aADN;AAECC,QAAO,eAAUC,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AAC/B;AACA,SAAOT,OAAOC,MAAP,CAAcD,OAAOC,MAAP,CAAcE,GAA5B,EAAiCE,CAAjC,EAAoCC,CAApC,EAAuCC,CAAvC,EAA0CC,CAA1C,EAA6CC,CAA7C,CAAP;AACA,EALF;AAMCC,aAAY,oBAAUL,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACpC,SAAOD,KAAGF,KAAGG,CAAN,IAASH,CAAT,GAAaC,CAApB;AACA,EARF;AASCI,cAAa,qBAAUN,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACrC,SAAO,CAACD,CAAD,IAAKF,KAAGG,CAAR,KAAYH,IAAE,CAAd,IAAmBC,CAA1B;AACA,EAXF;AAYCK,gBAAe,uBAAUP,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACvC,MAAI,CAACH,KAAGG,IAAE,CAAN,IAAW,CAAf,EAAkB,OAAOD,IAAE,CAAF,GAAIF,CAAJ,GAAMA,CAAN,GAAUC,CAAjB;AAClB,SAAO,CAACC,CAAD,GAAG,CAAH,IAAS,EAAEF,CAAH,IAAOA,IAAE,CAAT,IAAc,CAAtB,IAA2BC,CAAlC;AACA,EAfF;AAgBCM,cAAa,qBAAUR,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACrC,SAAOD,KAAGF,KAAGG,CAAN,IAASH,CAAT,GAAWA,CAAX,GAAeC,CAAtB;AACA,EAlBF;AAmBCO,eAAc,sBAAUT,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACtC,SAAOD,KAAG,CAACF,IAAEA,IAAEG,CAAF,GAAI,CAAP,IAAUH,CAAV,GAAYA,CAAZ,GAAgB,CAAnB,IAAwBC,CAA/B;AACA,EArBF;AAsBCQ,iBAAgB,wBAAUV,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACxC,MAAI,CAACH,KAAGG,IAAE,CAAN,IAAW,CAAf,EAAkB,OAAOD,IAAE,CAAF,GAAIF,CAAJ,GAAMA,CAAN,GAAQA,CAAR,GAAYC,CAAnB;AAClB,SAAOC,IAAE,CAAF,IAAK,CAACF,KAAG,CAAJ,IAAOA,CAAP,GAASA,CAAT,GAAa,CAAlB,IAAuBC,CAA9B;AACA,EAzBF;AA0BCS,cAAa,qBAAUX,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACrC,SAAOD,KAAGF,KAAGG,CAAN,IAASH,CAAT,GAAWA,CAAX,GAAaA,CAAb,GAAiBC,CAAxB;AACA,EA5BF;AA6BCU,eAAc,sBAAUZ,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACtC,SAAO,CAACD,CAAD,IAAM,CAACF,IAAEA,IAAEG,CAAF,GAAI,CAAP,IAAUH,CAAV,GAAYA,CAAZ,GAAcA,CAAd,GAAkB,CAAxB,IAA6BC,CAApC;AACA,EA/BF;AAgCCW,iBAAgB,wBAAUb,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACxC,MAAI,CAACH,KAAGG,IAAE,CAAN,IAAW,CAAf,EAAkB,OAAOD,IAAE,CAAF,GAAIF,CAAJ,GAAMA,CAAN,GAAQA,CAAR,GAAUA,CAAV,GAAcC,CAArB;AAClB,SAAO,CAACC,CAAD,GAAG,CAAH,IAAQ,CAACF,KAAG,CAAJ,IAAOA,CAAP,GAASA,CAAT,GAAWA,CAAX,GAAe,CAAvB,IAA4BC,CAAnC;AACA,EAnCF;AAoCCY,cAAa,qBAAUd,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACrC,SAAOD,KAAGF,KAAGG,CAAN,IAASH,CAAT,GAAWA,CAAX,GAAaA,CAAb,GAAeA,CAAf,GAAmBC,CAA1B;AACA,EAtCF;AAuCCa,eAAc,sBAAUf,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACtC,SAAOD,KAAG,CAACF,IAAEA,IAAEG,CAAF,GAAI,CAAP,IAAUH,CAAV,GAAYA,CAAZ,GAAcA,CAAd,GAAgBA,CAAhB,GAAoB,CAAvB,IAA4BC,CAAnC;AACA,EAzCF;AA0CCc,iBAAgB,wBAAUhB,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACxC,MAAI,CAACH,KAAGG,IAAE,CAAN,IAAW,CAAf,EAAkB,OAAOD,IAAE,CAAF,GAAIF,CAAJ,GAAMA,CAAN,GAAQA,CAAR,GAAUA,CAAV,GAAYA,CAAZ,GAAgBC,CAAvB;AAClB,SAAOC,IAAE,CAAF,IAAK,CAACF,KAAG,CAAJ,IAAOA,CAAP,GAASA,CAAT,GAAWA,CAAX,GAAaA,CAAb,GAAiB,CAAtB,IAA2BC,CAAlC;AACA,EA7CF;AA8CCe,aAAY,oBAAUjB,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACpC,SAAO,CAACD,CAAD,GAAKe,KAAKC,GAAL,CAASlB,IAAEG,CAAF,IAAOc,KAAKE,EAAL,GAAQ,CAAf,CAAT,CAAL,GAAmCjB,CAAnC,GAAuCD,CAA9C;AACA,EAhDF;AAiDCmB,cAAa,qBAAUrB,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACrC,SAAOD,IAAIe,KAAKI,GAAL,CAASrB,IAAEG,CAAF,IAAOc,KAAKE,EAAL,GAAQ,CAAf,CAAT,CAAJ,GAAkClB,CAAzC;AACA,EAnDF;AAoDCqB,gBAAe,uBAAUvB,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACvC,SAAO,CAACD,CAAD,GAAG,CAAH,IAAQe,KAAKC,GAAL,CAASD,KAAKE,EAAL,GAAQnB,CAAR,GAAUG,CAAnB,IAAwB,CAAhC,IAAqCF,CAA5C;AACA,EAtDF;AAuDCsB,aAAY,oBAAUxB,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACpC,SAAQH,KAAG,CAAJ,GAASC,CAAT,GAAaC,IAAIe,KAAKO,GAAL,CAAS,CAAT,EAAY,MAAMxB,IAAEG,CAAF,GAAM,CAAZ,CAAZ,CAAJ,GAAkCF,CAAtD;AACA,EAzDF;AA0DCwB,cAAa,qBAAU1B,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACrC,SAAQH,KAAGG,CAAJ,GAASF,IAAEC,CAAX,GAAeA,KAAK,CAACe,KAAKO,GAAL,CAAS,CAAT,EAAY,CAAC,EAAD,GAAMxB,CAAN,GAAQG,CAApB,CAAD,GAA0B,CAA/B,IAAoCF,CAA1D;AACA,EA5DF;AA6DCyB,gBAAe,uBAAU3B,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACvC,MAAIH,KAAG,CAAP,EAAU,OAAOC,CAAP;AACV,MAAID,KAAGG,CAAP,EAAU,OAAOF,IAAEC,CAAT;AACV,MAAI,CAACF,KAAGG,IAAE,CAAN,IAAW,CAAf,EAAkB,OAAOD,IAAE,CAAF,GAAMe,KAAKO,GAAL,CAAS,CAAT,EAAY,MAAMxB,IAAI,CAAV,CAAZ,CAAN,GAAkCC,CAAzC;AAClB,SAAOC,IAAE,CAAF,IAAO,CAACe,KAAKO,GAAL,CAAS,CAAT,EAAY,CAAC,EAAD,GAAM,EAAExB,CAApB,CAAD,GAA0B,CAAjC,IAAsCC,CAA7C;AACA,EAlEF;AAmEC0B,aAAY,oBAAU5B,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACpC,SAAO,CAACD,CAAD,IAAMe,KAAKW,IAAL,CAAU,IAAI,CAAC5B,KAAGG,CAAJ,IAAOH,CAArB,IAA0B,CAAhC,IAAqCC,CAA5C;AACA,EArEF;AAsEC4B,cAAa,qBAAU9B,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACrC,SAAOD,IAAIe,KAAKW,IAAL,CAAU,IAAI,CAAC5B,IAAEA,IAAEG,CAAF,GAAI,CAAP,IAAUH,CAAxB,CAAJ,GAAiCC,CAAxC;AACA,EAxEF;AAyEC6B,gBAAe,uBAAU/B,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACvC,MAAI,CAACH,KAAGG,IAAE,CAAN,IAAW,CAAf,EAAkB,OAAO,CAACD,CAAD,GAAG,CAAH,IAAQe,KAAKW,IAAL,CAAU,IAAI5B,IAAEA,CAAhB,IAAqB,CAA7B,IAAkCC,CAAzC;AAClB,SAAOC,IAAE,CAAF,IAAOe,KAAKW,IAAL,CAAU,IAAI,CAAC5B,KAAG,CAAJ,IAAOA,CAArB,IAA0B,CAAjC,IAAsCC,CAA7C;AACA,EA5EF;AA6EC8B,gBAAe,uBAAUhC,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACvC,MAAI6B,IAAE,OAAN,CAAc,IAAIC,IAAE,CAAN,CAAQ,IAAIC,IAAEhC,CAAN;AACtB,MAAIF,KAAG,CAAP,EAAU,OAAOC,CAAP,CAAW,IAAI,CAACD,KAAGG,CAAJ,KAAQ,CAAZ,EAAe,OAAOF,IAAEC,CAAT,CAAa,IAAI,CAAC+B,CAAL,EAAQA,IAAE9B,IAAE,EAAJ;AACzD,MAAI+B,IAAIjB,KAAKkB,GAAL,CAASjC,CAAT,CAAR,EAAqB;AAAEgC,OAAEhC,CAAF,CAAK,IAAI8B,IAAEC,IAAE,CAAR;AAAY,GAAxC,MACK,IAAID,IAAIC,KAAG,IAAEhB,KAAKE,EAAV,IAAgBF,KAAKmB,IAAL,CAAWlC,IAAEgC,CAAb,CAAxB;AACL,SAAO,EAAEA,IAAEjB,KAAKO,GAAL,CAAS,CAAT,EAAW,MAAIxB,KAAG,CAAP,CAAX,CAAF,GAA0BiB,KAAKI,GAAL,CAAU,CAACrB,IAAEG,CAAF,GAAI6B,CAAL,KAAS,IAAEf,KAAKE,EAAhB,IAAoBc,CAA9B,CAA5B,IAAiEhC,CAAxE;AACA,EAnFF;AAoFCoC,iBAAgB,wBAAUtC,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACxC,MAAI6B,IAAE,OAAN,CAAc,IAAIC,IAAE,CAAN,CAAQ,IAAIC,IAAEhC,CAAN;AACtB,MAAIF,KAAG,CAAP,EAAU,OAAOC,CAAP,CAAW,IAAI,CAACD,KAAGG,CAAJ,KAAQ,CAAZ,EAAe,OAAOF,IAAEC,CAAT,CAAa,IAAI,CAAC+B,CAAL,EAAQA,IAAE9B,IAAE,EAAJ;AACzD,MAAI+B,IAAIjB,KAAKkB,GAAL,CAASjC,CAAT,CAAR,EAAqB;AAAEgC,OAAEhC,CAAF,CAAK,IAAI8B,IAAEC,IAAE,CAAR;AAAY,GAAxC,MACK,IAAID,IAAIC,KAAG,IAAEhB,KAAKE,EAAV,IAAgBF,KAAKmB,IAAL,CAAWlC,IAAEgC,CAAb,CAAxB;AACL,SAAOA,IAAEjB,KAAKO,GAAL,CAAS,CAAT,EAAW,CAAC,EAAD,GAAIxB,CAAf,CAAF,GAAsBiB,KAAKI,GAAL,CAAU,CAACrB,IAAEG,CAAF,GAAI6B,CAAL,KAAS,IAAEf,KAAKE,EAAhB,IAAoBc,CAA9B,CAAtB,GAA0D/B,CAA1D,GAA8DD,CAArE;AACA,EA1FF;AA2FCqC,mBAAkB,0BAAUvC,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AAC1C,MAAI6B,IAAE,OAAN,CAAc,IAAIC,IAAE,CAAN,CAAQ,IAAIC,IAAEhC,CAAN;AACtB,MAAIF,KAAG,CAAP,EAAU,OAAOC,CAAP,CAAW,IAAI,CAACD,KAAGG,IAAE,CAAN,KAAU,CAAd,EAAiB,OAAOF,IAAEC,CAAT,CAAa,IAAI,CAAC+B,CAAL,EAAQA,IAAE9B,KAAG,KAAG,GAAN,CAAF;AAC3D,MAAI+B,IAAIjB,KAAKkB,GAAL,CAASjC,CAAT,CAAR,EAAqB;AAAEgC,OAAEhC,CAAF,CAAK,IAAI8B,IAAEC,IAAE,CAAR;AAAY,GAAxC,MACK,IAAID,IAAIC,KAAG,IAAEhB,KAAKE,EAAV,IAAgBF,KAAKmB,IAAL,CAAWlC,IAAEgC,CAAb,CAAxB;AACL,MAAIlC,IAAI,CAAR,EAAW,OAAO,CAAC,EAAD,IAAKkC,IAAEjB,KAAKO,GAAL,CAAS,CAAT,EAAW,MAAIxB,KAAG,CAAP,CAAX,CAAF,GAA0BiB,KAAKI,GAAL,CAAU,CAACrB,IAAEG,CAAF,GAAI6B,CAAL,KAAS,IAAEf,KAAKE,EAAhB,IAAoBc,CAA9B,CAA/B,IAAoEhC,CAA3E;AACX,SAAOiC,IAAEjB,KAAKO,GAAL,CAAS,CAAT,EAAW,CAAC,EAAD,IAAKxB,KAAG,CAAR,CAAX,CAAF,GAA2BiB,KAAKI,GAAL,CAAU,CAACrB,IAAEG,CAAF,GAAI6B,CAAL,KAAS,IAAEf,KAAKE,EAAhB,IAAoBc,CAA9B,CAA3B,GAA6D,EAA7D,GAAkE/B,CAAlE,GAAsED,CAA7E;AACA,EAlGF;AAmGCsC,aAAY,oBAAUxC,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB6B,CAAzB,EAA4B;AACvC,MAAIA,KAAKQ,SAAT,EAAoBR,IAAI,OAAJ;AACpB,SAAO9B,KAAGF,KAAGG,CAAN,IAASH,CAAT,IAAY,CAACgC,IAAE,CAAH,IAAMhC,CAAN,GAAUgC,CAAtB,IAA2B/B,CAAlC;AACA,EAtGF;AAuGCwC,cAAa,qBAAU1C,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB6B,CAAzB,EAA4B;AACxC,MAAIA,KAAKQ,SAAT,EAAoBR,IAAI,OAAJ;AACpB,SAAO9B,KAAG,CAACF,IAAEA,IAAEG,CAAF,GAAI,CAAP,IAAUH,CAAV,IAAa,CAACgC,IAAE,CAAH,IAAMhC,CAAN,GAAUgC,CAAvB,IAA4B,CAA/B,IAAoC/B,CAA3C;AACA,EA1GF;AA2GCyC,gBAAe,uBAAU3C,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB6B,CAAzB,EAA4B;AAC1C,MAAIA,KAAKQ,SAAT,EAAoBR,IAAI,OAAJ;AACpB,MAAI,CAAChC,KAAGG,IAAE,CAAN,IAAW,CAAf,EAAkB,OAAOD,IAAE,CAAF,IAAKF,IAAEA,CAAF,IAAK,CAAC,CAACgC,KAAI,KAAL,IAAa,CAAd,IAAiBhC,CAAjB,GAAqBgC,CAA1B,CAAL,IAAqC/B,CAA5C;AAClB,SAAOC,IAAE,CAAF,IAAK,CAACF,KAAG,CAAJ,IAAOA,CAAP,IAAU,CAAC,CAACgC,KAAI,KAAL,IAAa,CAAd,IAAiBhC,CAAjB,GAAqBgC,CAA/B,IAAoC,CAAzC,IAA8C/B,CAArD;AACA,EA/GF;AAgHC0C,eAAc,sBAAU5C,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACtC,SAAOD,IAAIR,OAAOC,MAAP,CAAciD,aAAd,CAA6B7C,CAA7B,EAAgCI,IAAEH,CAAlC,EAAqC,CAArC,EAAwCE,CAAxC,EAA2CC,CAA3C,CAAJ,GAAoDF,CAA3D;AACA,EAlHF;AAmHC2C,gBAAe,uBAAU7C,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACvC,MAAI,CAACH,KAAGG,CAAJ,IAAU,IAAE,IAAhB,EAAuB;AACtB,UAAOD,KAAG,SAAOF,CAAP,GAASA,CAAZ,IAAiBC,CAAxB;AACA,GAFD,MAEO,IAAID,IAAK,IAAE,IAAX,EAAkB;AACxB,UAAOE,KAAG,UAAQF,KAAI,MAAI,IAAhB,IAAuBA,CAAvB,GAA2B,GAA9B,IAAqCC,CAA5C;AACA,GAFM,MAEA,IAAID,IAAK,MAAI,IAAb,EAAoB;AAC1B,UAAOE,KAAG,UAAQF,KAAI,OAAK,IAAjB,IAAwBA,CAAxB,GAA4B,KAA/B,IAAwCC,CAA/C;AACA,GAFM,MAEA;AACN,UAAOC,KAAG,UAAQF,KAAI,QAAM,IAAlB,IAAyBA,CAAzB,GAA6B,OAAhC,IAA2CC,CAAlD;AACA;AACD,EA7HF;AA8HC4C,kBAAiB,yBAAU9C,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACzC,MAAIH,IAAIG,IAAE,CAAV,EAAa,OAAOT,OAAOC,MAAP,CAAcgD,YAAd,CAA4B5C,CAA5B,EAA+BC,IAAE,CAAjC,EAAoC,CAApC,EAAuCE,CAAvC,EAA0CC,CAA1C,IAA+C,EAA/C,GAAoDF,CAA3D;AACb,SAAOP,OAAOC,MAAP,CAAciD,aAAd,CAA6B7C,CAA7B,EAAgCC,IAAE,CAAF,GAAIG,CAApC,EAAuC,CAAvC,EAA0CD,CAA1C,EAA6CC,CAA7C,IAAkD,EAAlD,GAAuDD,IAAE,EAAzD,GAA8DD,CAArE;AACA;AAjIF,CADA;;AAqIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA+BG;AACH,CAAC,UAAS6C,MAAT,EAAgB;AACf,KAAGA,OAAOC,OAAV,EAAkB;AAChBC,gBAAc,EAAd;AACD,EAFD,MAEO;AACLF,SAAOE,WAAP,GAAqB,EAArB;AACD;AACF,CAND,EAMGF,MANH;;AASA;AACAE,YAAYC,IAAZ,GAAoB,YAAW;AAC7B,UAASC,EAAT,GAAc;AACZ,SAAOjC,KAAKkC,KAAL,CAAW,CAAC,IAAIlC,KAAKmC,MAAL,EAAL,IAAsB,OAAjC,EACJC,QADI,CACK,EADL,EAEJC,SAFI,CAEM,CAFN,CAAP;AAGD;AACD,QAAO,YAAW;AAChB,SAAOJ,OAAOA,IAAP,GAAc,GAAd,GAAoBA,IAApB,GAA2B,GAA3B,GAAiCA,IAAjC,GAAwC,GAAxC,GACAA,IADA,GACO,GADP,GACaA,IADb,GACoBA,IADpB,GAC2BA,IADlC;AAED,EAHD;AAID,CAVkB,EAAnB;;AAYAF,YAAYO,sBAAZ,GAAqC,UAASC,OAAT,EAAkB;AACnD,KAAIC,WAAWC,EAAEF,OAAF,CAAf;AACA,KAAIG,iBAAiBF,SAASG,GAAT,CAAaH,SAASI,OAAT,EAAb,CAArB;AACA,KAAIC,UAAU,KAAd;AACAH,gBAAeI,IAAf,CAAoB,YAAU;AAC1B,MAAIL,EAAE,IAAF,EAAQM,GAAR,CAAY,UAAZ,MAA4B,OAAhC,EAAyC;AACrCF,aAAU,IAAV;AACA,UAAO,KAAP;AACH;AACJ,EALD;AAMA,QAAOA,OAAP;AACH,CAXD;;AAaA;AACA,IAAIG,GAAJ;AACA,IAAIP,CAAJ,EAAO;AACLO,OAAMP,EAAEQ,QAAR;AACD,CAFD,MAEO,IAAIxE,MAAJ,EAAY;AACjBuE,OAAMvE,OAAOwE,QAAb;AACD,CAFM,MAEA;AACLD,OAAMC,QAAN;AACD;AACD;AACA;AACA;AACAxE,OAAOwE,QAAP,GAAgBC,QAAQC,GAAR,CAAY,sHAAZ,CAAhB,IAAqJ,CAAC,UAASC,CAAT,EAAW;AAAC,UAASrE,CAAT,CAAWqE,CAAX,EAAa;AAAC,MAAIrE,IAAEqE,EAAEC,MAAR;AAAA,MAAepC,IAAEqC,EAAEC,IAAF,CAAOH,CAAP,CAAjB,CAA2B,OAAM,eAAanC,CAAb,IAAgBqC,EAAEE,QAAF,CAAWJ,CAAX,CAAhB,GAA8B,CAAC,CAA/B,GAAiC,MAAIA,EAAEK,QAAN,IAAgB1E,CAAhB,GAAkB,CAAC,CAAnB,GAAqB,YAAUkC,CAAV,IAAa,MAAIlC,CAAjB,IAAoB,YAAU,OAAOA,CAAjB,IAAoBA,IAAE,CAAtB,IAAyBA,IAAE,CAAF,IAAOqE,CAAhH;AAAkH,MAAG,CAACA,EAAE3E,MAAN,EAAa;AAAC,MAAI6E,IAAE,SAAFA,CAAE,CAASF,CAAT,EAAWrE,CAAX,EAAa;AAAC,UAAO,IAAIuE,EAAEI,EAAF,CAAKC,IAAT,CAAcP,CAAd,EAAgBrE,CAAhB,CAAP;AAA0B,GAA9C,CAA+CuE,EAAEE,QAAF,GAAW,UAASJ,CAAT,EAAW;AAAC,UAAO,QAAMA,CAAN,IAASA,KAAGA,EAAEvB,MAArB;AAA4B,GAAnD,EAAoDyB,EAAEC,IAAF,GAAO,UAASH,CAAT,EAAW;AAAC,UAAO,QAAMA,CAAN,GAAQA,IAAE,EAAV,GAAa,oBAAiBA,CAAjB,yCAAiBA,CAAjB,MAAoB,cAAY,OAAOA,CAAvC,GAAyCQ,EAAEC,EAAEC,IAAF,CAAOV,CAAP,CAAF,KAAc,QAAvD,UAAuEA,CAAvE,yCAAuEA,CAAvE,CAApB;AAA6F,GAApK,EAAqKE,EAAES,OAAF,GAAUC,MAAMD,OAAN,IAAe,UAASX,CAAT,EAAW;AAAC,UAAM,YAAUE,EAAEC,IAAF,CAAOH,CAAP,CAAhB;AAA0B,GAApO,EAAqOE,EAAEW,aAAF,GAAgB,UAASb,CAAT,EAAW;AAAC,OAAIrE,CAAJ,CAAM,IAAG,CAACqE,CAAD,IAAI,aAAWE,EAAEC,IAAF,CAAOH,CAAP,CAAf,IAA0BA,EAAEK,QAA5B,IAAsCH,EAAEE,QAAF,CAAWJ,CAAX,CAAzC,EAAuD,OAAM,CAAC,CAAP,CAAS,IAAG;AAAC,QAAGA,EAAEc,WAAF,IAAe,CAACC,EAAEL,IAAF,CAAOV,CAAP,EAAS,aAAT,CAAhB,IAAyC,CAACe,EAAEL,IAAF,CAAOV,EAAEc,WAAF,CAAcE,SAArB,EAA+B,eAA/B,CAA7C,EAA6F,OAAM,CAAC,CAAP;AAAS,IAA1G,CAA0G,OAAMnD,CAAN,EAAQ;AAAC,WAAM,CAAC,CAAP;AAAS,SAAIlC,CAAJ,IAASqE,CAAT,IAAY,OAAO,KAAK,CAAL,KAASrE,CAAT,IAAYoF,EAAEL,IAAF,CAAOV,CAAP,EAASrE,CAAT,CAAnB;AAA+B,GAA9e,EAA+euE,EAAER,IAAF,GAAO,UAASM,CAAT,EAAWE,CAAX,EAAarC,CAAb,EAAe;AAAC,OAAI2C,CAAJ;AAAA,OAAMO,IAAE,CAAR;AAAA,OAAUN,IAAET,EAAEC,MAAd;AAAA,OAAqBtC,IAAEhC,EAAEqE,CAAF,CAAvB,CAA4B,IAAGnC,CAAH,EAAK;AAAC,QAAGF,CAAH,EAAK,OAAK8C,IAAEM,CAAF,KAAMP,IAAEN,EAAEe,KAAF,CAAQjB,EAAEe,CAAF,CAAR,EAAalD,CAAb,CAAF,EAAkB2C,MAAI,CAAC,CAA7B,CAAL,EAAqCO,GAArC,IAAL,MAAoD,KAAIA,CAAJ,IAASf,CAAT;AAAW,SAAGQ,IAAEN,EAAEe,KAAF,CAAQjB,EAAEe,CAAF,CAAR,EAAalD,CAAb,CAAF,EAAkB2C,MAAI,CAAC,CAA1B,EAA4B;AAAvC;AAA6C,IAAvG,MAA4G,IAAG7C,CAAH,EAAK,OAAK8C,IAAEM,CAAF,KAAMP,IAAEN,EAAEQ,IAAF,CAAOV,EAAEe,CAAF,CAAP,EAAYA,CAAZ,EAAcf,EAAEe,CAAF,CAAd,CAAF,EAAsBP,MAAI,CAAC,CAAjC,CAAL,EAAyCO,GAAzC,IAAL,MAAwD,KAAIA,CAAJ,IAASf,CAAT;AAAW,QAAGQ,IAAEN,EAAEQ,IAAF,CAAOV,EAAEe,CAAF,CAAP,EAAYA,CAAZ,EAAcf,EAAEe,CAAF,CAAd,CAAF,EAAsBP,MAAI,CAAC,CAA9B,EAAgC;AAA3C,IAAiD,OAAOR,CAAP;AAAS,GAAhwB,EAAiwBE,EAAEgB,IAAF,GAAO,UAASlB,CAAT,EAAWrE,CAAX,EAAa6E,CAAb,EAAe;AAAC,OAAG,KAAK,CAAL,KAASA,CAAZ,EAAc;AAAC,QAAIO,IAAEf,EAAEE,EAAEiB,OAAJ,CAAN;AAAA,QAAmBV,IAAEM,KAAGlD,EAAEkD,CAAF,CAAxB,CAA6B,IAAG,KAAK,CAAL,KAASpF,CAAZ,EAAc,OAAO8E,CAAP,CAAS,IAAGA,KAAG9E,KAAK8E,CAAX,EAAa,OAAOA,EAAE9E,CAAF,CAAP;AAAY,IAA5F,MAAiG,IAAG,KAAK,CAAL,KAASA,CAAZ,EAAc;AAAC,QAAIoF,IAAEf,EAAEE,EAAEiB,OAAJ,MAAenB,EAAEE,EAAEiB,OAAJ,IAAa,EAAEjB,EAAEkB,IAAhC,CAAN,CAA4C,OAAOvD,EAAEkD,CAAF,IAAKlD,EAAEkD,CAAF,KAAM,EAAX,EAAclD,EAAEkD,CAAF,EAAKpF,CAAL,IAAQ6E,CAAtB,EAAwBA,CAA/B;AAAiC;AAAC,GAAt9B,EAAu9BN,EAAEmB,UAAF,GAAa,UAASrB,CAAT,EAAWrE,CAAX,EAAa;AAAC,OAAI6E,IAAER,EAAEE,EAAEiB,OAAJ,CAAN;AAAA,OAAmBJ,IAAEP,KAAG3C,EAAE2C,CAAF,CAAxB,CAA6BO,KAAGb,EAAER,IAAF,CAAO/D,CAAP,EAAS,UAASqE,CAAT,EAAWrE,CAAX,EAAa;AAAC,WAAOoF,EAAEpF,CAAF,CAAP;AAAY,IAAnC,CAAH;AAAwC,GAAvjC,EAAwjCuE,EAAE3E,MAAF,GAAS,YAAU;AAAC,OAAIyE,CAAJ;AAAA,OAAMrE,CAAN;AAAA,OAAQkC,CAAR;AAAA,OAAU2C,CAAV;AAAA,OAAYO,CAAZ;AAAA,OAAcN,CAAd;AAAA,OAAgB9C,IAAE2D,UAAU,CAAV,KAAc,EAAhC;AAAA,OAAmCC,IAAE,CAArC;AAAA,OAAuCC,IAAEF,UAAUrB,MAAnD;AAAA,OAA0DpE,IAAE,CAAC,CAA7D,CAA+D,KAAI,aAAW,OAAO8B,CAAlB,KAAsB9B,IAAE8B,CAAF,EAAIA,IAAE2D,UAAUC,CAAV,KAAc,EAApB,EAAuBA,GAA7C,GAAkD,oBAAiB5D,CAAjB,yCAAiBA,CAAjB,MAAoB,eAAauC,EAAEC,IAAF,CAAOxC,CAAP,CAAjC,KAA6CA,IAAE,EAA/C,CAAlD,EAAqG4D,MAAIC,CAAJ,KAAQ7D,IAAE,IAAF,EAAO4D,GAAf,CAAzG,EAA6HC,IAAED,CAA/H,EAAiIA,GAAjI;AAAqI,QAAG,SAAOR,IAAEO,UAAUC,CAAV,CAAT,CAAH,EAA0B,KAAIf,CAAJ,IAASO,CAAT;AAAWf,SAAErC,EAAE6C,CAAF,CAAF,EAAO3C,IAAEkD,EAAEP,CAAF,CAAT,EAAc7C,MAAIE,CAAJ,KAAQhC,KAAGgC,CAAH,KAAOqC,EAAEW,aAAF,CAAgBhD,CAAhB,MAAqBlC,IAAEuE,EAAES,OAAF,CAAU9C,CAAV,CAAvB,CAAP,KAA8ClC,KAAGA,IAAE,CAAC,CAAH,EAAK8E,IAAET,KAAGE,EAAES,OAAF,CAAUX,CAAV,CAAH,GAAgBA,CAAhB,GAAkB,EAA5B,IAAgCS,IAAET,KAAGE,EAAEW,aAAF,CAAgBb,CAAhB,CAAH,GAAsBA,CAAtB,GAAwB,EAA1D,EAA6DrC,EAAE6C,CAAF,IAAKN,EAAE3E,MAAF,CAASM,CAAT,EAAW4E,CAAX,EAAa5C,CAAb,CAAhH,IAAiI,KAAK,CAAL,KAASA,CAAT,KAAaF,EAAE6C,CAAF,IAAK3C,CAAlB,CAAzI,CAAd;AAAX;AAA/J,IAAuV,OAAOF,CAAP;AAAS,GAA3+C,EAA4+CuC,EAAEuB,KAAF,GAAQ,UAASzB,CAAT,EAAWnC,CAAX,EAAa2C,CAAb,EAAe;AAAC,YAASO,CAAT,CAAWf,CAAX,EAAaE,CAAb,EAAe;AAAC,QAAIrC,IAAEqC,KAAG,EAAT,CAAY,OAAO,QAAMF,CAAN,KAAUrE,EAAE+F,OAAO1B,CAAP,CAAF,IAAa,CAAC,UAASA,CAAT,EAAWrE,CAAX,EAAa;AAAC,UAAI,IAAIuE,IAAE,CAACvE,EAAEsE,MAAT,EAAgBpC,IAAE,CAAlB,EAAoB2C,IAAER,EAAEC,MAA5B,EAAmCC,IAAErC,CAArC;AAAwCmC,QAAEQ,GAAF,IAAO7E,EAAEkC,GAAF,CAAP;AAAxC,MAAsD,IAAGqC,MAAIA,CAAP,EAAS,OAAK,KAAK,CAAL,KAASvE,EAAEkC,CAAF,CAAd;AAAoBmC,QAAEQ,GAAF,IAAO7E,EAAEkC,GAAF,CAAP;AAApB,MAAkC,OAAOmC,EAAEC,MAAF,GAASO,CAAT,EAAWR,CAAlB;AAAoB,KAAnI,CAAoInC,CAApI,EAAsI,YAAU,OAAOmC,CAAjB,GAAmB,CAACA,CAAD,CAAnB,GAAuBA,CAA7J,CAAd,GAA8K,GAAG2B,IAAH,CAAQjB,IAAR,CAAa7C,CAAb,EAAemC,CAAf,CAAxL,GAA2MnC,CAAlN;AAAoN,QAAGmC,CAAH,EAAK;AAACnC,QAAE,CAACA,KAAG,IAAJ,IAAU,OAAZ,CAAoB,IAAI4C,IAAEP,EAAEgB,IAAF,CAAOlB,CAAP,EAASnC,CAAT,CAAN,CAAkB,OAAO2C,KAAG,CAACC,CAAD,IAAIP,EAAES,OAAF,CAAUH,CAAV,CAAJ,GAAiBC,IAAEP,EAAEgB,IAAF,CAAOlB,CAAP,EAASnC,CAAT,EAAWkD,EAAEP,CAAF,CAAX,CAAnB,GAAoCC,EAAEkB,IAAF,CAAOnB,CAAP,CAApC,EAA8CC,CAAjD,IAAoDA,KAAG,EAA9D;AAAiE;AAAC,GAAl2D,EAAm2DP,EAAE0B,OAAF,GAAU,UAAS5B,CAAT,EAAWrE,CAAX,EAAa;AAACuE,KAAER,IAAF,CAAOM,EAAEK,QAAF,GAAW,CAACL,CAAD,CAAX,GAAeA,CAAtB,EAAwB,UAASA,CAAT,EAAWnC,CAAX,EAAa;AAAClC,QAAEA,KAAG,IAAL,CAAU,IAAI6E,IAAEN,EAAEuB,KAAF,CAAQ5D,CAAR,EAAUlC,CAAV,CAAN;AAAA,QAAmBoF,IAAEP,EAAEqB,KAAF,EAArB,CAA+B,iBAAed,CAAf,KAAmBA,IAAEP,EAAEqB,KAAF,EAArB,GAAgCd,MAAI,SAAOpF,CAAP,IAAU6E,EAAEsB,OAAF,CAAU,YAAV,CAAV,EAAkCf,EAAEL,IAAF,CAAO7C,CAAP,EAAS,YAAU;AAACqC,OAAE0B,OAAF,CAAU/D,CAAV,EAAYlC,CAAZ;AAAe,KAAnC,CAAtC,CAAhC;AAA4G,IAA3L;AAA6L,GAAxjE,EAAyjEuE,EAAEI,EAAF,GAAKJ,EAAEc,SAAF,GAAY,EAACT,MAAK,cAASP,CAAT,EAAW;AAAC,QAAGA,EAAEK,QAAL,EAAc,OAAO,KAAK,CAAL,IAAQL,CAAR,EAAU,IAAjB,CAAsB,MAAM,IAAI+B,KAAJ,CAAU,iBAAV,CAAN;AAAmC,IAAzF,EAA0FC,QAAO,kBAAU;AAAC,QAAIrG,IAAE,KAAK,CAAL,EAAQsG,qBAAR,GAA8B,KAAK,CAAL,EAAQA,qBAAR,EAA9B,GAA8D,EAACC,KAAI,CAAL,EAAOC,MAAK,CAAZ,EAApE,CAAmF,OAAM,EAACD,KAAIvG,EAAEuG,GAAF,IAAOlC,EAAEoC,WAAF,IAAeC,SAASC,SAAxB,IAAmC,CAA1C,KAA8CD,SAASE,SAAT,IAAoB,CAAlE,CAAL,EAA0EJ,MAAKxG,EAAEwG,IAAF,IAAQnC,EAAEwC,WAAF,IAAeH,SAASI,UAAxB,IAAoC,CAA5C,KAAgDJ,SAASK,UAAT,IAAqB,CAArE,CAA/E,EAAN;AAA8J,IAA7V,EAA8VC,UAAS,oBAAU;AAAC,aAAS3C,CAAT,GAAY;AAAC,UAAI,IAAIA,IAAE,KAAK4C,YAAL,IAAmBP,QAA7B,EAAsCrC,KAAG,WAAS,CAACA,EAAEK,QAAF,CAAWwC,WAAxB,IAAqC,aAAW7C,EAAE8C,KAAF,CAAQH,QAA9F;AAAwG3C,UAAEA,EAAE4C,YAAJ;AAAxG,MAAyH,OAAO5C,KAAGqC,QAAV;AAAmB,SAAI1G,IAAE,KAAK,CAAL,CAAN;AAAA,QAAcqE,IAAEA,EAAEiB,KAAF,CAAQtF,CAAR,CAAhB;AAAA,QAA2BkC,IAAE,KAAKmE,MAAL,EAA7B;AAAA,QAA2CxB,IAAE,mBAAmBuC,IAAnB,CAAwB/C,EAAEgD,QAA1B,IAAoC,EAACd,KAAI,CAAL,EAAOC,MAAK,CAAZ,EAApC,GAAmDjC,EAAEF,CAAF,EAAKgC,MAAL,EAAhG,CAA8G,OAAOnE,EAAEqE,GAAF,IAAOe,WAAWtH,EAAEmH,KAAF,CAAQI,SAAnB,KAA+B,CAAtC,EAAwCrF,EAAEsE,IAAF,IAAQc,WAAWtH,EAAEmH,KAAF,CAAQK,UAAnB,KAAgC,CAAhF,EAAkFnD,EAAE8C,KAAF,KAAUtC,EAAE0B,GAAF,IAAOe,WAAWjD,EAAE8C,KAAF,CAAQM,cAAnB,KAAoC,CAA3C,EAA6C5C,EAAE2B,IAAF,IAAQc,WAAWjD,EAAE8C,KAAF,CAAQO,eAAnB,KAAqC,CAApG,CAAlF,EAAyL,EAACnB,KAAIrE,EAAEqE,GAAF,GAAM1B,EAAE0B,GAAb,EAAiBC,MAAKtE,EAAEsE,IAAF,GAAO3B,EAAE2B,IAA/B,EAAhM;AAAqO,IAA91B,EAA1kE,CAA06F,IAAItE,IAAE,EAAN,CAASqC,EAAEiB,OAAF,GAAU,aAAY,IAAImC,IAAJ,EAAD,CAAWC,OAAX,EAArB,EAA0CrD,EAAEkB,IAAF,GAAO,CAAjD,CAAmD,KAAI,IAAIZ,IAAE,EAAN,EAASO,IAAEP,EAAEgD,cAAb,EAA4B/C,IAAED,EAAExB,QAAhC,EAAyCrB,IAAE,gEAAgE8F,KAAhE,CAAsE,GAAtE,CAA3C,EAAsHlC,IAAE,CAA5H,EAA8HA,IAAE5D,EAAEsC,MAAlI,EAAyIsB,GAAzI;AAA6If,KAAE,aAAW7C,EAAE4D,CAAF,CAAX,GAAgB,GAAlB,IAAuB5D,EAAE4D,CAAF,EAAKsB,WAAL,EAAvB;AAA7I,GAAuL3C,EAAEI,EAAF,CAAKC,IAAL,CAAUS,SAAV,GAAoBd,EAAEI,EAAtB,EAAyBN,EAAEH,QAAF,GAAW,EAAC6D,WAAUxD,CAAX,EAApC;AAAkD;AAAC,CAAp7G,CAAq7GzB,MAAr7G,CAAD,EAA87G,UAASuB,CAAT,EAAW;AAAC,qBAAiB2D,MAAjB,yCAAiBA,MAAjB,MAAyB,oBAAiBA,OAAOC,OAAxB,CAAzB,GAAyDD,OAAOC,OAAP,GAAe5D,GAAxE,GAA4E,cAAY,OAAO6D,MAAnB,IAA2BA,OAAOC,GAAlC,GAAsCD,OAAO7D,CAAP,CAAtC,GAAgDA,GAA5H;AAAgI,CAA5I,CAA6I,YAAU;AAAC,QAAO,UAASA,CAAT,EAAWrE,CAAX,EAAauE,CAAb,EAAerC,CAAf,EAAiB;AAAC,WAAS2C,CAAT,CAAWR,CAAX,EAAa;AAAC,QAAI,IAAIrE,IAAE,CAAC,CAAP,EAASuE,IAAEF,IAAEA,EAAEC,MAAJ,GAAW,CAAtB,EAAwBpC,IAAE,EAA9B,EAAiC,EAAElC,CAAF,GAAIuE,CAArC,GAAwC;AAAC,QAAIM,IAAER,EAAErE,CAAF,CAAN,CAAW6E,KAAG3C,EAAE8D,IAAF,CAAOnB,CAAP,CAAH;AAAa,WAAO3C,CAAP;AAAS,YAASkD,CAAT,CAAWf,CAAX,EAAa;AAAC,UAAO+D,EAAEC,SAAF,CAAYhE,CAAZ,IAAeA,IAAE,GAAGiE,KAAH,CAASvD,IAAT,CAAcV,CAAd,CAAjB,GAAkC+D,EAAEG,MAAF,CAASlE,CAAT,MAAcA,IAAE,CAACA,CAAD,CAAhB,CAAlC,EAAuDA,CAA9D;AAAgE,YAASS,CAAT,CAAWT,CAAX,EAAa;AAAC,OAAIrE,IAAEwI,EAAEjD,IAAF,CAAOlB,CAAP,EAAS,UAAT,CAAN,CAA2B,OAAO,SAAOrE,CAAP,GAASkC,CAAT,GAAWlC,CAAlB;AAAoB,YAASgC,CAAT,CAAWqC,CAAX,EAAa;AAAC,UAAO,UAASrE,CAAT,EAAW;AAAC,WAAOiB,KAAKwH,KAAL,CAAWzI,IAAEqE,CAAb,KAAiB,IAAEA,CAAnB,CAAP;AAA6B,IAAhD;AAAiD,YAASuB,CAAT,CAAWvB,CAAX,EAAaE,CAAb,EAAerC,CAAf,EAAiB2C,CAAjB,EAAmB;AAAC,YAASO,CAAT,CAAWf,CAAX,EAAarE,CAAb,EAAe;AAAC,WAAO,IAAE,IAAEA,CAAJ,GAAM,IAAEqE,CAAf;AAAiB,aAASS,CAAT,CAAWT,CAAX,EAAarE,CAAb,EAAe;AAAC,WAAO,IAAEA,CAAF,GAAI,IAAEqE,CAAb;AAAe,aAASrC,CAAT,CAAWqC,CAAX,EAAa;AAAC,WAAO,IAAEA,CAAT;AAAW,aAASuB,CAAT,CAAWvB,CAAX,EAAarE,CAAb,EAAeuE,CAAf,EAAiB;AAAC,WAAM,CAAC,CAACa,EAAEpF,CAAF,EAAIuE,CAAJ,IAAOF,CAAP,GAASS,EAAE9E,CAAF,EAAIuE,CAAJ,CAAV,IAAkBF,CAAlB,GAAoBrC,EAAEhC,CAAF,CAArB,IAA2BqE,CAAjC;AAAmC,aAASwB,CAAT,CAAWxB,CAAX,EAAarE,CAAb,EAAeuE,CAAf,EAAiB;AAAC,WAAO,IAAEa,EAAEpF,CAAF,EAAIuE,CAAJ,CAAF,GAASF,CAAT,GAAWA,CAAX,GAAa,IAAES,EAAE9E,CAAF,EAAIuE,CAAJ,CAAF,GAASF,CAAtB,GAAwBrC,EAAEhC,CAAF,CAA/B;AAAoC,aAASE,CAAT,CAAWF,CAAX,EAAauE,CAAb,EAAe;AAAC,SAAI,IAAIM,IAAE,CAAV,EAAYuD,IAAEvD,CAAd,EAAgB,EAAEA,CAAlB,EAAoB;AAAC,SAAIO,IAAES,EAAEtB,CAAF,EAAIF,CAAJ,EAAMnC,CAAN,CAAN,CAAe,IAAG,MAAIkD,CAAP,EAAS,OAAOb,CAAP,CAAS,IAAIO,IAAEc,EAAErB,CAAF,EAAIF,CAAJ,EAAMnC,CAAN,IAASlC,CAAf,CAAiBuE,KAAGO,IAAEM,CAAL;AAAO,YAAOb,CAAP;AAAS,aAAStC,CAAT,GAAY;AAAC,SAAI,IAAIjC,IAAE,CAAV,EAAYC,IAAED,CAAd,EAAgB,EAAEA,CAAlB;AAAoB0I,OAAE1I,CAAF,IAAK4F,EAAE5F,IAAED,CAAJ,EAAMsE,CAAN,EAAQnC,CAAR,CAAL;AAApB;AAAoC,aAASsG,CAAT,CAAWxI,CAAX,EAAauE,CAAb,EAAeM,CAAf,EAAiB;AAAC,QAAIO,CAAJ;AAAA,QAAMN,CAAN;AAAA,QAAQ9C,IAAE,CAAV,CAAY;AAAG8C,SAAEP,IAAE,CAACM,IAAEN,CAAH,IAAM,CAAV,EAAYa,IAAEQ,EAAEd,CAAF,EAAIT,CAAJ,EAAMnC,CAAN,IAASlC,CAAvB,EAAyBoF,IAAE,CAAF,GAAIP,IAAEC,CAAN,GAAQP,IAAEO,CAAnC;AAAH,aAA8C7D,KAAKkB,GAAL,CAASiD,CAAT,IAAYuD,CAAZ,IAAe,EAAE3G,CAAF,GAAI4G,CAAjE,EAAoE,OAAO9D,CAAP;AAAS,aAAS3E,CAAT,CAAWH,CAAX,EAAa;AAAC,SAAI,IAAIuE,IAAE,CAAN,EAAQM,IAAE,CAAV,EAAYO,IAAEnF,IAAE,CAApB,EAAsB4E,KAAGO,CAAH,IAAMsD,EAAE7D,CAAF,KAAM7E,CAAlC,EAAoC,EAAE6E,CAAtC;AAAwCN,UAAGxE,CAAH;AAAxC,KAA6C,EAAE8E,CAAF,CAAI,IAAIC,IAAE,CAAC9E,IAAE0I,EAAE7D,CAAF,CAAH,KAAU6D,EAAE7D,IAAE,CAAJ,IAAO6D,EAAE7D,CAAF,CAAjB,CAAN;AAAA,QAA6B7C,IAAEuC,IAAEO,IAAE/E,CAAnC;AAAA,QAAqC6F,IAAEC,EAAE7D,CAAF,EAAIqC,CAAJ,EAAMnC,CAAN,CAAvC,CAAgD,OAAO0D,KAAGiD,CAAH,GAAK3I,EAAEF,CAAF,EAAIgC,CAAJ,CAAL,GAAY,KAAG4D,CAAH,GAAK5D,CAAL,GAAOwG,EAAExI,CAAF,EAAIuE,CAAJ,EAAMA,IAAExE,CAAR,CAA1B;AAAqC,aAAS+I,CAAT,GAAY;AAACC,QAAE,CAAC,CAAH,EAAK,CAAC1E,KAAGE,CAAH,IAAMrC,KAAG2C,CAAV,KAAc5C,GAAnB;AAAuB,QAAImG,IAAE,CAAN;AAAA,OAAQS,IAAE,IAAV;AAAA,OAAeF,IAAE,IAAjB;AAAA,OAAsBC,IAAE,EAAxB;AAAA,OAA2B3I,IAAE,EAA7B;AAAA,OAAgCF,IAAE,KAAGE,IAAE,CAAL,CAAlC;AAAA,OAA0C+I,IAAE,kBAAiBhJ,CAA7D,CAA+D,IAAG,MAAI2F,UAAUrB,MAAjB,EAAwB,OAAM,CAAC,CAAP,CAAS,KAAI,IAAI2E,IAAE,CAAV,EAAY,IAAEA,CAAd,EAAgB,EAAEA,CAAlB;AAAoB,QAAG,YAAU,OAAOtD,UAAUsD,CAAV,CAAjB,IAA+BC,MAAMvD,UAAUsD,CAAV,CAAN,CAA/B,IAAoD,CAACE,SAASxD,UAAUsD,CAAV,CAAT,CAAxD,EAA+E,OAAM,CAAC,CAAP;AAAnG,IAA4G5E,IAAEpD,KAAKmI,GAAL,CAAS/E,CAAT,EAAW,CAAX,CAAF,EAAgBnC,IAAEjB,KAAKmI,GAAL,CAASlH,CAAT,EAAW,CAAX,CAAlB,EAAgCmC,IAAEpD,KAAKoI,GAAL,CAAShF,CAAT,EAAW,CAAX,CAAlC,EAAgDnC,IAAEjB,KAAKoI,GAAL,CAASnH,CAAT,EAAW,CAAX,CAAlD,CAAgE,IAAIwG,IAAEM,IAAE,IAAIM,YAAJ,CAAiBrJ,CAAjB,CAAF,GAAsB,IAAIgF,KAAJ,CAAUhF,CAAV,CAA5B;AAAA,OAAyC8I,IAAE,CAAC,CAA5C;AAAA,OAA8CQ,IAAE,SAAFA,CAAE,CAASvJ,CAAT,EAAW;AAAC,WAAO+I,KAAGD,GAAH,EAAOzE,MAAIE,CAAJ,IAAOrC,MAAI2C,CAAX,GAAa7E,CAAb,GAAe,MAAIA,CAAJ,GAAM,CAAN,GAAQ,MAAIA,CAAJ,GAAM,CAAN,GAAQ4F,EAAEzF,EAAEH,CAAF,CAAF,EAAOuE,CAAP,EAASM,CAAT,CAA7C;AAAyD,IAArH,CAAsH0E,EAAEC,gBAAF,GAAmB,YAAU;AAAC,WAAM,CAAC,EAACzJ,GAAEsE,CAAH,EAAKwE,GAAEtE,CAAP,EAAD,EAAW,EAACxE,GAAEmC,CAAH,EAAK2G,GAAEhE,CAAP,EAAX,CAAN;AAA4B,IAA1D,CAA2D,IAAI4E,IAAE,oBAAkB,CAACpF,CAAD,EAAGE,CAAH,EAAKrC,CAAL,EAAO2C,CAAP,CAAlB,GAA4B,GAAlC,CAAsC,OAAO0E,EAAElG,QAAF,GAAW,YAAU;AAAC,WAAOoG,CAAP;AAAS,IAA/B,EAAgCF,CAAvC;AAAyC,YAAS1D,CAAT,CAAWxB,CAAX,EAAarE,CAAb,EAAe;AAAC,OAAIuE,IAAEF,CAAN,CAAQ,OAAO+D,EAAEsB,QAAF,CAAWrF,CAAX,IAAcpE,EAAE0J,OAAF,CAAUtF,CAAV,MAAeE,IAAE,CAAC,CAAlB,CAAd,GAAmCA,IAAE6D,EAAEpD,OAAF,CAAUX,CAAV,KAAc,MAAIA,EAAEC,MAApB,GAA2BtC,EAAEsD,KAAF,CAAQ,IAAR,EAAajB,CAAb,CAA3B,GAA2C+D,EAAEpD,OAAF,CAAUX,CAAV,KAAc,MAAIA,EAAEC,MAApB,GAA2BvE,EAAEuF,KAAF,CAAQ,IAAR,EAAajB,EAAEuF,MAAF,CAAS,CAAC5J,CAAD,CAAT,CAAb,CAA3B,GAAuDoI,EAAEpD,OAAF,CAAUX,CAAV,KAAc,MAAIA,EAAEC,MAApB,GAA2BsB,EAAEN,KAAF,CAAQ,IAAR,EAAajB,CAAb,CAA3B,GAA2C,CAAC,CAAnL,EAAqLE,MAAI,CAAC,CAAL,KAASA,IAAEtE,EAAE0J,OAAF,CAAU1J,EAAE4J,QAAF,CAAWlK,MAArB,IAA6BM,EAAE4J,QAAF,CAAWlK,MAAxC,GAA+CiJ,CAA1D,CAArL,EAAkPrE,CAAzP;AAA2P,YAASrE,CAAT,CAAWmE,CAAX,EAAa;AAAC,OAAGA,CAAH,EAAK;AAAC,QAAIrE,IAAG,IAAI2H,IAAJ,EAAD,CAAWC,OAAX,EAAN;AAAA,QAA2BrD,IAAEtE,EAAE6J,KAAF,CAAQC,KAAR,CAAczF,MAA3C,CAAkDC,IAAE,GAAF,KAAQtE,EAAE6J,KAAF,CAAQC,KAAR,GAAclF,EAAE5E,EAAE6J,KAAF,CAAQC,KAAV,CAAtB,EAAwC,KAAI,IAAI3E,IAAE,CAAV,EAAYb,IAAEa,CAAd,EAAgBA,GAAhB;AAAoB,SAAGnF,EAAE6J,KAAF,CAAQC,KAAR,CAAc3E,CAAd,CAAH,EAAoB;AAAC,UAAIpD,IAAE/B,EAAE6J,KAAF,CAAQC,KAAR,CAAc3E,CAAd,CAAN;AAAA,UAAuBQ,IAAE5D,EAAE,CAAF,CAAzB;AAAA,UAA8B6D,IAAE7D,EAAE,CAAF,CAAhC;AAAA,UAAqC7B,IAAE6B,EAAE,CAAF,CAAvC;AAAA,UAA4C8G,IAAE,CAAC,CAAC3I,CAAhD;AAAA,UAAkD0I,IAAE,IAApD,CAAyD1I,MAAIA,IAAEF,EAAE6J,KAAF,CAAQC,KAAR,CAAc3E,CAAd,EAAiB,CAAjB,IAAoBpF,IAAE,EAA5B,EAAgC,KAAI,IAAI2I,IAAE1H,KAAKmI,GAAL,CAAS,CAACpJ,IAAEG,CAAH,IAAM0F,EAAEmE,QAAjB,EAA0B,CAA1B,CAAN,EAAmCpB,IAAE,CAArC,EAAuC7I,IAAE6F,EAAEtB,MAA/C,EAAsDvE,IAAE6I,CAAxD,EAA0DA,GAA1D,EAA8D;AAAC,WAAIK,IAAErD,EAAEgD,CAAF,CAAN;AAAA,WAAWG,IAAEE,EAAEzF,OAAf,CAAuB,IAAGsB,EAAEiE,CAAF,CAAH,EAAQ;AAAC,YAAIQ,IAAE,CAAC,CAAP,CAAS,IAAG1D,EAAEoE,OAAF,KAAY/H,CAAZ,IAAe,SAAO2D,EAAEoE,OAAxB,IAAiC,WAASpE,EAAEoE,OAA/C,EAAuD;AAAC,aAAG,WAASpE,EAAEoE,OAAd,EAAsB;AAAC,cAAIR,IAAE,CAAC,aAAD,EAAe,UAAf,EAA0B,aAA1B,EAAwC,cAAxC,CAAN,CAA8DjB,EAAEzE,IAAF,CAAO0F,CAAP,EAAS,UAASpF,CAAT,EAAWrE,CAAX,EAAa;AAACgJ,aAAEkB,gBAAF,CAAmBnB,CAAnB,EAAqB,SAArB,EAA+B/I,CAA/B;AAAkC,WAAzD;AAA2D,YAAEkK,gBAAF,CAAmBnB,CAAnB,EAAqB,SAArB,EAA+BlD,EAAEoE,OAAjC;AAA0C,WAAEE,UAAF,KAAejI,CAAf,IAAkB,aAAW2D,EAAEsE,UAA/B,IAA2CnB,EAAEkB,gBAAF,CAAmBnB,CAAnB,EAAqB,YAArB,EAAkClD,EAAEsE,UAApC,CAA3C,CAA2F,KAAI,IAAIC,CAAR,IAAanB,CAAb;AAAe,aAAG,cAAYmB,CAAf,EAAiB;AAAC,cAAIC,CAAJ;AAAA,cAAMC,IAAErB,EAAEmB,CAAF,CAAR;AAAA,cAAaG,IAAEnC,EAAEsB,QAAF,CAAWY,EAAE3K,MAAb,IAAqBM,EAAE0J,OAAF,CAAUW,EAAE3K,MAAZ,CAArB,GAAyC2K,EAAE3K,MAA1D,CAAiE,IAAG,MAAIgJ,CAAP,EAAS0B,IAAEC,EAAEE,QAAJ,CAAT,KAA0B;AAAC,eAAIC,IAAEH,EAAEE,QAAF,GAAWF,EAAEI,UAAnB,CAA8B,IAAGL,IAAEC,EAAEI,UAAF,GAAaD,IAAEF,EAAE5B,CAAF,EAAI9C,CAAJ,EAAM4E,CAAN,CAAjB,EAA0B,CAAC3B,CAAD,IAAIuB,MAAIC,EAAEK,YAAvC,EAAoD;AAAS,eAAGL,EAAEK,YAAF,GAAeN,CAAf,EAAiB,YAAUD,CAA9B,EAAgCvB,IAAEwB,CAAF,CAAhC,KAAwC;AAAC,eAAGrB,EAAE4B,KAAF,CAAQC,UAAR,CAAmBT,CAAnB,CAAH,EAAyB;AAAC,gBAAIU,IAAE9B,EAAE4B,KAAF,CAAQG,OAAR,CAAgBX,CAAhB,CAAN;AAAA,gBAAyBY,IAAElG,EAAEiE,CAAF,EAAKkC,sBAAL,CAA4BH,CAA5B,CAA3B,CAA0DE,MAAIV,EAAEY,iBAAF,GAAoBF,CAAxB;AAA2B,gBAAIG,IAAEnC,EAAEkB,gBAAF,CAAmBnB,CAAnB,EAAqBqB,CAArB,EAAuBE,EAAEK,YAAF,IAAgB,MAAIrD,WAAW+C,CAAX,CAAJ,GAAkB,EAAlB,GAAqBC,EAAEc,QAAvC,CAAvB,EAAwEd,EAAEY,iBAA1E,EAA4FZ,EAAEe,UAA9F,CAAN,CAAgHrC,EAAE4B,KAAF,CAAQC,UAAR,CAAmBT,CAAnB,MAAwBtF,EAAEiE,CAAF,EAAKkC,sBAAL,CAA4BH,CAA5B,IAA+B9B,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4BC,CAA5B,IAA+B9B,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4BC,CAA5B,EAA+B,SAA/B,EAAyC,IAAzC,EAA8CK,EAAE,CAAF,CAA9C,CAA/B,GAAmFA,EAAE,CAAF,CAA1I,GAAgJ,gBAAcA,EAAE,CAAF,CAAd,KAAqB5B,IAAE,CAAC,CAAxB,CAAhJ;AAA2K;AAAC;AAA5oB,SAA4oB1D,EAAE0F,QAAF,IAAYzG,EAAEiE,CAAF,EAAKyC,cAAL,CAAoBC,WAApB,KAAkCvJ,CAA9C,KAAkD4C,EAAEiE,CAAF,EAAKyC,cAAL,CAAoBC,WAApB,GAAgC,iBAAhC,EAAkDlC,IAAE,CAAC,CAAvG,GAA0GA,KAAGP,EAAE0C,mBAAF,CAAsB3C,CAAtB,CAA7G;AAAsI;AAAC,SAAEkB,OAAF,KAAY/H,CAAZ,IAAe,WAAS2D,EAAEoE,OAA1B,KAAoChK,EAAE6J,KAAF,CAAQC,KAAR,CAAc3E,CAAd,EAAiB,CAAjB,EAAoB6E,OAApB,GAA4B,CAAC,CAAjE,GAAoEpE,EAAEsE,UAAF,KAAejI,CAAf,IAAkB,aAAW2D,EAAEsE,UAA/B,KAA4ClK,EAAE6J,KAAF,CAAQC,KAAR,CAAc3E,CAAd,EAAiB,CAAjB,EAAoB+E,UAApB,GAA+B,CAAC,CAA5E,CAApE,EAAmJtE,EAAE8F,QAAF,IAAY9F,EAAE8F,QAAF,CAAW5G,IAAX,CAAgB/C,EAAE,CAAF,CAAhB,EAAqBA,EAAE,CAAF,CAArB,EAA0B2G,CAA1B,EAA4B1H,KAAKoI,GAAL,CAAS,CAAT,EAAWlJ,IAAE0F,EAAEmE,QAAJ,GAAahK,CAAxB,CAA5B,EAAuDG,CAAvD,EAAyD0I,CAAzD,CAA/J,EAA2N,MAAIF,CAAJ,IAAO1G,EAAEmD,CAAF,CAAlO;AAAuO;AAAjjD;AAAkjD,MAAE0E,KAAF,CAAQ8B,SAAR,IAAmBlD,EAAExI,CAAF,CAAnB;AAAwB,YAAS+B,CAAT,CAAWoC,CAAX,EAAarE,CAAb,EAAe;AAAC,OAAG,CAACC,EAAE6J,KAAF,CAAQC,KAAR,CAAc1F,CAAd,CAAJ,EAAqB,OAAM,CAAC,CAAP,CAAS,KAAI,IAAIE,IAAEtE,EAAE6J,KAAF,CAAQC,KAAR,CAAc1F,CAAd,EAAiB,CAAjB,CAAN,EAA0BQ,IAAE5E,EAAE6J,KAAF,CAAQC,KAAR,CAAc1F,CAAd,EAAiB,CAAjB,CAA5B,EAAgDe,IAAEnF,EAAE6J,KAAF,CAAQC,KAAR,CAAc1F,CAAd,EAAiB,CAAjB,CAAlD,EAAsErC,IAAE/B,EAAE6J,KAAF,CAAQC,KAAR,CAAc1F,CAAd,EAAiB,CAAjB,CAAxE,EAA4FuB,IAAE,CAAC,CAA/F,EAAiGC,IAAE,CAAnG,EAAqG3F,IAAEqE,EAAED,MAA7G,EAAoHpE,IAAE2F,CAAtH,EAAwHA,GAAxH,EAA4H;AAAC,QAAI5D,IAAEsC,EAAEsB,CAAF,EAAKrC,OAAX,CAAmB,IAAGxD,KAAGoF,EAAEyG,IAAL,KAAY,WAASzG,EAAE6E,OAAX,IAAoBjB,EAAEkB,gBAAF,CAAmBjI,CAAnB,EAAqB,SAArB,EAA+BmD,EAAE6E,OAAjC,CAApB,EAA8D,aAAW7E,EAAE+E,UAAb,IAAyBnB,EAAEkB,gBAAF,CAAmBjI,CAAnB,EAAqB,YAArB,EAAkCmD,EAAE+E,UAApC,CAAnG,GAAoJ/E,EAAEyG,IAAF,KAAS,CAAC,CAAV,KAAcrD,EAAE1C,KAAF,CAAQ7D,CAAR,EAAW,CAAX,MAAgBC,CAAhB,IAAmB,CAAC,4BAA4BkF,IAA5B,CAAiCoB,EAAE1C,KAAF,CAAQ7D,CAAR,EAAW,CAAX,CAAjC,CAAlC,KAAoF6C,EAAE7C,CAAF,CAA3O,EAAgP;AAAC6C,OAAE7C,CAAF,EAAK6J,WAAL,GAAiB,CAAC,CAAlB,EAAoBhH,EAAE7C,CAAF,EAAKgJ,sBAAL,GAA4B,EAAhD,CAAmD,IAAI9K,IAAE,CAAC,CAAP,CAASqI,EAAEzE,IAAF,CAAOiF,EAAE+C,KAAF,CAAQC,YAAf,EAA4B,UAAS3H,CAAT,EAAWrE,CAAX,EAAa;AAAC,UAAIuE,IAAE,SAAS6C,IAAT,CAAcpH,CAAd,IAAiB,CAAjB,GAAmB,CAAzB;AAAA,UAA2B6E,IAAEC,EAAE7C,CAAF,EAAKuJ,cAAL,CAAoBxL,CAApB,CAA7B,CAAoD8E,EAAE7C,CAAF,EAAKuJ,cAAL,CAAoBxL,CAApB,MAAyBkC,CAAzB,IAA4B,IAAI+J,MAAJ,CAAW,SAAO1H,CAAP,GAAS,MAApB,EAA4B6C,IAA5B,CAAiCvC,CAAjC,CAA5B,KAAkE1E,IAAE,CAAC,CAAH,EAAK,OAAO2E,EAAE7C,CAAF,EAAKuJ,cAAL,CAAoBxL,CAApB,CAA9E;AAAsG,MAApM,GAAsMoF,EAAEmG,QAAF,KAAapL,IAAE,CAAC,CAAH,EAAK,OAAO2E,EAAE7C,CAAF,EAAKuJ,cAAL,CAAoBC,WAA7C,CAAtM,EAAgQtL,KAAG6I,EAAE0C,mBAAF,CAAsBzJ,CAAtB,CAAnQ,EAA4R+G,EAAEkD,MAAF,CAASC,WAAT,CAAqBlK,CAArB,EAAuB,oBAAvB,CAA5R;AAAyU,SAAG,CAACjC,CAAD,IAAIoF,EAAEgH,QAAN,IAAgB,CAAChH,EAAEyG,IAAnB,IAAyBhG,MAAI3F,IAAE,CAAlC,EAAoC,IAAG;AAACkF,OAAEgH,QAAF,CAAWrH,IAAX,CAAgBF,CAAhB,EAAkBA,CAAlB;AAAqB,KAAzB,CAAyB,OAAMiE,CAAN,EAAQ;AAACuD,gBAAW,YAAU;AAAC,YAAMvD,CAAN;AAAQ,MAA9B,EAA+B,CAA/B;AAAkC,UAAG1D,EAAEyG,IAAF,KAAS,CAAC,CAAb,IAAgB7J,EAAE6C,CAAF,CAAhB,EAAqBC,EAAE7C,CAAF,KAAMmD,EAAEyG,IAAF,KAAS,CAAC,CAAhB,IAAmB,CAAC7L,CAApB,KAAwBwI,EAAEzE,IAAF,CAAOe,EAAE7C,CAAF,EAAKqK,eAAZ,EAA4B,UAASjI,CAAT,EAAWrE,CAAX,EAAa;AAAC,eAAUoH,IAAV,CAAe/C,CAAf,KAAmB,QAAMiD,WAAWtH,EAAEwK,QAAb,CAAzB,KAAkDxK,EAAEwK,QAAF,GAAW,CAAX,EAAaxK,EAAE0K,UAAF,GAAa,GAA5E,GAAiF,sBAAsBtD,IAAtB,CAA2B/C,CAA3B,KAA+B,QAAMiD,WAAWtH,EAAEwK,QAAb,CAArC,IAA6D,QAAMxK,EAAEoL,QAArE,KAAgFpL,EAAEwK,QAAF,GAAW,CAAX,EAAaxK,EAAE0K,UAAF,GAAa,GAA1G,CAAjF;AAAgM,KAA1O,GAA4OzK,EAAEgC,CAAF,EAAI,SAAJ,EAAc,EAAC4J,MAAK,CAAC,CAAP,EAASU,OAAMnH,EAAEmH,KAAjB,EAAd,CAApQ,CAArB,EAAiUnH,EAAEU,KAAF,KAAU,CAAC,CAAX,IAAc0C,EAAEvC,OAAF,CAAUhE,CAAV,EAAYmD,EAAEU,KAAd,CAA/U;AAAoW,MAAEgE,KAAF,CAAQC,KAAR,CAAc1F,CAAd,IAAiB,CAAC,CAAlB,CAAoB,KAAI,IAAI+D,IAAE,CAAN,EAAQS,IAAE5I,EAAE6J,KAAF,CAAQC,KAAR,CAAczF,MAA5B,EAAmCuE,IAAET,CAArC,EAAuCA,GAAvC;AAA2C,QAAGnI,EAAE6J,KAAF,CAAQC,KAAR,CAAc3B,CAAd,MAAmB,CAAC,CAAvB,EAAyB;AAACxC,SAAE,CAAC,CAAH,CAAK;AAAM;AAAhF,IAAgFA,MAAI,CAAC,CAAL,KAAS3F,EAAE6J,KAAF,CAAQ8B,SAAR,GAAkB,CAAC,CAAnB,EAAqB,OAAO3L,EAAE6J,KAAF,CAAQC,KAApC,EAA0C9J,EAAE6J,KAAF,CAAQC,KAAR,GAAc,EAAjE;AAAqE,OAAIvB,CAAJ;AAAA,MAAMrI,IAAE,YAAU;AAAC,OAAGoE,EAAEiI,YAAL,EAAkB,OAAOjI,EAAEiI,YAAT,CAAsB,KAAI,IAAInI,IAAE,CAAV,EAAYA,IAAE,CAAd,EAAgBA,GAAhB,EAAoB;AAAC,QAAIrE,IAAEuE,EAAEkI,aAAF,CAAgB,KAAhB,CAAN,CAA6B,IAAGzM,EAAE0M,SAAF,GAAY,gBAAcrI,CAAd,GAAgB,6BAA5B,EAA0DrE,EAAE2M,oBAAF,CAAuB,MAAvB,EAA+BrI,MAA5F,EAAmG,OAAOtE,IAAE,IAAF,EAAOqE,CAAd;AAAgB,WAAOnC,CAAP;AAAS,GAAjO,EAAR;AAAA,MAA4O4G,IAAE,YAAU;AAAC,OAAIzE,IAAE,CAAN,CAAQ,OAAOrE,EAAE4M,2BAAF,IAA+B5M,EAAE6M,wBAAjC,IAA2D,UAAS7M,CAAT,EAAW;AAAC,QAAIuE,CAAJ;AAAA,QAAMrC,IAAG,IAAIyF,IAAJ,EAAD,CAAWC,OAAX,EAAR,CAA6B,OAAOrD,IAAEtD,KAAKoI,GAAL,CAAS,CAAT,EAAW,MAAInH,IAAEmC,CAAN,CAAX,CAAF,EAAuBA,IAAEnC,IAAEqC,CAA3B,EAA6B8H,WAAW,YAAU;AAACrM,OAAEkC,IAAEqC,CAAJ;AAAO,KAA7B,EAA8BA,CAA9B,CAApC;AAAqE,IAAhL;AAAiL,GAApM,EAA9O;AAAA,MAAqb6D,IAAE,EAACsB,UAAS,kBAASrF,CAAT,EAAW;AAAC,WAAM,YAAU,OAAOA,CAAvB;AAAyB,IAA/C,EAAgDW,SAAQC,MAAMD,OAAN,IAAe,UAASX,CAAT,EAAW;AAAC,WAAM,qBAAmB0B,OAAOV,SAAP,CAAiBhC,QAAjB,CAA0B0B,IAA1B,CAA+BV,CAA/B,CAAzB;AAA2D,IAA9I,EAA+IyI,YAAW,oBAASzI,CAAT,EAAW;AAAC,WAAM,wBAAsB0B,OAAOV,SAAP,CAAiBhC,QAAjB,CAA0B0B,IAA1B,CAA+BV,CAA/B,CAA5B;AAA8D,IAApO,EAAqOkE,QAAO,gBAASlE,CAAT,EAAW;AAAC,WAAOA,KAAGA,EAAEK,QAAZ;AAAqB,IAA7Q,EAA8QqI,YAAW,oBAAS1I,CAAT,EAAW;AAAC,WAAM,oBAAiBA,CAAjB,yCAAiBA,CAAjB,MAAoB,gDAAgD+C,IAAhD,CAAqDrB,OAAOV,SAAP,CAAiBhC,QAAjB,CAA0B0B,IAA1B,CAA+BV,CAA/B,CAArD,CAApB,IAA6GA,EAAEC,MAAF,KAAWpC,CAAxH,KAA4H,MAAImC,EAAEC,MAAN,IAAc,oBAAiBD,EAAE,CAAF,CAAjB,KAAuBA,EAAE,CAAF,EAAKK,QAAL,GAAc,CAA/K,CAAN;AAAwL,IAA7d,EAA8d2D,WAAU,mBAAShE,CAAT,EAAW;AAAC,WAAOA,MAAIA,EAAE2I,MAAF,IAAUhN,EAAEiN,KAAF,IAASjN,EAAEiN,KAAF,CAAQC,KAAR,CAAcC,GAAd,CAAkB9I,CAAlB,CAAvB,CAAP;AAAoD,IAAxiB,EAAyiB+I,OAAM,eAAS/I,CAAT,EAAW;AAAC,WAAOrE,EAAEqN,UAAF,IAAchJ,aAAarE,EAAEqN,UAApC;AAA+C,IAA1mB,EAA2mBC,eAAc,uBAASjJ,CAAT,EAAW;AAAC,SAAI,IAAIrE,CAAR,IAAaqE,CAAb;AAAe,YAAM,CAAC,CAAP;AAAf,KAAwB,OAAM,CAAC,CAAP;AAAS,IAAtqB,EAAvb;AAAA,MAA+lCwE,IAAE,CAAC,CAAlmC,CAAomC,IAAGxE,EAAEM,EAAF,IAAMN,EAAEM,EAAF,CAAKqI,MAAX,IAAmBxE,IAAEnE,CAAF,EAAIwE,IAAE,CAAC,CAA1B,IAA6BL,IAAExI,EAAEkE,QAAF,CAAW6D,SAA1C,EAAoD,KAAG5H,CAAH,IAAM,CAAC0I,CAA9D,EAAgE,MAAM,IAAIzC,KAAJ,CAAU,sEAAV,CAAN,CAAwF,IAAG,KAAGjG,CAAN,EAAQ,OAAO,MAAKT,OAAOiF,EAAP,CAAU4I,QAAV,GAAmB7N,OAAOiF,EAAP,CAAU6I,OAAlC,CAAP,CAAkD,IAAI7E,IAAE,GAAN;AAAA,MAAUC,IAAE,OAAZ;AAAA,MAAoB3I,IAAE,EAAC6J,OAAM,EAAC2D,UAAS,iEAAiErG,IAAjE,CAAsEsG,UAAUC,SAAhF,CAAV,EAAqGC,WAAU,WAAWxG,IAAX,CAAgBsG,UAAUC,SAA1B,CAA/G,EAAoJE,eAAc,uBAAuBzG,IAAvB,CAA4BsG,UAAUC,SAAtC,CAAlK,EAAmNG,UAAS9N,EAAE+N,MAA9N,EAAqOC,WAAU,WAAW5G,IAAX,CAAgBsG,UAAUC,SAA1B,CAA/O,EAAoRM,eAAc1J,EAAEkI,aAAF,CAAgB,KAAhB,CAAlS,EAAyTyB,eAAc,EAAvU,EAA0UC,cAAa,IAAvV,EAA4VC,oBAAmB,IAA/W,EAAoXC,mBAAkB,IAAtY,EAA2YzC,WAAU,CAAC,CAAtZ,EAAwZ7B,OAAM,EAA9Z,EAAP,EAAyauE,KAAI,EAA7a,EAAgbvG,WAAUS,CAA1b,EAA4b+F,WAAU,EAAtc,EAAyc5E,SAAQ,EAAjd,EAAod6E,SAAQxO,EAAEwO,OAA9d,EAAse3E,UAAS,EAAC/D,OAAM,EAAP,EAAUkE,UAASrB,CAAnB,EAAqBhJ,QAAOiJ,CAA5B,EAA8B6F,OAAMvM,CAApC,EAAsCkK,UAASlK,CAA/C,EAAiDyJ,UAASzJ,CAA1D,EAA4D+H,SAAQ/H,CAApE,EAAsEiI,YAAWjI,CAAjF,EAAmF2J,MAAK,CAAC,CAAzF,EAA2FU,OAAM,CAAC,CAAlG,EAAoGhB,UAAS,CAAC,CAA9G,EAAgHmD,cAAa,CAAC,CAA9H,EAA/e,EAAgnB9J,MAAK,cAASP,CAAT,EAAW;AAACmE,MAAEjD,IAAF,CAAOlB,CAAP,EAAS,UAAT,EAAoB,EAAC+I,OAAMhF,EAAEgF,KAAF,CAAQ/I,CAAR,CAAP,EAAkByH,aAAY,CAAC,CAA/B,EAAiC6C,eAAc,IAA/C,EAAoDrC,iBAAgB,IAApE,EAAyErB,wBAAuB,EAAhG,EAAmGO,gBAAe,EAAlH,EAApB;AAA2I,IAA5wB,EAA6wBoD,MAAK,IAAlxB,EAAuxBC,MAAK,CAAC,CAA7xB,EAA+xBC,SAAQ,EAACC,OAAM,CAAP,EAASC,OAAM,CAAf,EAAiBC,OAAM,CAAvB,EAAvyB,EAAi0BC,OAAM,CAAC,CAAx0B,EAAtB,CAAi2BlP,EAAEyG,WAAF,KAAgBvE,CAAhB,IAAmBjC,EAAE6J,KAAF,CAAQqE,YAAR,GAAqBnO,CAArB,EAAuBC,EAAE6J,KAAF,CAAQsE,kBAAR,GAA2B,aAAlD,EAAgEnO,EAAE6J,KAAF,CAAQuE,iBAAR,GAA0B,aAA7G,KAA6HpO,EAAE6J,KAAF,CAAQqE,YAAR,GAAqB5J,EAAE4K,eAAF,IAAmB5K,EAAE6K,IAAF,CAAOC,UAA1B,IAAsC9K,EAAE6K,IAA7D,EAAkEnP,EAAE6J,KAAF,CAAQsE,kBAAR,GAA2B,YAA7F,EAA0GnO,EAAE6J,KAAF,CAAQuE,iBAAR,GAA0B,WAAjQ,EAA8Q,IAAItO,IAAE,YAAU;AAAC,YAASsE,CAAT,CAAWA,CAAX,EAAa;AAAC,WAAM,CAACA,EAAEiL,OAAH,GAAWjL,EAAEtE,CAAb,GAAesE,EAAEkL,QAAF,GAAWlL,EAAEuE,CAAlC;AAAoC,aAAS5I,CAAT,CAAWA,CAAX,EAAauE,CAAb,EAAerC,CAAf,EAAiB;AAAC,QAAI2C,IAAE,EAAC9E,GAAEC,EAAED,CAAF,GAAImC,EAAEsN,EAAF,GAAKjL,CAAZ,EAAcqE,GAAE5I,EAAE4I,CAAF,GAAI1G,EAAEuN,EAAF,GAAKlL,CAAzB,EAA2B+K,SAAQtP,EAAEsP,OAArC,EAA6CC,UAASvP,EAAEuP,QAAxD,EAAN,CAAwE,OAAM,EAACC,IAAG3K,EAAE+D,CAAN,EAAQ6G,IAAGpL,EAAEQ,CAAF,CAAX,EAAN;AAAuB,aAASN,CAAT,CAAWA,CAAX,EAAarC,CAAb,EAAe;AAAC,QAAI2C,IAAE,EAAC2K,IAAGjL,EAAEqE,CAAN,EAAQ6G,IAAGpL,EAAEE,CAAF,CAAX,EAAN;AAAA,QAAuBa,IAAEpF,EAAEuE,CAAF,EAAI,KAAGrC,CAAP,EAAS2C,CAAT,CAAzB;AAAA,QAAqCC,IAAE9E,EAAEuE,CAAF,EAAI,KAAGrC,CAAP,EAASkD,CAAT,CAAvC;AAAA,QAAmDpD,IAAEhC,EAAEuE,CAAF,EAAIrC,CAAJ,EAAM4C,CAAN,CAArD;AAAA,QAA8Dc,IAAE,IAAE,CAAF,IAAKf,EAAE2K,EAAF,GAAK,KAAGpK,EAAEoK,EAAF,GAAK1K,EAAE0K,EAAV,CAAL,GAAmBxN,EAAEwN,EAA1B,CAAhE;AAAA,QAA8F3J,IAAE,IAAE,CAAF,IAAKhB,EAAE4K,EAAF,GAAK,KAAGrK,EAAEqK,EAAF,GAAK3K,EAAE2K,EAAV,CAAL,GAAmBzN,EAAEyN,EAA1B,CAAhG,CAA8H,OAAOlL,EAAExE,CAAF,GAAIwE,EAAExE,CAAF,GAAI6F,IAAE1D,CAAV,EAAYqC,EAAEqE,CAAF,GAAIrE,EAAEqE,CAAF,GAAI/C,IAAE3D,CAAtB,EAAwBqC,CAA/B;AAAiC,WAAO,SAASrC,CAAT,CAAWmC,CAAX,EAAarE,CAAb,EAAe6E,CAAf,EAAiB;AAAC,QAAIO,CAAJ;AAAA,QAAMN,CAAN;AAAA,QAAQ9C,CAAR;AAAA,QAAU4D,IAAE,EAAC7F,GAAE,CAAC,CAAJ,EAAM6I,GAAE,CAAR,EAAU0G,SAAQ,IAAlB,EAAuBC,UAAS,IAAhC,EAAZ;AAAA,QAAkD1J,IAAE,CAAC,CAAD,CAApD;AAAA,QAAwD3F,IAAE,CAA1D;AAAA,QAA4D+B,IAAE,IAA9D;AAAA,QAAmEuG,IAAE,IAArE,CAA0E,KAAInE,IAAEiD,WAAWjD,CAAX,KAAe,GAAjB,EAAqBrE,IAAEsH,WAAWtH,CAAX,KAAe,EAAtC,EAAyC6E,IAAEA,KAAG,IAA9C,EAAmDe,EAAE0J,OAAF,GAAUjL,CAA7D,EAA+DuB,EAAE2J,QAAF,GAAWvP,CAA1E,EAA4EoF,IAAE,SAAOP,CAArF,EAAuFO,KAAGlF,IAAEgC,EAAEmC,CAAF,EAAIrE,CAAJ,CAAF,EAAS8E,IAAE5E,IAAE2E,CAAF,GAAI2D,CAAlB,IAAqB1D,IAAE0D,CAAlH,EAAoHxG,IAAEuC,EAAEvC,KAAG4D,CAAL,EAAOd,CAAP,CAAF,EAAYe,EAAEG,IAAF,CAAO,IAAEhE,EAAEjC,CAAX,CAAZ,EAA0BG,KAAG,EAA7B,EAAgCe,KAAKkB,GAAL,CAASH,EAAEjC,CAAX,IAAckC,CAAd,IAAiBhB,KAAKkB,GAAL,CAASH,EAAE4G,CAAX,IAAc3G,CAAnL,KAAuL,OAAOmD,IAAE,UAASf,CAAT,EAAW;AAAC,YAAOwB,EAAExB,KAAGwB,EAAEvB,MAAF,GAAS,CAAZ,IAAe,CAAjB,CAAP;AAA2B,KAAzC,GAA0CpE,CAAjD;AAAmD,IAA7U;AAA8U,GAA3qB,EAAN,CAAorBD,EAAE0J,OAAF,GAAU,EAAC+F,QAAO,gBAASrL,CAAT,EAAW;AAAC,WAAOA,CAAP;AAAS,IAA7B,EAA8BvE,OAAM,eAASuE,CAAT,EAAW;AAAC,WAAM,KAAGpD,KAAKC,GAAL,CAASmD,IAAEpD,KAAKE,EAAhB,IAAoB,CAA7B;AAA+B,IAA/E,EAAgFwO,QAAO,gBAAStL,CAAT,EAAW;AAAC,WAAO,IAAEpD,KAAKC,GAAL,CAAS,MAAImD,CAAJ,GAAMpD,KAAKE,EAApB,IAAwBF,KAAK2O,GAAL,CAAS,IAAE,CAACvL,CAAZ,CAAjC;AAAgD,IAAnJ,EAAV,EAA+JmE,EAAEzE,IAAF,CAAO,CAAC,CAAC,MAAD,EAAQ,CAAC,GAAD,EAAK,EAAL,EAAQ,GAAR,EAAY,CAAZ,CAAR,CAAD,EAAyB,CAAC,SAAD,EAAW,CAAC,GAAD,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,CAAX,CAAzB,EAAiD,CAAC,UAAD,EAAY,CAAC,CAAD,EAAG,CAAH,EAAK,GAAL,EAAS,CAAT,CAAZ,CAAjD,EAA0E,CAAC,aAAD,EAAe,CAAC,GAAD,EAAK,CAAL,EAAO,GAAP,EAAW,CAAX,CAAf,CAA1E,EAAwG,CAAC,YAAD,EAAc,CAAC,GAAD,EAAK,CAAL,EAAO,IAAP,EAAY,IAAZ,CAAd,CAAxG,EAAyI,CAAC,aAAD,EAAe,CAAC,GAAD,EAAK,IAAL,EAAU,IAAV,EAAe,CAAf,CAAf,CAAzI,EAA2K,CAAC,eAAD,EAAiB,CAAC,IAAD,EAAM,GAAN,EAAU,GAAV,EAAc,GAAd,CAAjB,CAA3K,EAAgN,CAAC,YAAD,EAAc,CAAC,GAAD,EAAK,IAAL,EAAU,GAAV,EAAc,GAAd,CAAd,CAAhN,EAAkP,CAAC,aAAD,EAAe,CAAC,GAAD,EAAK,GAAL,EAAS,GAAT,EAAa,GAAb,CAAf,CAAlP,EAAoR,CAAC,eAAD,EAAiB,CAAC,IAAD,EAAM,GAAN,EAAU,IAAV,EAAe,IAAf,CAAjB,CAApR,EAA2T,CAAC,aAAD,EAAe,CAAC,GAAD,EAAK,IAAL,EAAU,IAAV,EAAe,GAAf,CAAf,CAA3T,EAA+V,CAAC,cAAD,EAAgB,CAAC,IAAD,EAAM,GAAN,EAAU,IAAV,EAAe,CAAf,CAAhB,CAA/V,EAAkY,CAAC,gBAAD,EAAkB,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,CAAhB,CAAlB,CAAlY,EAAwa,CAAC,aAAD,EAAe,CAAC,IAAD,EAAM,GAAN,EAAU,IAAV,EAAe,GAAf,CAAf,CAAxa,EAA4c,CAAC,cAAD,EAAgB,CAAC,IAAD,EAAM,GAAN,EAAU,GAAV,EAAc,CAAd,CAAhB,CAA5c,EAA8e,CAAC,gBAAD,EAAkB,CAAC,GAAD,EAAK,CAAL,EAAO,IAAP,EAAY,CAAZ,CAAlB,CAA9e,EAAghB,CAAC,aAAD,EAAe,CAAC,IAAD,EAAM,GAAN,EAAU,IAAV,EAAe,GAAf,CAAf,CAAhhB,EAAojB,CAAC,cAAD,EAAgB,CAAC,GAAD,EAAK,CAAL,EAAO,GAAP,EAAW,CAAX,CAAhB,CAApjB,EAAmlB,CAAC,gBAAD,EAAkB,CAAC,GAAD,EAAK,CAAL,EAAO,GAAP,EAAW,CAAX,CAAlB,CAAnlB,EAAonB,CAAC,YAAD,EAAc,CAAC,GAAD,EAAK,GAAL,EAAS,IAAT,EAAc,IAAd,CAAd,CAApnB,EAAupB,CAAC,aAAD,EAAe,CAAC,GAAD,EAAK,CAAL,EAAO,GAAP,EAAW,CAAX,CAAf,CAAvpB,EAAqrB,CAAC,eAAD,EAAiB,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,CAAjB,CAArrB,EAAitB,CAAC,YAAD,EAAc,CAAC,EAAD,EAAI,GAAJ,EAAQ,GAAR,EAAY,IAAZ,CAAd,CAAjtB,EAAkvB,CAAC,aAAD,EAAe,CAAC,IAAD,EAAM,GAAN,EAAU,IAAV,EAAe,CAAf,CAAf,CAAlvB,EAAoxB,CAAC,eAAD,EAAiB,CAAC,IAAD,EAAM,IAAN,EAAW,GAAX,EAAe,GAAf,CAAjB,CAApxB,CAAP,EAAk0B,UAASM,CAAT,EAAWrE,CAAX,EAAa;AAACC,KAAE0J,OAAF,CAAU3J,EAAE,CAAF,CAAV,IAAgB4F,EAAEN,KAAF,CAAQ,IAAR,EAAatF,EAAE,CAAF,CAAb,CAAhB;AAAmC,GAAn3B,CAA/J,CAAohC,IAAIgJ,IAAE/I,EAAEqO,GAAF,GAAM,EAACuB,OAAM,EAACC,OAAM,uBAAP,EAA+BC,aAAY,mBAA3C,EAA+DC,8BAA6B,oCAA5F,EAAiIC,YAAW,4CAA5I,EAAP,EAAiMlE,OAAM,EAACmE,QAAO,CAAC,MAAD,EAAQ,QAAR,EAAiB,WAAjB,EAA6B,OAA7B,EAAqC,iBAArC,EAAuD,aAAvD,EAAqE,gBAArE,EAAsF,kBAAtF,EAAyG,mBAAzG,EAA6H,iBAA7H,EAA+I,cAA/I,CAAR,EAAuKC,gBAAe,CAAC,YAAD,EAAc,YAAd,EAA2B,OAA3B,EAAmC,QAAnC,EAA4C,QAA5C,EAAqD,OAArD,EAA6D,OAA7D,EAAqE,SAArE,CAAtL,EAAsQnE,cAAa,CAAC,sBAAD,EAAwB,YAAxB,EAAqC,QAArC,EAA8C,SAA9C,EAAwD,SAAxD,CAAnR,EAAvM,EAA8hBpB,OAAM,EAACwF,WAAU,EAACC,YAAW,CAAC,gBAAD,EAAkB,mBAAlB,CAAZ,EAAmDC,WAAU,CAAC,uBAAD,EAAyB,uBAAzB,CAA7D,EAA+GC,MAAK,CAAC,uBAAD,EAAyB,iBAAzB,CAApH,EAAgKC,oBAAmB,CAAC,KAAD,EAAO,OAAP,CAAnL,EAAmMC,iBAAgB,CAAC,OAAD,EAAS,aAAT,CAAnN,EAA2OC,mBAAkB,CAAC,KAAD,EAAO,SAAP,CAA7P,EAAX,EAA2R7F,YAAW,EAAtS,EAAyS8F,UAAS,oBAAU;AAAC,UAAI,IAAItM,IAAE,CAAV,EAAYA,IAAE2E,EAAE+C,KAAF,CAAQmE,MAAR,CAAe5L,MAA7B,EAAoCD,GAApC,EAAwC;AAAC,UAAIrE,IAAE,YAAUgJ,EAAE+C,KAAF,CAAQmE,MAAR,CAAe7L,CAAf,CAAV,GAA4B,SAA5B,GAAsC,eAA5C,CAA4D2E,EAAE4B,KAAF,CAAQwF,SAAR,CAAkBpH,EAAE+C,KAAF,CAAQmE,MAAR,CAAe7L,CAAf,CAAlB,IAAqC,CAAC,sBAAD,EAAwBrE,CAAxB,CAArC;AAAgE,UAAIuE,CAAJ,EAAMrC,CAAN,EAAQ2C,CAAR,CAAU,IAAG1E,CAAH,EAAK,KAAIoE,CAAJ,IAASyE,EAAE4B,KAAF,CAAQwF,SAAjB,EAA2B;AAAClO,UAAE8G,EAAE4B,KAAF,CAAQwF,SAAR,CAAkB7L,CAAlB,CAAF,EAAuBM,IAAE3C,EAAE,CAAF,EAAK4F,KAAL,CAAW,GAAX,CAAzB,CAAyC,IAAI1C,IAAElD,EAAE,CAAF,EAAK0O,KAAL,CAAW5H,EAAE6G,KAAF,CAAQI,UAAnB,CAAN,CAAqC,YAAUpL,EAAE,CAAF,CAAV,KAAiBA,EAAEmB,IAAF,CAAOnB,EAAEqB,KAAF,EAAP,GAAkBd,EAAEY,IAAF,CAAOZ,EAAEc,KAAF,EAAP,CAAlB,EAAoC8C,EAAE4B,KAAF,CAAQwF,SAAR,CAAkB7L,CAAlB,IAAqB,CAACM,EAAEgM,IAAF,CAAO,GAAP,CAAD,EAAazL,EAAEyL,IAAF,CAAO,GAAP,CAAb,CAA1E;AAAqG,WAAItM,CAAJ,IAASyE,EAAE4B,KAAF,CAAQwF,SAAjB,EAA2B;AAAClO,UAAE8G,EAAE4B,KAAF,CAAQwF,SAAR,CAAkB7L,CAAlB,CAAF,EAAuBM,IAAE3C,EAAE,CAAF,EAAK4F,KAAL,CAAW,GAAX,CAAzB,CAAyC,KAAI,IAAIzD,CAAR,IAAaQ,CAAb,EAAe;AAAC,WAAIC,IAAEP,IAAEM,EAAER,CAAF,CAAR;AAAA,WAAarC,IAAEqC,CAAf,CAAiB2E,EAAE4B,KAAF,CAAQC,UAAR,CAAmB/F,CAAnB,IAAsB,CAACP,CAAD,EAAGvC,CAAH,CAAtB;AAA4B;AAAC;AAAC,KAAp0B,EAAq0B+I,SAAQ,iBAAS1G,CAAT,EAAW;AAAC,SAAIrE,IAAEgJ,EAAE4B,KAAF,CAAQC,UAAR,CAAmBxG,CAAnB,CAAN,CAA4B,OAAOrE,IAAEA,EAAE,CAAF,CAAF,GAAOqE,CAAd;AAAgB,KAAr4B,EAAs4ByM,wBAAuB,gCAASzM,CAAT,EAAWrE,CAAX,EAAa;AAAC,YAAOgJ,EAAE6G,KAAF,CAAQE,WAAR,CAAoB3I,IAApB,CAAyBpH,CAAzB,MAA8BA,IAAEA,EAAE4Q,KAAF,CAAQ5H,EAAE6G,KAAF,CAAQE,WAAhB,EAA6B,CAA7B,CAAhC,GAAiE/G,EAAEkD,MAAF,CAAS6E,cAAT,CAAwB/Q,CAAxB,MAA6BA,IAAEgJ,EAAE4B,KAAF,CAAQwF,SAAR,CAAkB/L,CAAlB,EAAqB,CAArB,CAA/B,CAAjE,EAAyHrE,CAAhI;AAAkI,KAA7iC,EAA8iCgR,cAAa,sBAAS3M,CAAT,EAAWrE,CAAX,EAAa;AAAC,SAAIuE,IAAEyE,EAAE4B,KAAF,CAAQC,UAAR,CAAmBxG,CAAnB,CAAN,CAA4B,IAAGE,CAAH,EAAK;AAAC,UAAIrC,IAAEqC,EAAE,CAAF,CAAN;AAAA,UAAWM,IAAEN,EAAE,CAAF,CAAb,CAAkB,OAAOvE,IAAEgJ,EAAE4B,KAAF,CAAQkG,sBAAR,CAA+B5O,CAA/B,EAAiClC,CAAjC,CAAF,EAAsCA,EAAEqD,QAAF,GAAauN,KAAb,CAAmB5H,EAAE6G,KAAF,CAAQI,UAA3B,EAAuCpL,CAAvC,CAA7C;AAAuF,aAAO7E,CAAP;AAAS,KAA7tC,EAA8tCiR,aAAY,qBAAS5M,CAAT,EAAWrE,CAAX,EAAauE,CAAb,EAAe;AAAC,SAAIrC,IAAE8G,EAAE4B,KAAF,CAAQC,UAAR,CAAmBxG,CAAnB,CAAN,CAA4B,IAAGnC,CAAH,EAAK;AAAC,UAAI2C,CAAJ;AAAA,UAAMO,CAAN;AAAA,UAAQN,IAAE5C,EAAE,CAAF,CAAV;AAAA,UAAeF,IAAEE,EAAE,CAAF,CAAjB,CAAsB,OAAOqC,IAAEyE,EAAE4B,KAAF,CAAQkG,sBAAR,CAA+BhM,CAA/B,EAAiCP,CAAjC,CAAF,EAAsCM,IAAEN,EAAElB,QAAF,GAAauN,KAAb,CAAmB5H,EAAE6G,KAAF,CAAQI,UAA3B,CAAxC,EAA+EpL,EAAE7C,CAAF,IAAKhC,CAApF,EAAsFoF,IAAEP,EAAEgM,IAAF,CAAO,GAAP,CAA/F;AAA2G,aAAOtM,CAAP;AAAS,KAAt6C,EAApiB,EAA48D+G,gBAAe,EAACT,YAAW,EAAC0F,MAAK,cAASlM,CAAT,EAAWrE,CAAX,EAAauE,CAAb,EAAe;AAAC,cAAOF,CAAP,GAAU,KAAI,MAAJ;AAAW,eAAM,MAAN,CAAa,KAAI,SAAJ;AAAc,YAAInC,CAAJ,CAAM,OAAO8G,EAAE6G,KAAF,CAAQG,4BAAR,CAAqC5I,IAArC,CAA0C7C,CAA1C,IAA6CrC,IAAEqC,CAA/C,IAAkDrC,IAAEqC,EAAElB,QAAF,GAAauN,KAAb,CAAmB5H,EAAE6G,KAAF,CAAQE,WAA3B,CAAF,EAA0C7N,IAAEA,IAAEA,EAAE,CAAF,EAAKgP,OAAL,CAAa,UAAb,EAAwB,GAAxB,CAAF,GAA+B3M,CAA7H,GAAgIrC,CAAvI,CAAyI,KAAI,QAAJ;AAAa,eAAM,UAAQqC,CAAR,GAAU,GAAhB,CAA5M;AAAiO,MAAvP,EAAwP4M,MAAK,cAAS9M,CAAT,EAAWrE,CAAX,EAAauE,CAAb,EAAe;AAAC,cAAOF,CAAP,GAAU,KAAI,MAAJ;AAAW,eAAOpE,EAAE6J,KAAF,CAAQkE,SAAR,GAAkB,QAAlB,GAA2B,gBAAlC,CAAmD,KAAI,SAAJ;AAAc,YAAI9L,IAAEoF,WAAW/C,CAAX,CAAN,CAAoB,IAAG,CAACrC,CAAD,IAAI,MAAIA,CAAX,EAAa;AAAC,aAAI2C,IAAEN,EAAElB,QAAF,GAAauN,KAAb,CAAmB,yBAAnB,CAAN,CAAoD1O,IAAE2C,IAAEA,EAAE,CAAF,CAAF,GAAO,CAAT;AAAW,gBAAO3C,CAAP,CAAS,KAAI,QAAJ;AAAa,eAAOoF,WAAW/C,CAAX,IAAc,UAAQA,CAAR,GAAU,GAAxB,GAA4B,MAAnC,CAA7M;AAAwP,MAArgB,EAAsgB6M,SAAQ,iBAAS/M,CAAT,EAAWrE,CAAX,EAAauE,CAAb,EAAe;AAAC,UAAG,KAAGpE,CAAN,EAAQ,QAAOkE,CAAP,GAAU,KAAI,MAAJ;AAAW,eAAM,QAAN,CAAe,KAAI,SAAJ;AAAc,YAAInC,IAAEqC,EAAElB,QAAF,GAAauN,KAAb,CAAmB,wBAAnB,CAAN,CAAmD,OAAOrM,IAAErC,IAAEA,EAAE,CAAF,IAAK,GAAP,GAAW,CAApB,CAAsB,KAAI,QAAJ;AAAa,eAAOlC,EAAEmH,KAAF,CAAQkK,IAAR,GAAa,CAAb,EAAe/J,WAAW/C,CAAX,KAAe,CAAf,GAAiB,EAAjB,GAAoB,mBAAiB+M,SAAS,MAAIhK,WAAW/C,CAAX,CAAb,EAA2B,EAA3B,CAAjB,GAAgD,GAA1F,CAAxI,CAAR,MAAmP,QAAOF,CAAP,GAAU,KAAI,MAAJ;AAAW,eAAM,SAAN,CAAgB,KAAI,SAAJ;AAAc,eAAOE,CAAP,CAAS,KAAI,QAAJ;AAAa,eAAOA,CAAP,CAAzE;AAAmF,MAAp2B,EAAZ,EAAk3BoM,UAAS,oBAAU;AAAC,UAAGxQ,CAAH,IAAMF,EAAE6J,KAAF,CAAQ+D,aAAd,KAA8B7E,EAAE+C,KAAF,CAAQoE,cAAR,GAAuBnH,EAAE+C,KAAF,CAAQoE,cAAR,CAAuBvG,MAAvB,CAA8BZ,EAAE+C,KAAF,CAAQC,YAAtC,CAArD,EAA0G,KAAI,IAAI3H,IAAE,CAAV,EAAYA,IAAE2E,EAAE+C,KAAF,CAAQoE,cAAR,CAAuB7L,MAArC,EAA4CD,GAA5C;AAAgD,OAAC,YAAU;AAAC,WAAIrE,IAAEgJ,EAAE+C,KAAF,CAAQoE,cAAR,CAAuB9L,CAAvB,CAAN,CAAgC2E,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4B7K,CAA5B,IAA+B,UAASqE,CAAT,EAAWE,CAAX,EAAaM,CAAb,EAAe;AAAC,gBAAOR,CAAP,GAAU,KAAI,MAAJ;AAAW,iBAAM,WAAN,CAAkB,KAAI,SAAJ;AAAc,iBAAOS,EAAEP,CAAF,MAAOrC,CAAP,IAAU4C,EAAEP,CAAF,EAAKiH,cAAL,CAAoBxL,CAApB,MAAyBkC,CAAnC,GAAqC,UAAUkF,IAAV,CAAepH,CAAf,IAAkB,CAAlB,GAAoB,CAAzD,GAA2D8E,EAAEP,CAAF,EAAKiH,cAAL,CAAoBxL,CAApB,EAAuBkR,OAAvB,CAA+B,OAA/B,EAAuC,EAAvC,CAAlE,CAA6G,KAAI,QAAJ;AAAa,cAAI9L,IAAE,CAAC,CAAP,CAAS,QAAOpF,EAAEuR,MAAF,CAAS,CAAT,EAAWvR,EAAEsE,MAAF,GAAS,CAApB,CAAP,GAA+B,KAAI,WAAJ;AAAgBc,gBAAE,CAAC,2BAA2BgC,IAA3B,CAAgCvC,CAAhC,CAAH,CAAsC,MAAM,KAAI,MAAJ,CAAW,KAAI,OAAJ;AAAY5E,cAAE6J,KAAF,CAAQ8D,SAAR,IAAmB9I,EAAEP,CAAF,EAAKiH,cAAL,CAAoBxL,CAApB,MAAyBkC,CAA5C,IAA+C,IAAE2C,CAAjD,KAAqDA,IAAE,CAAvD,GAA0DO,IAAE,CAAC,SAASgC,IAAT,CAAcvC,CAAd,CAA7D,CAA8E,MAAM,KAAI,MAAJ;AAAWO,gBAAE,CAAC,aAAagC,IAAb,CAAkBvC,CAAlB,CAAH,CAAwB,MAAM,KAAI,QAAJ;AAAaO,gBAAE,CAAC,aAAagC,IAAb,CAAkBvC,CAAlB,CAAH,CAA5P,CAAoR,OAAOO,MAAIN,EAAEP,CAAF,EAAKiH,cAAL,CAAoBxL,CAApB,IAAuB,MAAI6E,CAAJ,GAAM,GAAjC,GAAsCC,EAAEP,CAAF,EAAKiH,cAAL,CAAoBxL,CAApB,CAA7C,CAA5c;AAAihB,QAAhkB;AAAikB,OAA5mB,EAAD;AAAhD,MAAgqB,KAAI,IAAIqE,IAAE,CAAV,EAAYA,IAAE2E,EAAE+C,KAAF,CAAQmE,MAAR,CAAe5L,MAA7B,EAAoCD,GAApC;AAAwC,OAAC,YAAU;AAAC,WAAIrE,IAAEgJ,EAAE+C,KAAF,CAAQmE,MAAR,CAAe7L,CAAf,CAAN,CAAwB2E,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4B7K,CAA5B,IAA+B,UAASqE,CAAT,EAAWE,CAAX,EAAaM,CAAb,EAAe;AAAC,gBAAOR,CAAP,GAAU,KAAI,MAAJ;AAAW,iBAAOrE,CAAP,CAAS,KAAI,SAAJ;AAAc,cAAIoF,CAAJ,CAAM,IAAG4D,EAAE6G,KAAF,CAAQG,4BAAR,CAAqC5I,IAArC,CAA0CvC,CAA1C,CAAH,EAAgDO,IAAEP,CAAF,CAAhD,KAAwD;AAAC,eAAIC,CAAJ;AAAA,eAAM9C,IAAE,EAACwP,OAAM,cAAP,EAAsBC,MAAK,gBAA3B,EAA4CC,MAAK,oBAAjD,EAAsEC,OAAM,gBAA5E,EAA6FC,KAAI,gBAAjG,EAAkHC,OAAM,oBAAxH,EAAR,CAAsJ,YAAYzK,IAAZ,CAAiBvC,CAAjB,IAAoBC,IAAE9C,EAAE6C,CAAF,MAAO3C,CAAP,GAASF,EAAE6C,CAAF,CAAT,GAAc7C,EAAEwP,KAAtC,GAA4CxI,EAAE6G,KAAF,CAAQC,KAAR,CAAc1I,IAAd,CAAmBvC,CAAnB,IAAsBC,IAAE,SAAOkE,EAAEkD,MAAF,CAAS4F,QAAT,CAAkBjN,CAAlB,EAAqBgM,IAArB,CAA0B,GAA1B,CAAP,GAAsC,GAA9D,GAAkE,YAAYzJ,IAAZ,CAAiBvC,CAAjB,MAAsBC,IAAE9C,EAAEwP,KAA1B,CAA9G,EAA+IpM,IAAE,CAACN,KAAGD,CAAJ,EAAOxB,QAAP,GAAkBuN,KAAlB,CAAwB5H,EAAE6G,KAAF,CAAQE,WAAhC,EAA6C,CAA7C,EAAgDmB,OAAhD,CAAwD,UAAxD,EAAmE,GAAnE,CAAjJ;AAAyN,kBAAO,KAAG/Q,CAAH,IAAM,MAAIiF,EAAE0C,KAAF,CAAQ,GAAR,EAAaxD,MAAvB,KAAgCc,KAAG,IAAnC,GAAyCA,CAAhD,CAAkD,KAAI,QAAJ;AAAa,iBAAO,KAAGjF,CAAH,GAAK,MAAI0E,EAAEiD,KAAF,CAAQ,GAAR,EAAaxD,MAAjB,KAA0BO,IAAEA,EAAEiD,KAAF,CAAQ,KAAR,EAAeQ,KAAf,CAAqB,CAArB,EAAuB,CAAvB,EAA0BuI,IAA1B,CAA+B,GAA/B,CAA5B,CAAL,GAAsE,MAAIhM,EAAEiD,KAAF,CAAQ,GAAR,EAAaxD,MAAjB,KAA0BO,KAAG,IAA7B,CAAtE,EAAyG,CAAC,KAAG1E,CAAH,GAAK,KAAL,GAAW,MAAZ,IAAoB,GAApB,GAAwB0E,EAAEqM,OAAF,CAAU,MAAV,EAAiB,GAAjB,EAAsBA,OAAtB,CAA8B,eAA9B,EAA8C,EAA9C,CAAxB,GAA0E,GAA1L,CAAzhB;AAAwtB,QAAvwB;AAAwwB,OAA3yB,EAAD;AAAxC;AAAu1B,KAAv+E,EAA39D,EAAo8Ia,OAAM,EAACC,WAAU,mBAAS3N,CAAT,EAAW;AAAC,YAAOA,EAAE6M,OAAF,CAAU,QAAV,EAAmB,UAAS7M,CAAT,EAAWrE,CAAX,EAAa;AAAC,aAAOA,EAAEiS,WAAF,EAAP;AAAuB,MAAxD,CAAP;AAAiE,KAAxF,EAAyFC,cAAa,sBAAS7N,CAAT,EAAW;AAAC,SAAIrE,IAAE,4CAAN,CAAmD,OAAM,CAACG,KAAGF,EAAE6J,KAAF,CAAQ8D,SAAR,IAAmB,CAAC3N,EAAE6J,KAAF,CAAQgE,QAAhC,MAA4C9N,KAAG,YAA/C,GAA6D,IAAIiM,MAAJ,CAAW,OAAKjM,CAAL,GAAO,IAAlB,EAAuB,GAAvB,EAA4BoH,IAA5B,CAAiC/C,CAAjC,CAAnE;AAAuG,KAA5Q,EAA6Q8N,aAAY,qBAAS9N,CAAT,EAAW;AAAC,SAAGpE,EAAE6J,KAAF,CAAQoE,aAAR,CAAsB7J,CAAtB,CAAH,EAA4B,OAAM,CAACpE,EAAE6J,KAAF,CAAQoE,aAAR,CAAsB7J,CAAtB,CAAD,EAA0B,CAAC,CAA3B,CAAN,CAAoC,KAAI,IAAIrE,IAAE,CAAC,EAAD,EAAI,QAAJ,EAAa,KAAb,EAAmB,IAAnB,EAAwB,GAAxB,CAAN,EAAmCuE,IAAE,CAArC,EAAuCrC,IAAElC,EAAEsE,MAA/C,EAAsDpC,IAAEqC,CAAxD,EAA0DA,GAA1D,EAA8D;AAAC,UAAIM,CAAJ,CAAM,IAAGA,IAAE,MAAIN,CAAJ,GAAMF,CAAN,GAAQrE,EAAEuE,CAAF,IAAKF,EAAE6M,OAAF,CAAU,KAAV,EAAgB,UAAS7M,CAAT,EAAW;AAAC,cAAOA,EAAE4N,WAAF,EAAP;AAAuB,OAAnD,CAAf,EAAoE7J,EAAEsB,QAAF,CAAWzJ,EAAE6J,KAAF,CAAQmE,aAAR,CAAsB9G,KAAtB,CAA4BtC,CAA5B,CAAX,CAAvE,EAAkH,OAAO5E,EAAE6J,KAAF,CAAQoE,aAAR,CAAsB7J,CAAtB,IAAyBQ,CAAzB,EAA2B,CAACA,CAAD,EAAG,CAAC,CAAJ,CAAlC;AAAyC,aAAM,CAACR,CAAD,EAAG,CAAC,CAAJ,CAAN;AAAa,KAAllB,EAA18I,EAA8hK6H,QAAO,EAAC4F,UAAS,kBAASzN,CAAT,EAAW;AAAC,SAAIrE,CAAJ;AAAA,SAAMuE,IAAE,kCAAR;AAAA,SAA2CrC,IAAE,2CAA7C,CAAyF,OAAOmC,IAAEA,EAAE6M,OAAF,CAAU3M,CAAV,EAAY,UAASF,CAAT,EAAWrE,CAAX,EAAauE,CAAb,EAAerC,CAAf,EAAiB;AAAC,aAAOlC,IAAEA,CAAF,GAAIuE,CAAJ,GAAMA,CAAN,GAAQrC,CAAR,GAAUA,CAAjB;AAAmB,MAAjD,CAAF,EAAqDlC,IAAEkC,EAAEkQ,IAAF,CAAO/N,CAAP,CAAvD,EAAiErE,IAAE,CAACsR,SAAStR,EAAE,CAAF,CAAT,EAAc,EAAd,CAAD,EAAmBsR,SAAStR,EAAE,CAAF,CAAT,EAAc,EAAd,CAAnB,EAAqCsR,SAAStR,EAAE,CAAF,CAAT,EAAc,EAAd,CAArC,CAAF,GAA0D,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAAlI;AAA0I,KAAzP,EAA0P+Q,gBAAe,wBAAS1M,CAAT,EAAW;AAAC,YAAO,KAAGA,CAAH,IAAM,qDAAqD+C,IAArD,CAA0D/C,CAA1D,CAAb;AAA0E,KAA/V,EAAgWgO,aAAY,qBAAShO,CAAT,EAAW;AAAC,YAAM,mBAAkB+C,IAAlB,CAAuB/C,CAAvB,IAA0B,KAA1B,GAAgC,kHAAkH+C,IAAlH,CAAuH/C,CAAvH,IAA0H,EAA1H,GAA6H;AAAnK;AAAwK,KAAhiB,EAAiiBiO,gBAAe,wBAASjO,CAAT,EAAW;AAAC,SAAIrE,IAAEqE,KAAGA,EAAEkO,OAAF,CAAUlP,QAAV,GAAqB6D,WAArB,EAAT,CAA4C,OAAM,4JAA2JE,IAA3J,CAAgKpH,CAAhK,IAAmK,QAAnK,GAA4K,UAAUoH,IAAV,CAAepH,CAAf,IAAkB,WAAlB,GAA8B,UAAUoH,IAAV,CAAepH,CAAf,IAAkB,WAAlB,GAA8B,aAAaoH,IAAb,CAAkBpH,CAAlB,IAAqB,OAArB,GAA6B,aAAaoH,IAAb,CAAkBpH,CAAlB,IAAqB,iBAArB,GAAuC;AAAlT;AAA0T,KAAl6B,EAAm6BwS,UAAS,kBAASnO,CAAT,EAAWrE,CAAX,EAAa;AAACqE,OAAEoO,SAAF,GAAYpO,EAAEoO,SAAF,CAAY7O,GAAZ,CAAgB5D,CAAhB,CAAZ,GAA+BqE,EAAEqO,SAAF,IAAa,CAACrO,EAAEqO,SAAF,CAAYpO,MAAZ,GAAmB,GAAnB,GAAuB,EAAxB,IAA4BtE,CAAxE;AAA0E,KAApgC,EAAqgCmM,aAAY,qBAAS9H,CAAT,EAAWrE,CAAX,EAAa;AAACqE,OAAEoO,SAAF,GAAYpO,EAAEoO,SAAF,CAAYE,MAAZ,CAAmB3S,CAAnB,CAAZ,GAAkCqE,EAAEqO,SAAF,GAAYrO,EAAEqO,SAAF,CAAYrP,QAAZ,GAAuB6N,OAAvB,CAA+B,IAAIjF,MAAJ,CAAW,YAAUjM,EAAE8H,KAAF,CAAQ,GAAR,EAAa+I,IAAb,CAAkB,GAAlB,CAAV,GAAiC,SAA5C,EAAsD,IAAtD,CAA/B,EAA2F,GAA3F,CAA9C;AAA8I,KAA7qC,EAAriK,EAAotM+B,kBAAiB,0BAASvO,CAAT,EAAWE,CAAX,EAAaM,CAAb,EAAeO,CAAf,EAAiB;AAAC,aAASpD,CAAT,CAAWqC,CAAX,EAAaE,CAAb,EAAe;AAAC,cAASM,CAAT,GAAY;AAACgB,WAAGmD,EAAEkB,gBAAF,CAAmB7F,CAAnB,EAAqB,SAArB,EAA+B,MAA/B,CAAH;AAA0C,UAAIuB,IAAE,CAAN,CAAQ,IAAG,KAAGzF,CAAN,EAAQyF,IAAE4C,EAAExE,GAAF,CAAMK,CAAN,EAAQE,CAAR,CAAF,CAAR,KAAyB;AAAC,UAAIsB,IAAE,CAAC,CAAP,CAAS,IAAG,mBAAmBuB,IAAnB,CAAwB7C,CAAxB,KAA4B,MAAIyE,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqB,SAArB,CAAhC,KAAkEwB,IAAE,CAAC,CAAH,EAAKmD,EAAEkB,gBAAF,CAAmB7F,CAAnB,EAAqB,SAArB,EAA+B2E,EAAEkD,MAAF,CAASoG,cAAT,CAAwBjO,CAAxB,CAA/B,CAAvE,GAAmI,CAACe,CAAvI,EAAyI;AAAC,WAAG,aAAWb,CAAX,IAAc,iBAAeyE,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqB,WAArB,EAAkChB,QAAlC,GAA6C6D,WAA7C,EAAhC,EAA2F;AAAC,YAAIhH,IAAEmE,EAAEwO,YAAF,IAAgBvL,WAAW0B,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqB,gBAArB,CAAX,KAAoD,CAApE,KAAwEiD,WAAW0B,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqB,mBAArB,CAAX,KAAuD,CAA/H,KAAmIiD,WAAW0B,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqB,YAArB,CAAX,KAAgD,CAAnL,KAAuLiD,WAAW0B,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqB,eAArB,CAAX,KAAmD,CAA1O,CAAN,CAAmP,OAAOQ,KAAI3E,CAAX;AAAa,YAAG,YAAUqE,CAAV,IAAa,iBAAeyE,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqB,WAArB,EAAkChB,QAAlC,GAA6C6D,WAA7C,EAA/B,EAA0F;AAAC,YAAIjF,IAAEoC,EAAEyO,WAAF,IAAexL,WAAW0B,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqB,iBAArB,CAAX,KAAqD,CAApE,KAAwEiD,WAAW0B,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqB,kBAArB,CAAX,KAAsD,CAA9H,KAAkIiD,WAAW0B,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqB,aAArB,CAAX,KAAiD,CAAnL,KAAuLiD,WAAW0B,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqB,cAArB,CAAX,KAAkD,CAAzO,CAAN,CAAkP,OAAOQ,KAAI5C,CAAX;AAAa;AAAC,WAAI6G,CAAJ,CAAMA,IAAEhE,EAAET,CAAF,MAAOnC,CAAP,GAASlC,EAAE+S,gBAAF,CAAmB1O,CAAnB,EAAqB,IAArB,CAAT,GAAoCS,EAAET,CAAF,EAAKsK,aAAL,GAAmB7J,EAAET,CAAF,EAAKsK,aAAxB,GAAsC7J,EAAET,CAAF,EAAKsK,aAAL,GAAmB3O,EAAE+S,gBAAF,CAAmB1O,CAAnB,EAAqB,IAArB,CAA/F,EAA0H,kBAAgBE,CAAhB,KAAoBA,IAAE,gBAAtB,CAA1H,EAAkKqB,IAAE,MAAIzF,CAAJ,IAAO,aAAWoE,CAAlB,GAAoBuE,EAAE8J,gBAAF,CAAmBrO,CAAnB,CAApB,GAA0CuE,EAAEvE,CAAF,CAA9M,EAAmN,CAAC,OAAKqB,CAAL,IAAQ,SAAOA,CAAhB,MAAqBA,IAAEvB,EAAE8C,KAAF,CAAQ5C,CAAR,CAAvB,CAAnN,EAAsPM,GAAtP;AAA0P,UAAG,WAASe,CAAT,IAAY,6BAA6BwB,IAA7B,CAAkC7C,CAAlC,CAAf,EAAoD;AAAC,UAAI6D,IAAEpG,EAAEqC,CAAF,EAAI,UAAJ,CAAN,CAAsB,CAAC,YAAU+D,CAAV,IAAa,eAAaA,CAAb,IAAgB,YAAYhB,IAAZ,CAAiB7C,CAAjB,CAA9B,MAAqDqB,IAAE4C,EAAEnE,CAAF,EAAK2C,QAAL,GAAgBzC,CAAhB,IAAmB,IAA1E;AAAgF,aAAOqB,CAAP;AAAS,SAAIA,CAAJ,CAAM,IAAGoD,EAAE4B,KAAF,CAAQC,UAAR,CAAmBtG,CAAnB,CAAH,EAAyB;AAAC,SAAIsB,IAAEtB,CAAN;AAAA,SAAQrE,IAAE8I,EAAE4B,KAAF,CAAQG,OAAR,CAAgBlF,CAAhB,CAAV,CAA6BhB,MAAI3C,CAAJ,KAAQ2C,IAAEmE,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqB2E,EAAE+I,KAAF,CAAQI,WAAR,CAAoBjS,CAApB,EAAuB,CAAvB,CAArB,CAAV,GAA2D8I,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4B3K,CAA5B,MAAiC2E,IAAEmE,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4B3K,CAA5B,EAA+B,SAA/B,EAAyCmE,CAAzC,EAA2CQ,CAA3C,CAAnC,CAA3D,EAA6Ie,IAAEoD,EAAE4B,KAAF,CAAQoG,YAAR,CAAqBnL,CAArB,EAAuBhB,CAAvB,CAA/I;AAAyK,KAAhO,MAAqO,IAAGmE,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4BtG,CAA5B,CAAH,EAAkC;AAAC,SAAItC,CAAJ,EAAM6G,CAAN,CAAQ7G,IAAE+G,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4BtG,CAA5B,EAA+B,MAA/B,EAAsCF,CAAtC,CAAF,EAA2C,gBAAcpC,CAAd,KAAkB6G,IAAE9G,EAAEqC,CAAF,EAAI2E,EAAE+I,KAAF,CAAQI,WAAR,CAAoBlQ,CAApB,EAAuB,CAAvB,CAAJ,CAAF,EAAiC+G,EAAEkD,MAAF,CAAS6E,cAAT,CAAwBjI,CAAxB,KAA4BE,EAAE4B,KAAF,CAAQwF,SAAR,CAAkB7L,CAAlB,CAA5B,KAAmDuE,IAAEE,EAAE4B,KAAF,CAAQwF,SAAR,CAAkB7L,CAAlB,EAAqB,CAArB,CAArD,CAAnD,CAA3C,EAA6KqB,IAAEoD,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4BtG,CAA5B,EAA+B,SAA/B,EAAyCF,CAAzC,EAA2CyE,CAA3C,CAA/K;AAA6N,SAAG,CAAC,SAAS1B,IAAT,CAAcxB,CAAd,CAAJ,EAAqB,IAAGd,EAAET,CAAF,KAAMS,EAAET,CAAF,EAAK+I,KAAX,IAAkBpE,EAAE+I,KAAF,CAAQG,YAAR,CAAqB3N,CAArB,CAArB;AAA6C,SAAG,oBAAoB6C,IAApB,CAAyB7C,CAAzB,CAAH,EAA+B,IAAG;AAACqB,UAAEvB,EAAE2O,OAAF,GAAYzO,CAAZ,CAAF;AAAiB,MAArB,CAAqB,OAAM6D,CAAN,EAAQ;AAACxC,UAAE,CAAF;AAAI,MAAjE,MAAsEA,IAAEvB,EAAE4O,YAAF,CAAe1O,CAAf,CAAF;AAAnH,WAA4IqB,IAAE5D,EAAEqC,CAAF,EAAI2E,EAAE+I,KAAF,CAAQI,WAAR,CAAoB5N,CAApB,EAAuB,CAAvB,CAAJ,CAAF,CAAiC,OAAOyE,EAAEkD,MAAF,CAAS6E,cAAT,CAAwBnL,CAAxB,MAA6BA,IAAE,CAA/B,GAAkC3F,EAAEiP,KAAF,IAAS,CAAT,IAAY/K,QAAQC,GAAR,CAAY,SAAOG,CAAP,GAAS,IAAT,GAAcqB,CAA1B,CAA9C,EAA2EA,CAAlF;AAAoF,IAAv1Q,EAAw1QsE,kBAAiB,0BAAS7F,CAAT,EAAWE,CAAX,EAAarC,CAAb,EAAe2C,CAAf,EAAiBO,CAAjB,EAAmB;AAAC,QAAIpD,IAAEuC,CAAN,CAAQ,IAAG,aAAWA,CAAd,EAAgBa,EAAE8N,SAAF,GAAY9N,EAAE8N,SAAF,CAAY,WAAS9N,EAAE+N,SAAvB,IAAkCjR,CAA9C,GAAgD,WAASkD,EAAE+N,SAAX,GAAqBnT,EAAEoT,QAAF,CAAWlR,CAAX,EAAakD,EAAEiO,cAAf,CAArB,GAAoDrT,EAAEoT,QAAF,CAAWhO,EAAEiO,cAAb,EAA4BnR,CAA5B,CAApG,CAAhB,KAAwJ,IAAG8G,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4BtG,CAA5B,KAAgC,gBAAcyE,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4BtG,CAA5B,EAA+B,MAA/B,EAAsCF,CAAtC,CAAjD,EAA0F2E,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4BtG,CAA5B,EAA+B,QAA/B,EAAwCF,CAAxC,EAA0CnC,CAA1C,GAA6CF,IAAE,WAA/C,EAA2DE,IAAE4C,EAAET,CAAF,EAAKmH,cAAL,CAAoBjH,CAApB,CAA7D,CAA1F,KAAkL;AAAC,SAAGyE,EAAE4B,KAAF,CAAQC,UAAR,CAAmBtG,CAAnB,CAAH,EAAyB;AAAC,UAAIqB,IAAErB,CAAN;AAAA,UAAQsB,IAAEmD,EAAE4B,KAAF,CAAQG,OAAR,CAAgBxG,CAAhB,CAAV,CAA6BM,IAAEA,KAAGmE,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqBwB,CAArB,CAAL,EAA6B3D,IAAE8G,EAAE4B,KAAF,CAAQqG,WAAR,CAAoBrL,CAApB,EAAsB1D,CAAtB,EAAwB2C,CAAxB,CAA/B,EAA0DN,IAAEsB,CAA5D;AAA8D,UAAGmD,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4BtG,CAA5B,MAAiCrC,IAAE8G,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4BtG,CAA5B,EAA+B,QAA/B,EAAwCF,CAAxC,EAA0CnC,CAA1C,CAAF,EAA+CqC,IAAEyE,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4BtG,CAA5B,EAA+B,MAA/B,EAAsCF,CAAtC,CAAlF,GAA4HrC,IAAEgH,EAAE+I,KAAF,CAAQI,WAAR,CAAoB5N,CAApB,EAAuB,CAAvB,CAA9H,EAAwJ,KAAGpE,CAA9J,EAAgK,IAAG;AAACkE,QAAE8C,KAAF,CAAQnF,CAAR,IAAWE,CAAX;AAAa,MAAjB,CAAiB,OAAMhC,CAAN,EAAQ;AAACD,QAAEiP,KAAF,IAAS/K,QAAQC,GAAR,CAAY,+BAA6BlC,CAA7B,GAA+B,SAA/B,GAAyCF,CAAzC,GAA2C,GAAvD,CAAT;AAAqE,MAA/P,MAAoQ8C,EAAET,CAAF,KAAMS,EAAET,CAAF,EAAK+I,KAAX,IAAkBpE,EAAE+I,KAAF,CAAQG,YAAR,CAAqB3N,CAArB,CAAlB,GAA0CF,EAAEiP,YAAF,CAAe/O,CAAf,EAAiBrC,CAAjB,CAA1C,GAA8DmC,EAAE8C,KAAF,CAAQnF,CAAR,IAAWE,CAAzE,CAA2EjC,EAAEiP,KAAF,IAAS,CAAT,IAAY/K,QAAQC,GAAR,CAAY,SAAOG,CAAP,GAAS,IAAT,GAAcvC,CAAd,GAAgB,KAAhB,GAAsBE,CAAlC,CAAZ;AAAiD,YAAM,CAACF,CAAD,EAAGE,CAAH,CAAN;AAAY,IAAjtS,EAAktSwJ,qBAAoB,6BAASrH,CAAT,EAAW;AAAC,aAASrE,CAAT,CAAWA,CAAX,EAAa;AAAC,YAAOsH,WAAW0B,EAAE4J,gBAAF,CAAmBvO,CAAnB,EAAqBrE,CAArB,CAAX,CAAP;AAA2C,SAAIuE,IAAE,EAAN,CAAS,IAAG,CAACpE,KAAGF,EAAE6J,KAAF,CAAQ8D,SAAR,IAAmB,CAAC3N,EAAE6J,KAAF,CAAQgE,QAAhC,KAA2ChJ,EAAET,CAAF,EAAK+I,KAAnD,EAAyD;AAAC,SAAIlL,IAAE,EAACqR,WAAU,CAACvT,EAAE,YAAF,CAAD,EAAiBA,EAAE,YAAF,CAAjB,CAAX,EAA6CwT,OAAM,CAACxT,EAAE,OAAF,CAAD,CAAnD,EAAgEyT,OAAM,CAACzT,EAAE,OAAF,CAAD,CAAtE,EAAmF0T,OAAM,MAAI1T,EAAE,OAAF,CAAJ,GAAe,CAACA,EAAE,OAAF,CAAD,EAAYA,EAAE,OAAF,CAAZ,CAAf,GAAuC,CAACA,EAAE,QAAF,CAAD,EAAaA,EAAE,QAAF,CAAb,CAAhI,EAA0J2T,QAAO,CAAC3T,EAAE,SAAF,CAAD,EAAc,CAAd,EAAgB,CAAhB,CAAjK,EAAN,CAA2LwI,EAAEzE,IAAF,CAAOe,EAAET,CAAF,EAAKmH,cAAZ,EAA2B,UAASnH,CAAT,EAAW;AAAC,oBAAc+C,IAAd,CAAmB/C,CAAnB,IAAsBA,IAAE,WAAxB,GAAoC,UAAU+C,IAAV,CAAe/C,CAAf,IAAkBA,IAAE,OAApB,GAA4B,WAAW+C,IAAX,CAAgB/C,CAAhB,MAAqBA,IAAE,QAAvB,CAAhE,EAAiGnC,EAAEmC,CAAF,MAAOE,KAAGF,IAAE,GAAF,GAAMnC,EAAEmC,CAAF,EAAKwM,IAAL,CAAU,GAAV,CAAN,GAAqB,IAAxB,EAA6B,OAAO3O,EAAEmC,CAAF,CAA3C,CAAjG;AAAkJ,MAAzL;AAA2L,KAAhb,MAAob;AAAC,SAAIQ,CAAJ,EAAMO,CAAN,CAAQoD,EAAEzE,IAAF,CAAOe,EAAET,CAAF,EAAKmH,cAAZ,EAA2B,UAASxL,CAAT,EAAW;AAAC,aAAO6E,IAAEC,EAAET,CAAF,EAAKmH,cAAL,CAAoBxL,CAApB,CAAF,EAAyB,2BAAyBA,CAAzB,IAA4BoF,IAAEP,CAAF,EAAI,CAAC,CAAjC,KAAqC,MAAI1E,CAAJ,IAAO,cAAYH,CAAnB,KAAuBA,IAAE,QAAzB,GAAmC,MAAKuE,KAAGvE,IAAE6E,CAAF,GAAI,GAAZ,CAAxE,CAAhC;AAA0H,MAAjK,GAAmKO,MAAIb,IAAE,gBAAca,CAAd,GAAgB,GAAhB,GAAoBb,CAA1B,CAAnK;AAAgM,OAAE2F,gBAAF,CAAmB7F,CAAnB,EAAqB,WAArB,EAAiCE,CAAjC;AAAoC,IAAr9T,EAAZ,CAAm+TyE,EAAE4B,KAAF,CAAQ+F,QAAR,IAAmB3H,EAAEsC,cAAF,CAAiBqF,QAAjB,EAAnB,EAA+C1Q,EAAE2O,IAAF,GAAO,UAASvK,CAAT,EAAWrE,CAAX,EAAauE,CAAb,EAAe;AAAC,OAAIM,IAAE3C,CAAN,CAAQ,OAAOmC,IAAEe,EAAEf,CAAF,CAAF,EAAOmE,EAAEzE,IAAF,CAAOM,CAAP,EAAS,UAASA,CAAT,EAAWe,CAAX,EAAa;AAAC,QAAGN,EAAEM,CAAF,MAAOlD,CAAP,IAAUjC,EAAE2E,IAAF,CAAOQ,CAAP,CAAV,EAAoBb,MAAIrC,CAA3B,EAA6B2C,MAAI3C,CAAJ,KAAQ2C,IAAE5E,EAAEqO,GAAF,CAAMsE,gBAAN,CAAuBxN,CAAvB,EAAyBpF,CAAzB,CAAV,EAA7B,KAAwE;AAAC,SAAIgC,IAAE/B,EAAEqO,GAAF,CAAMpE,gBAAN,CAAuB9E,CAAvB,EAAyBpF,CAAzB,EAA2BuE,CAA3B,CAAN,CAAoC,gBAAcvC,EAAE,CAAF,CAAd,IAAoB/B,EAAEqO,GAAF,CAAM5C,mBAAN,CAA0BtG,CAA1B,CAApB,EAAiDP,IAAE7C,CAAnD;AAAqD;AAAC,IAA1L,CAAP,EAAmM6C,CAA1M;AAA4M,GAA1R,CAA2R,IAAIoE,IAAE,SAAFA,CAAE,GAAU;AAAC,YAAS5E,CAAT,GAAY;AAAC,WAAOrC,IAAEoI,EAAEwJ,OAAF,IAAW,IAAb,GAAkBhO,CAAzB;AAA2B,aAASf,CAAT,GAAY;AAAC,aAASR,CAAT,CAAWA,CAAX,EAAa;AAAC,cAASpC,CAAT,CAAWoC,CAAX,EAAarE,CAAb,EAAe;AAAC,UAAIuE,IAAErC,CAAN;AAAA,UAAQ2C,IAAE3C,CAAV;AAAA,UAAY4C,IAAE5C,CAAd,CAAgB,OAAOkG,EAAEpD,OAAF,CAAUX,CAAV,KAAcE,IAAEF,EAAE,CAAF,CAAF,EAAO,CAAC+D,EAAEpD,OAAF,CAAUX,EAAE,CAAF,CAAV,CAAD,IAAkB,SAAS+C,IAAT,CAAc/C,EAAE,CAAF,CAAd,CAAlB,IAAuC+D,EAAE0E,UAAF,CAAazI,EAAE,CAAF,CAAb,CAAvC,IAA2D2E,EAAE6G,KAAF,CAAQC,KAAR,CAAc1I,IAAd,CAAmB/C,EAAE,CAAF,CAAnB,CAA3D,GAAoFS,IAAET,EAAE,CAAF,CAAtF,GAA2F,CAAC+D,EAAEsB,QAAF,CAAWrF,EAAE,CAAF,CAAX,KAAkB,CAAC2E,EAAE6G,KAAF,CAAQC,KAAR,CAAc1I,IAAd,CAAmB/C,EAAE,CAAF,CAAnB,CAAnB,IAA6C+D,EAAEpD,OAAF,CAAUX,EAAE,CAAF,CAAV,CAA9C,MAAiEQ,IAAE7E,IAAEqE,EAAE,CAAF,CAAF,GAAOwB,EAAExB,EAAE,CAAF,CAAF,EAAOrC,EAAEgI,QAAT,CAAT,EAA4B3F,EAAE,CAAF,MAAOnC,CAAP,KAAW4C,IAAET,EAAE,CAAF,CAAb,CAA7F,CAAhH,IAAkOE,IAAEF,CAApO,EAAsOrE,MAAI6E,IAAEA,KAAG7C,EAAErC,MAAX,CAAtO,EAAyPyI,EAAE0E,UAAF,CAAavI,CAAb,MAAkBA,IAAEA,EAAEQ,IAAF,CAAOK,CAAP,EAAS2D,CAAT,EAAWL,CAAX,CAApB,CAAzP,EAA4RN,EAAE0E,UAAF,CAAahI,CAAb,MAAkBA,IAAEA,EAAEC,IAAF,CAAOK,CAAP,EAAS2D,CAAT,EAAWL,CAAX,CAApB,CAA5R,EAA+T,CAACnE,KAAG,CAAJ,EAAMM,CAAN,EAAQC,CAAR,CAAtU;AAAiV,eAAS3E,CAAT,CAAWkE,CAAX,EAAarE,CAAb,EAAe;AAAC,UAAIuE,CAAJ,EAAMrC,CAAN,CAAQ,OAAOA,IAAE,CAAClC,KAAG,GAAJ,EAASqD,QAAT,GAAoB6D,WAApB,GAAkCgK,OAAlC,CAA0C,UAA1C,EAAqD,UAAS7M,CAAT,EAAW;AAAC,cAAOE,IAAEF,CAAF,EAAI,EAAX;AAAc,OAA/E,CAAF,EAAmFE,MAAIA,IAAEyE,EAAEkD,MAAF,CAASmG,WAAT,CAAqBhO,CAArB,CAAN,CAAnF,EAAkH,CAACnC,CAAD,EAAGqC,CAAH,CAAzH;AAA+H,eAASoE,CAAT,GAAY;AAAC,UAAItE,IAAE,EAACwP,UAASzO,EAAEiK,UAAF,IAAc9K,EAAE6K,IAA1B,EAA+BpI,UAASgC,EAAE4J,gBAAF,CAAmBxN,CAAnB,EAAqB,UAArB,CAAxC,EAAyE0O,UAAS9K,EAAE4J,gBAAF,CAAmBxN,CAAnB,EAAqB,UAArB,CAAlF,EAAN;AAAA,UAA0HlD,IAAEmC,EAAE2C,QAAF,KAAamE,EAAE4I,YAAf,IAA6B1P,EAAEwP,QAAF,KAAa1I,EAAE6I,UAAxK;AAAA,UAAmLnP,IAAER,EAAEyP,QAAF,KAAa3I,EAAE8I,YAApM,CAAiN9I,EAAE6I,UAAF,GAAa3P,EAAEwP,QAAf,EAAwB1I,EAAE4I,YAAF,GAAe1P,EAAE2C,QAAzC,EAAkDmE,EAAE8I,YAAF,GAAe5P,EAAEyP,QAAnE,CAA4E,IAAI9R,IAAE,GAAN;AAAA,UAAU4D,IAAE,EAAZ,CAAe,IAAGf,KAAG3C,CAAN,EAAQ0D,EAAEsO,MAAF,GAAS/I,EAAEgJ,UAAX,EAAsBvO,EAAEwO,gBAAF,GAAmBjJ,EAAEkJ,oBAA3C,EAAgEzO,EAAE0O,iBAAF,GAAoBnJ,EAAEoJ,qBAAtF,CAAR,KAAwH;AAAC,WAAI1O,IAAEf,EAAEM,CAAF,EAAKgI,KAAL,GAAW7I,EAAEiQ,eAAF,CAAkB,4BAAlB,EAA+C,MAA/C,CAAX,GAAkEjQ,EAAEkI,aAAF,CAAgB,KAAhB,CAAxE,CAA+FxM,EAAE2E,IAAF,CAAOiB,CAAP,GAAUxB,EAAEwP,QAAF,CAAWY,WAAX,CAAuB5O,CAAvB,CAAV,EAAoC2C,EAAEzE,IAAF,CAAO,CAAC,UAAD,EAAY,WAAZ,EAAwB,WAAxB,CAAP,EAA4C,UAASM,CAAT,EAAWrE,CAAX,EAAa;AAACC,UAAEqO,GAAF,CAAMpE,gBAAN,CAAuBrE,CAAvB,EAAyB7F,CAAzB,EAA2B,QAA3B;AAAqC,QAA/F,CAApC,EAAqIC,EAAEqO,GAAF,CAAMpE,gBAAN,CAAuBrE,CAAvB,EAAyB,UAAzB,EAAoCxB,EAAE2C,QAAtC,CAArI,EAAqL/G,EAAEqO,GAAF,CAAMpE,gBAAN,CAAuBrE,CAAvB,EAAyB,UAAzB,EAAoCxB,EAAEyP,QAAtC,CAArL,EAAqO7T,EAAEqO,GAAF,CAAMpE,gBAAN,CAAuBrE,CAAvB,EAAyB,WAAzB,EAAqC,aAArC,CAArO,EAAyR2C,EAAEzE,IAAF,CAAO,CAAC,UAAD,EAAY,UAAZ,EAAuB,OAAvB,EAA+B,WAA/B,EAA2C,WAA3C,EAAuD,QAAvD,CAAP,EAAwE,UAASM,CAAT,EAAWrE,CAAX,EAAa;AAACC,UAAEqO,GAAF,CAAMpE,gBAAN,CAAuBrE,CAAvB,EAAyB7F,CAAzB,EAA2BgC,IAAE,GAA7B;AAAkC,QAAxH,CAAzR,EAAmZ/B,EAAEqO,GAAF,CAAMpE,gBAAN,CAAuBrE,CAAvB,EAAyB,aAAzB,EAAuC7D,IAAE,IAAzC,CAAnZ,EAAkc4D,EAAEwO,gBAAF,GAAmBjJ,EAAEkJ,oBAAF,GAAuB,CAAC/M,WAAW0B,EAAE4J,gBAAF,CAAmB/M,CAAnB,EAAqB,OAArB,EAA6B,IAA7B,EAAkC,CAAC,CAAnC,CAAX,KAAmD,CAApD,IAAuD7D,CAAniB,EAAqiB4D,EAAE0O,iBAAF,GAAoBnJ,EAAEoJ,qBAAF,GAAwB,CAACjN,WAAW0B,EAAE4J,gBAAF,CAAmB/M,CAAnB,EAAqB,QAArB,EAA8B,IAA9B,EAAmC,CAAC,CAApC,CAAX,KAAoD,CAArD,IAAwD7D,CAAzoB,EAA2oB4D,EAAEsO,MAAF,GAAS/I,EAAEgJ,UAAF,GAAa,CAAC7M,WAAW0B,EAAE4J,gBAAF,CAAmB/M,CAAnB,EAAqB,aAArB,CAAX,KAAiD,CAAlD,IAAqD7D,CAAttB,EAAwtBqC,EAAEwP,QAAF,CAAWa,WAAX,CAAuB7O,CAAvB,CAAxtB;AAAkvB,cAAO,SAAOsF,EAAEwJ,OAAT,KAAmBxJ,EAAEwJ,OAAF,GAAUrN,WAAW0B,EAAE4J,gBAAF,CAAmBrO,EAAE6K,IAArB,EAA0B,UAA1B,CAAX,KAAmD,EAAhF,GAAoF,SAAOjE,EAAEyJ,MAAT,KAAkBzJ,EAAEyJ,MAAF,GAAStN,WAAWtH,EAAE6U,UAAb,IAAyB,GAAlC,EAAsC1J,EAAE2J,MAAF,GAASxN,WAAWtH,EAAE+U,WAAb,IAA0B,GAA3F,CAApF,EAAoLnP,EAAE+O,OAAF,GAAUxJ,EAAEwJ,OAAhM,EAAwM/O,EAAEgP,MAAF,GAASzJ,EAAEyJ,MAAnN,EAA0NhP,EAAEkP,MAAF,GAAS3J,EAAE2J,MAArO,EAA4O7U,EAAEiP,KAAF,IAAS,CAAT,IAAY/K,QAAQC,GAAR,CAAY,kBAAgB4Q,KAAKC,SAAL,CAAerP,CAAf,CAA5B,EAA8CR,CAA9C,CAAxP,EAAySQ,CAAhT;AAAkT,UAAG5D,EAAEyM,KAAF,IAAS,MAAI1F,CAAhB,EAAkB,IAAG;AAAC/G,QAAEyM,KAAF,CAAQ1J,IAAR,CAAa+D,CAAb,EAAeA,CAAf;AAAkB,MAAtB,CAAsB,OAAM/I,CAAN,EAAQ;AAACsM,iBAAW,YAAU;AAAC,aAAMtM,CAAN;AAAQ,OAA9B,EAA+B,CAA/B;AAAkC,UAAG,aAAWsK,CAAd,EAAgB;AAAC,UAAIpB,CAAJ;AAAA,UAAMM,CAAN;AAAA,UAAQE,CAAR;AAAA,UAAUa,IAAE,OAAOlD,IAAP,CAAYpF,EAAEkT,IAAd,IAAoB,MAApB,GAA2B,KAAvC;AAAA,UAA6C3K,IAAEjD,WAAWtF,EAAEqE,MAAb,KAAsB,CAArE,CAAuErE,EAAEkR,SAAF,GAAY9K,EAAEC,SAAF,CAAYrG,EAAEkR,SAAd,KAA0B9K,EAAEG,MAAF,CAASvG,EAAEkR,SAAX,CAA1B,IAAiDlR,EAAEkR,SAAF,GAAYlR,EAAEkR,SAAF,CAAY,CAAZ,KAAgBlR,EAAEkR,SAA9B,EAAwCjK,IAAEjH,EAAEkR,SAAF,CAAY,WAAS5I,CAArB,CAA1C,EAAkEb,IAAER,IAAET,EAAEpD,CAAF,EAAK4B,QAAL,GAAgBsD,EAAEpD,WAAF,EAAhB,CAAF,GAAmCqD,CAAxJ,IAA2JvI,EAAEkR,SAAF,GAAY,IAAnL,IAAyLjK,IAAEhJ,EAAE6J,KAAF,CAAQqE,YAAR,CAAqBlO,EAAE6J,KAAF,CAAQ,mBAAiBQ,CAAzB,CAArB,CAAF,EAAoDf,IAAEtJ,EAAE6J,KAAF,CAAQqE,YAAR,CAAqBlO,EAAE6J,KAAF,CAAQ,oBAAkB,WAASQ,CAAT,GAAW,KAAX,GAAiB,MAAnC,CAAR,CAArB,CAAtD,EAAgIb,IAAEjB,EAAEpD,CAAF,EAAKiB,MAAL,GAAciE,EAAEpD,WAAF,EAAd,IAA+BqD,CAA1V,GAA6V3E,IAAE,EAACuP,QAAO,EAACjK,mBAAkB,CAAC,CAApB,EAAsBR,YAAWzB,CAAjC,EAAmC0B,cAAa1B,CAAhD,EAAkDuB,UAASf,CAA3D,EAA6D2B,UAAS,EAAtE,EAAyEzL,QAAOqC,EAAErC,MAAlF,EAAyF0L,YAAW,EAAC6H,WAAUlR,EAAEkR,SAAb,EAAuBC,WAAU7I,CAAjC,EAAmC+I,gBAAe9J,CAAlD,EAApG,EAAR,EAAkK/F,SAAQ4B,CAA1K,EAA/V,EAA4gBnF,EAAEiP,KAAF,IAAS/K,QAAQC,GAAR,CAAY,4BAAZ,EAAyCwB,EAAEuP,MAA3C,EAAkD/P,CAAlD,CAArhB;AAA0kB,MAAlqB,MAAuqB,IAAG,cAAYiF,CAAf,EAAiB;AAAC,UAAG,CAACvF,EAAEM,CAAF,EAAKkH,eAAT,EAAyB,OAAO,KAAK9D,EAAEvC,OAAF,CAAUb,CAAV,EAAYpD,EAAE8D,KAAd,CAAZ,CAAiC,WAAShB,EAAEM,CAAF,EAAKgQ,IAAL,CAAUnL,OAAnB,KAA6BnF,EAAEM,CAAF,EAAKgQ,IAAL,CAAUnL,OAAV,GAAkB,MAA/C,GAAuD,aAAWnF,EAAEM,CAAF,EAAKgQ,IAAL,CAAUjL,UAArB,KAAkCrF,EAAEM,CAAF,EAAKgQ,IAAL,CAAUjL,UAAV,GAAqB,SAAvD,CAAvD,EAAyHrF,EAAEM,CAAF,EAAKgQ,IAAL,CAAUvJ,IAAV,GAAe,CAAC,CAAzI,EAA2I/G,EAAEM,CAAF,EAAKgQ,IAAL,CAAU3G,KAAV,GAAgB,IAA3J,EAAgK3J,EAAEM,CAAF,EAAKgQ,IAAL,CAAUhJ,QAAV,GAAmB,IAAnL,EAAwLxD,EAAEjJ,MAAF,IAAU,OAAOqC,EAAErC,MAA3M,EAAkNiJ,EAAEoB,QAAF,IAAY,OAAOhI,EAAEgI,QAAvO,EAAgPhI,IAAEwG,EAAE5I,MAAF,CAAS,EAAT,EAAYkF,EAAEM,CAAF,EAAKgQ,IAAjB,EAAsBpT,CAAtB,CAAlP,CAA2Q,IAAIyI,IAAEjC,EAAE5I,MAAF,CAAS,CAAC,CAAV,EAAY,EAAZ,EAAekF,EAAEM,CAAF,EAAKkH,eAApB,CAAN,CAA2C,KAAI,IAAIxB,CAAR,IAAaL,CAAb;AAAe,WAAG,cAAYK,CAAf,EAAiB;AAAC,YAAIE,IAAEP,EAAEK,CAAF,EAAKJ,UAAX,CAAsBD,EAAEK,CAAF,EAAKJ,UAAL,GAAgBD,EAAEK,CAAF,EAAKH,YAAL,GAAkBF,EAAEK,CAAF,EAAKN,QAAvC,EAAgDC,EAAEK,CAAF,EAAKN,QAAL,GAAcQ,CAA9D,EAAgE5C,EAAEkF,aAAF,CAAgB1E,CAAhB,MAAqB6B,EAAEK,CAAF,EAAKnL,MAAL,GAAYqC,EAAErC,MAAnC,CAAhE,EAA2GM,EAAEiP,KAAF,IAAS/K,QAAQC,GAAR,CAAY,8BAA4B0G,CAA5B,GAA8B,KAA9B,GAAoCkK,KAAKC,SAAL,CAAexK,EAAEK,CAAF,CAAf,CAAhD,EAAqE1F,CAArE,CAApH;AAA4L;AAAnP,OAAmPQ,IAAE6E,CAAF;AAAI,MAAznB,MAA8nB,IAAG,YAAUJ,CAAb,EAAe;AAAC,UAAII,CAAJ,CAAM3F,EAAEM,CAAF,EAAKkH,eAAL,IAAsBxH,EAAEM,CAAF,EAAK0G,WAAL,KAAmB,CAAC,CAA1C,KAA8CrB,IAAE3F,EAAEM,CAAF,EAAKkH,eAArD,GAAsE9D,EAAEzE,IAAF,CAAO8E,CAAP,EAAS,UAASxE,CAAT,EAAWrE,CAAX,EAAa;AAAC,WAAGiM,OAAO,MAAIjD,EAAE+C,KAAF,CAAQmE,MAAR,CAAeW,IAAf,CAAoB,KAApB,CAAJ,GAA+B,GAAtC,EAA2CzJ,IAA3C,CAAgD/C,CAAhD,CAAH,EAAsD;AAAC,YAAIE,IAAEtC,EAAEjC,CAAF,EAAI,CAAC,CAAL,CAAN;AAAA,YAAc6E,IAAEN,EAAE,CAAF,CAAhB;AAAA,YAAqBa,IAAEb,EAAE,CAAF,CAAvB;AAAA,YAA4BO,IAAEP,EAAE,CAAF,CAA9B,CAAmC,IAAGyE,EAAE6G,KAAF,CAAQC,KAAR,CAAc1I,IAAd,CAAmBvC,CAAnB,CAAH,EAAyB;AAAC,cAAI,IAAI7C,IAAE,CAAC,KAAD,EAAO,OAAP,EAAe,MAAf,CAAN,EAA6B4D,IAAEoD,EAAEkD,MAAF,CAAS4F,QAAT,CAAkBjN,CAAlB,CAA/B,EAAoDgB,IAAEf,IAAEkE,EAAEkD,MAAF,CAAS4F,QAAT,CAAkBhN,CAAlB,CAAF,GAAuB5C,CAA7E,EAA+EhC,IAAE,CAArF,EAAuFA,IAAE8B,EAAEsC,MAA3F,EAAkGpE,GAAlG,EAAsG;AAAC,cAAIsI,IAAE,CAAC5C,EAAE1F,CAAF,CAAD,CAAN,CAAakF,KAAGoD,EAAExC,IAAF,CAAOZ,CAAP,CAAH,EAAaS,MAAI3D,CAAJ,IAAOsG,EAAExC,IAAF,CAAOH,EAAE3F,CAAF,CAAP,CAApB,EAAiC2I,EAAExE,IAAErC,EAAE9B,CAAF,CAAJ,IAAUsI,CAA3C;AAA6C,iBAAOK,EAAExE,CAAF,CAAP;AAAY;AAAC;AAAC,OAA1T,CAAtE,CAAkY,KAAI,IAAIgR,CAAR,IAAaxM,CAAb,EAAe;AAAC,WAAIyM,IAAErT,EAAE4G,EAAEwM,CAAF,CAAF,CAAN;AAAA,WAAcE,IAAED,EAAE,CAAF,CAAhB;AAAA,WAAqB5R,IAAE4R,EAAE,CAAF,CAAvB;AAAA,WAA4BE,IAAEF,EAAE,CAAF,CAA9B,CAAmCD,IAAErM,EAAE+I,KAAF,CAAQC,SAAR,CAAkBqD,CAAlB,CAAF,CAAuB,IAAII,IAAEzM,EAAE4B,KAAF,CAAQG,OAAR,CAAgBsK,CAAhB,CAAN;AAAA,WAAyBK,IAAE,CAAC,CAA5B,CAA8B,IAAG5Q,EAAEM,CAAF,EAAKgI,KAAL,IAAY,YAAUqI,CAAtB,IAAyBzM,EAAE+I,KAAF,CAAQI,WAAR,CAAoBsD,CAApB,EAAuB,CAAvB,MAA4B,CAAC,CAAtD,IAAyDzM,EAAEsC,cAAF,CAAiBT,UAAjB,CAA4B4K,CAA5B,MAAiCvT,CAA7F,EAA+F;AAAC,SAACF,EAAEiI,OAAF,KAAY/H,CAAZ,IAAe,SAAOF,EAAEiI,OAAxB,IAAiC,WAASjI,EAAEiI,OAA5C,IAAqDjI,EAAEmI,UAAF,KAAejI,CAAf,IAAkB,aAAWF,EAAEmI,UAArF,KAAkG,iBAAiB/C,IAAjB,CAAsBiO,CAAtB,CAAlG,IAA4H,CAACG,CAA7H,IAAgI,MAAID,CAApI,KAAwIC,IAAE,CAA1I,GAA6IxT,EAAE0M,YAAF,IAAgBjE,CAAhB,IAAmBA,EAAE4K,CAAF,CAAnB,IAAyBG,MAAItT,CAAJ,KAAQsT,IAAE/K,EAAE4K,CAAF,EAAK7K,QAAL,GAAcC,EAAE4K,CAAF,EAAKjK,QAA7B,GAAuCsK,IAAE5Q,EAAEM,CAAF,EAAK6F,sBAAL,CAA4BwK,CAA5B,CAAlE,IAAkGzM,EAAE4B,KAAF,CAAQC,UAAR,CAAmBwK,CAAnB,IAAsBG,MAAItT,CAAJ,IAAOwT,IAAE1M,EAAE4J,gBAAF,CAAmBxN,CAAnB,EAAqBqQ,CAArB,CAAF,EAA0BD,IAAExM,EAAE4J,gBAAF,CAAmBxN,CAAnB,EAAqBiQ,CAArB,EAAuBK,CAAvB,CAAnC,IAA8DA,IAAE1M,EAAE4B,KAAF,CAAQwF,SAAR,CAAkBqF,CAAlB,EAAqB,CAArB,CAAtF,GAA8GD,MAAItT,CAAJ,KAAQsT,IAAExM,EAAE4J,gBAAF,CAAmBxN,CAAnB,EAAqBiQ,CAArB,CAAV,CAA7V,CAAgY,IAAIM,CAAJ;AAAA,YAAMC,CAAN;AAAA,YAAQC,CAAR;AAAA,YAAUC,IAAE,CAAC,CAAb,CAAe,IAAGH,IAAExV,EAAEkV,CAAF,EAAIG,CAAJ,CAAF,EAASA,IAAEG,EAAE,CAAF,CAAX,EAAgBE,IAAEF,EAAE,CAAF,CAAlB,EAAuBA,IAAExV,EAAEkV,CAAF,EAAIE,CAAJ,CAAzB,EAAgCA,IAAEI,EAAE,CAAF,EAAKzE,OAAL,CAAa,aAAb,EAA2B,UAAS7M,CAAT,EAAWrE,CAAX,EAAa;AAAC,gBAAO8V,IAAE9V,CAAF,EAAI,EAAX;AAAc,SAAvD,CAAlC,EAA2F4V,IAAED,EAAE,CAAF,CAA7F,EAAkGH,IAAElO,WAAWkO,CAAX,KAAe,CAAnH,EAAqHD,IAAEjO,WAAWiO,CAAX,KAAe,CAAtI,EAAwI,QAAMK,CAAN,KAAU,0BAA0BxO,IAA1B,CAA+BiO,CAA/B,KAAmCE,KAAG,GAAH,EAAOK,IAAE,IAA5C,IAAkD,SAASxO,IAAT,CAAciO,CAAd,KAAkBE,KAAG,GAAH,EAAOK,IAAE,EAA3B,IAA+B,qBAAqBxO,IAArB,CAA0BiO,CAA1B,MAA+BE,IAAEA,IAAE,GAAF,GAAM,GAAR,EAAYK,IAAE,EAA7C,CAA3F,CAAxI,EAAqR,QAAQxO,IAAR,CAAa0O,CAAb,CAAxR,EAAwSF,IAAEC,CAAF,CAAxS,KAAiT,IAAGA,MAAID,CAAJ,IAAO,MAAIJ,CAAd,EAAgB,IAAG,MAAID,CAAP,EAASK,IAAEC,CAAF,CAAT,KAAiB;AAAChR,aAAEA,KAAG8D,GAAL,CAAS,IAAIoN,IAAE,oDAAoD3O,IAApD,CAAyDiO,CAAzD,KAA6D,KAAKjO,IAAL,CAAUiO,CAAV,CAA7D,IAA2E,QAAMA,CAAjF,GAAmF,GAAnF,GAAuF,GAA7F,CAAiG,QAAOQ,CAAP,GAAU,KAAI,GAAJ;AAAQL,gBAAG,QAAMO,CAAN,GAAQlR,EAAEuP,gBAAV,GAA2BvP,EAAEyP,iBAAhC,CAAkD,MAAM,KAAI,IAAJ;AAAS,iBAAM;AAAQkB,gBAAG3Q,EAAEgR,IAAE,MAAJ,CAAH,CAAjG,CAAgH,QAAOD,CAAP,GAAU,KAAI,GAAJ;AAAQJ,gBAAG,KAAG,QAAMO,CAAN,GAAQlR,EAAEuP,gBAAV,GAA2BvP,EAAEyP,iBAAhC,CAAH,CAAsD,MAAM,KAAI,IAAJ;AAAS,iBAAM;AAAQkB,gBAAG,IAAE3Q,EAAE+Q,IAAE,MAAJ,CAAL,CAArG;AAAuH,iBAAOE,CAAP,GAAU,KAAI,GAAJ;AAAQP,cAAEC,IAAED,CAAJ,CAAM,MAAM,KAAI,GAAJ;AAAQA,cAAEC,IAAED,CAAJ,CAAM,MAAM,KAAI,GAAJ;AAAQA,cAAEC,IAAED,CAAJ,CAAM,MAAM,KAAI,GAAJ;AAAQA,cAAEC,IAAED,CAAJ,CAA9E,CAAoF3P,EAAEyP,CAAF,IAAK,EAACnK,mBAAkBwK,CAAnB,EAAqBhL,YAAW8K,CAAhC,EAAkC7K,cAAa6K,CAA/C,EAAiDhL,UAAS+K,CAA1D,EAA4DnK,UAASwK,CAArE,EAAuEjW,QAAO+D,CAA9E,EAAL,EAAsFzD,EAAEiP,KAAF,IAAS/K,QAAQC,GAAR,CAAY,sBAAoBiR,CAApB,GAAsB,KAAtB,GAA4BL,KAAKC,SAAL,CAAerP,EAAEyP,CAAF,CAAf,CAAxC,EAA6DjQ,CAA7D,CAA/F;AAA+J,QAAt4C,MAA24CnF,EAAEiP,KAAF,IAAS/K,QAAQC,GAAR,CAAY,eAAaqR,CAAb,GAAe,qCAA3B,CAAT;AAA2E,SAAEjS,OAAF,GAAU4B,CAAV;AAAY,QAAE5B,OAAF,KAAYwF,EAAEkD,MAAF,CAASsG,QAAT,CAAkBpN,CAAlB,EAAoB,oBAApB,GAA0C4Q,EAAEhQ,IAAF,CAAOJ,CAAP,CAA1C,EAAoD,OAAK5D,EAAE8D,KAAP,KAAehB,EAAEM,CAAF,EAAKkH,eAAL,GAAqB1G,CAArB,EAAuBd,EAAEM,CAAF,EAAKgQ,IAAL,GAAUpT,CAAhD,CAApD,EAAuG8C,EAAEM,CAAF,EAAK0G,WAAL,GAAiB,CAAC,CAAzH,EAA2H/C,MAAIL,IAAE,CAAN,IAASzI,EAAE6J,KAAF,CAAQC,KAAR,CAAc/D,IAAd,CAAmB,CAACgQ,CAAD,EAAGlN,CAAH,EAAK9G,CAAL,EAAO,IAAP,EAAYoI,EAAE6L,QAAd,CAAnB,GAA4ChW,EAAE6J,KAAF,CAAQ8B,SAAR,KAAoB,CAAC,CAArB,KAAyB3L,EAAE6J,KAAF,CAAQ8B,SAAR,GAAkB,CAAC,CAAnB,EAAqB1L,GAA9C,CAArD,IAAyG6I,GAAhP;AAAqP,SAAIlE,CAAJ;AAAA,QAAMO,IAAE,IAAR;AAAA,QAAapD,IAAEwG,EAAE5I,MAAF,CAAS,EAAT,EAAYK,EAAE4J,QAAd,EAAuBjB,CAAvB,CAAf;AAAA,QAAyChD,IAAE,EAA3C,CAA8C,QAAOd,EAAEM,CAAF,MAAOlD,CAAP,IAAUjC,EAAE2E,IAAF,CAAOQ,CAAP,CAAV,EAAoBkC,WAAWtF,EAAEuK,KAAb,KAAqBvK,EAAE8D,KAAF,KAAU,CAAC,CAAhC,IAAmC0C,EAAE1C,KAAF,CAAQV,CAAR,EAAUpD,EAAE8D,KAAZ,EAAkB,UAASzB,CAAT,EAAW;AAACpE,OAAEiW,sBAAF,GAAyB,CAAC,CAA1B,EAA4BpR,EAAEM,CAAF,EAAK+Q,UAAL,GAAgB,EAAC9J,YAAWA,WAAWhI,CAAX,EAAaiD,WAAWtF,EAAEuK,KAAb,CAAb,CAAZ,EAA8C6J,MAAK/R,CAAnD,EAA5C;AAAkG,KAAhI,CAAvD,EAAyLrC,EAAEgI,QAAF,CAAW3G,QAAX,GAAsB6D,WAAtB,EAAhM,GAAqO,KAAI,MAAJ;AAAWlF,QAAEgI,QAAF,GAAW,GAAX,CAAe,MAAM,KAAI,QAAJ;AAAahI,QAAEgI,QAAF,GAAWrB,CAAX,CAAa,MAAM,KAAI,MAAJ;AAAW3G,QAAEgI,QAAF,GAAW,GAAX,CAAe,MAAM;AAAQhI,QAAEgI,QAAF,GAAW1C,WAAWtF,EAAEgI,QAAb,KAAwB,CAAnC,CAA7U,CAAkX/J,EAAE4O,IAAF,KAAS,CAAC,CAAV,KAAc5O,EAAE4O,IAAF,KAAS,CAAC,CAAV,GAAY7M,EAAEgI,QAAF,GAAWhI,EAAEuK,KAAF,GAAQ,CAA/B,IAAkCvK,EAAEgI,QAAF,IAAY1C,WAAWrH,EAAE4O,IAAb,KAAoB,CAAhC,EAAkC7M,EAAEuK,KAAF,IAASjF,WAAWrH,EAAE4O,IAAb,KAAoB,CAAjG,CAAd,GAAmH7M,EAAErC,MAAF,GAASkG,EAAE7D,EAAErC,MAAJ,EAAWqC,EAAEgI,QAAb,CAA5H,EAAmJhI,EAAEyM,KAAF,IAAS,CAACrG,EAAE0E,UAAF,CAAa9K,EAAEyM,KAAf,CAAV,KAAkCzM,EAAEyM,KAAF,GAAQ,IAA1C,CAAnJ,EAAmMzM,EAAE2J,QAAF,IAAY,CAACvD,EAAE0E,UAAF,CAAa9K,EAAE2J,QAAf,CAAb,KAAwC3J,EAAE2J,QAAF,GAAW,IAAnD,CAAnM,EAA4P3J,EAAEoK,QAAF,IAAY,CAAChE,EAAE0E,UAAF,CAAa9K,EAAEoK,QAAf,CAAb,KAAwCpK,EAAEoK,QAAF,GAAW,IAAnD,CAA5P,EAAqTpK,EAAEiI,OAAF,KAAY/H,CAAZ,IAAe,SAAOF,EAAEiI,OAAxB,KAAkCjI,EAAEiI,OAAF,GAAUjI,EAAEiI,OAAF,CAAU5G,QAAV,GAAqB6D,WAArB,EAAV,EAA6C,WAASlF,EAAEiI,OAAX,KAAqBjI,EAAEiI,OAAF,GAAUhK,EAAEqO,GAAF,CAAMpC,MAAN,CAAaoG,cAAb,CAA4BlN,CAA5B,CAA/B,CAA/E,CAArT,EAAocpD,EAAEmI,UAAF,KAAejI,CAAf,IAAkB,SAAOF,EAAEmI,UAA3B,KAAwCnI,EAAEmI,UAAF,GAAanI,EAAEmI,UAAF,CAAa9G,QAAb,GAAwB6D,WAAxB,EAArD,CAApc,EAAgiBlF,EAAEuJ,QAAF,GAAWvJ,EAAEuJ,QAAF,IAAYtL,EAAE6J,KAAF,CAAQ2D,QAApB,IAA8B,CAACxN,EAAE6J,KAAF,CAAQ+D,aAAllB,EAAgmB7L,EAAE8D,KAAF,KAAU,CAAC,CAAX,GAAa9D,EAAEuK,KAAF,GAAQF,WAAWhI,CAAX,EAAarC,EAAEuK,KAAf,CAAR,GAA8BlI,GAA3C,GAA+CmE,EAAE1C,KAAF,CAAQV,CAAR,EAAUpD,EAAE8D,KAAZ,EAAkB,UAAS9F,CAAT,EAAWuE,CAAX,EAAa;AAAC,YAAOA,MAAI,CAAC,CAAL,IAAQ6F,EAAEwJ,OAAF,IAAWxJ,EAAE6L,QAAF,CAAWnN,CAAX,CAAX,EAAyB,CAAC,CAAlC,KAAsC7I,EAAEiW,sBAAF,GAAyB,CAAC,CAA1B,EAA4B,KAAK7R,EAAErE,CAAF,CAAvE,CAAP;AAAoF,KAApH,CAA/oB,EAAqwB,OAAKgC,EAAE8D,KAAP,IAAc,SAAO9D,EAAE8D,KAAvB,IAA8B,iBAAe0C,EAAE1C,KAAF,CAAQV,CAAR,EAAW,CAAX,CAA7C,IAA4DoD,EAAEvC,OAAF,CAAUb,CAAV,CAAj0B;AAA80B,QAAIpD,CAAJ;AAAA,OAAM4D,CAAN;AAAA,OAAQzF,CAAR;AAAA,OAAU2I,CAAV;AAAA,OAAYD,CAAZ;AAAA,OAAcD,CAAd;AAAA,OAAgB7I,IAAE4F,UAAU,CAAV,MAAeA,UAAU,CAAV,EAAa1D,CAAb,IAAgBuG,EAAEtD,aAAF,CAAgBS,UAAU,CAAV,EAAa0Q,UAA7B,KAA0C,CAAC1Q,UAAU,CAAV,EAAa0Q,UAAb,CAAwBC,KAAnF,IAA0FlO,EAAEsB,QAAF,CAAW/D,UAAU,CAAV,EAAa0Q,UAAxB,CAAzG,CAAlB,CAAgK,IAAGjO,EAAEC,SAAF,CAAY,IAAZ,KAAmBrG,IAAE,CAAC,CAAH,EAAK7B,IAAE,CAAP,EAAS2I,IAAE,IAAX,EAAgBlD,IAAE,IAArC,KAA4C5D,IAAE,CAAC,CAAH,EAAK7B,IAAE,CAAP,EAAS2I,IAAE/I,IAAE4F,UAAU,CAAV,EAAa4Q,QAAb,IAAuB5Q,UAAU,CAAV,EAAatB,CAAtC,GAAwCsB,UAAU,CAAV,CAA/F,GAA6GmD,IAAE1D,EAAE0D,CAAF,CAAlH,EAAuH;AAAC/I,SAAG8I,IAAElD,UAAU,CAAV,EAAa0Q,UAAb,IAAyB1Q,UAAU,CAAV,EAAa1D,CAAxC,EAA0C2G,IAAEjD,UAAU,CAAV,EAAa6Q,OAAb,IAAsB7Q,UAAU,CAAV,EAAaP,CAAlF,KAAsFyD,IAAElD,UAAUxF,CAAV,CAAF,EAAeyI,IAAEjD,UAAUxF,IAAE,CAAZ,CAAvG,EAAuH,IAAIuI,IAAEI,EAAExE,MAAR;AAAA,QAAeyE,IAAE,CAAjB,CAAmB,IAAG,CAAC,mBAAmB3B,IAAnB,CAAwByB,CAAxB,CAAD,IAA6B,CAACL,EAAEtD,aAAF,CAAgB0D,CAAhB,CAAjC,EAAoD;AAAC,SAAIW,IAAEpJ,IAAE,CAAR,CAAUyI,IAAE,EAAF,CAAK,KAAI,IAAIa,IAAEF,CAAV,EAAYE,IAAE9D,UAAUrB,MAAxB,EAA+BmF,GAA/B;AAAmCrB,QAAEpD,OAAF,CAAUW,UAAU8D,CAAV,CAAV,KAAyB,CAAC,wBAAwBrC,IAAxB,CAA6BzB,UAAU8D,CAAV,CAA7B,CAAD,IAA6C,CAAC,MAAMrC,IAAN,CAAWzB,UAAU8D,CAAV,CAAX,CAAvE,GAAgGrB,EAAEsB,QAAF,CAAW/D,UAAU8D,CAAV,CAAX,KAA0BrB,EAAEpD,OAAF,CAAUW,UAAU8D,CAAV,CAAV,CAA1B,GAAkDb,EAAEjJ,MAAF,GAASgG,UAAU8D,CAAV,CAA3D,GAAwErB,EAAE0E,UAAF,CAAanH,UAAU8D,CAAV,CAAb,MAA6Bb,EAAEwD,QAAF,GAAWzG,UAAU8D,CAAV,CAAxC,CAAxK,GAA8Nb,EAAEoB,QAAF,GAAWrE,UAAU8D,CAAV,CAAzO;AAAnC;AAAyR,SAAIW,IAAE,EAACwJ,SAAQ,IAAT,EAAcqC,UAAS,IAAvB,EAA4BQ,UAAS,IAArC,EAAN,CAAiDzU,KAAG/B,EAAEuO,OAAL,KAAepE,EAAEwJ,OAAF,GAAU,IAAI3T,EAAEuO,OAAN,CAAc,UAASnK,CAAT,EAAWrE,CAAX,EAAa;AAACoK,OAAE6L,QAAF,GAAW5R,CAAX,EAAa+F,EAAEqM,QAAF,GAAWzW,CAAxB;AAA0B,KAAtD,CAAzB,EAAkF,IAAIqK,CAAJ,CAAM,QAAOxB,CAAP,GAAU,KAAI,QAAJ;AAAawB,UAAE,QAAF,CAAW,MAAM,KAAI,SAAJ;AAAcA,UAAE,SAAF,CAAY,MAAM,KAAI,QAAJ,CAAa,KAAI,MAAJ;AAAW7B,QAAEzE,IAAF,CAAO+E,CAAP,EAAS,UAASzE,CAAT,EAAWrE,CAAX,EAAa;AAAC8E,SAAE9E,CAAF,KAAM8E,EAAE9E,CAAF,EAAKmW,UAAX,KAAwBO,aAAa5R,EAAE9E,CAAF,EAAKmW,UAAL,CAAgB9J,UAA7B,GAAyCvH,EAAE9E,CAAF,EAAKmW,UAAL,CAAgBC,IAAhB,IAAsBtR,EAAE9E,CAAF,EAAKmW,UAAL,CAAgBC,IAAhB,EAA/D,EAAsF,OAAOtR,EAAE9E,CAAF,EAAKmW,UAA1H;AAAsI,OAA7J,EAA+J,IAAI7L,IAAE,EAAN,CAAS,OAAO9B,EAAEzE,IAAF,CAAO9D,EAAE6J,KAAF,CAAQC,KAAf,EAAqB,UAAS1F,CAAT,EAAWrE,CAAX,EAAa;AAACA,YAAGwI,EAAEzE,IAAF,CAAO/D,EAAE,CAAF,CAAP,EAAY,UAASuE,CAAT,EAAWM,CAAX,EAAa;AAAC,YAAIO,IAAEwD,MAAI1G,CAAJ,GAAM,EAAN,GAAS0G,CAAf,CAAiB,OAAOxD,MAAI,CAAC,CAAL,IAAQpF,EAAE,CAAF,EAAK8F,KAAL,KAAaV,CAArB,IAAwBwD,MAAI1G,CAAJ,IAAOlC,EAAE,CAAF,EAAK8F,KAAL,KAAa,CAAC,CAA7C,GAA+C,KAAK0C,EAAEzE,IAAF,CAAO+E,CAAP,EAAS,UAASvE,CAAT,EAAWrC,CAAX,EAAa;AAACA,eAAI2C,CAAJ,KAAQ,CAAC+D,MAAI,CAAC,CAAL,IAAQR,EAAEsB,QAAF,CAAWd,CAAX,CAAT,MAA0BJ,EAAEzE,IAAF,CAAOyE,EAAE1C,KAAF,CAAQ5D,CAAR,EAAUkG,EAAEsB,QAAF,CAAWd,CAAX,IAAcA,CAAd,GAAgB,EAA1B,CAAP,EAAqC,UAASvE,CAAT,EAAWrE,CAAX,EAAa;AAChw+BoI,YAAE0E,UAAF,CAAa9M,CAAb,KAAiBA,EAAE,IAAF,EAAO,CAAC,CAAR,CAAjB;AAA4B,UADkr+B,GAChr+BwI,EAAE1C,KAAF,CAAQ5D,CAAR,EAAUkG,EAAEsB,QAAF,CAAWd,CAAX,IAAcA,CAAd,GAAgB,EAA1B,EAA6B,EAA7B,CADsp+B,GACpn+B,WAASC,CAAT,IAAY/D,EAAE5C,CAAF,KAAM4C,EAAE5C,CAAF,EAAKoK,eAAX,IAA4BlH,MAAI,CAAC,CAAjC,IAAoCoD,EAAEzE,IAAF,CAAOe,EAAE5C,CAAF,EAAKoK,eAAZ,EAA4B,UAASjI,CAAT,EAAWrE,CAAX,EAAa;AAACA,YAAEwK,QAAF,GAAWxK,EAAE2K,YAAb;AAA0B,UAApE,CAApC,EAA0GL,EAAEtE,IAAF,CAAO3B,CAAP,CAAtH,IAAiI,aAAWwE,CAAX,KAAe7I,EAAE,CAAF,EAAKgK,QAAL,GAAc,CAA7B,CAD2+9B;AAC189B,SADm79B,CAApD,GAC739B,CAAC,CADq39B;AACn39B,QADw09B,CAAH;AACn09B,OADgy9B,GAC9x9B,WAASnB,CAAT,KAAaL,EAAEzE,IAAF,CAAOuG,CAAP,EAAS,UAASjG,CAAT,EAAWrE,CAAX,EAAa;AAACiC,SAAEjC,CAAF,EAAI,CAAC,CAAL;AAAQ,OAA/B,GAAiCoK,EAAEwJ,OAAF,IAAWxJ,EAAE6L,QAAF,CAAWnN,CAAX,CAAzD,CAD8x9B,EACtt9BzE,GAD+s9B,CAC3s9B;AAAQ,UAAG,CAACmE,EAAEtD,aAAF,CAAgB2D,CAAhB,CAAD,IAAqBT,EAAEkF,aAAF,CAAgBzE,CAAhB,CAAxB,EAA2C;AAAC,WAAGT,EAAEsB,QAAF,CAAWb,CAAX,KAAe5I,EAAEsO,SAAF,CAAY1F,CAAZ,CAAlB,EAAiC;AAAC,YAAI0B,IAAE/B,EAAE5I,MAAF,CAAS,EAAT,EAAYgJ,CAAZ,CAAN;AAAA,YAAqB6B,IAAEF,EAAEP,QAAzB;AAAA,YAAkCc,IAAEP,EAAEgC,KAAF,IAAS,CAA7C,CAA+C,OAAOhC,EAAEoM,SAAF,KAAc,CAAC,CAAf,KAAmB7N,IAAEN,EAAE5I,MAAF,CAAS,CAAC,CAAV,EAAY,EAAZ,EAAekJ,CAAf,EAAkB8N,OAAlB,EAArB,GAAkDpO,EAAEzE,IAAF,CAAO+E,CAAP,EAAS,UAASzE,CAAT,EAAWrE,CAAX,EAAa;AAACsH,oBAAWiD,EAAEsM,OAAb,IAAsBtM,EAAEgC,KAAF,GAAQzB,IAAExD,WAAWiD,EAAEsM,OAAb,IAAsBxS,CAAtD,GAAwD+D,EAAE0E,UAAF,CAAavC,EAAEsM,OAAf,MAA0BtM,EAAEgC,KAAF,GAAQzB,IAAEP,EAAEsM,OAAF,CAAU9R,IAAV,CAAe/E,CAAf,EAAiBqE,CAAjB,EAAmBqE,CAAnB,CAApC,CAAxD,EAAmH6B,EAAEuM,IAAF,KAASvM,EAAEP,QAAF,GAAW1C,WAAWmD,CAAX,MAAgB,wBAAwBrD,IAAxB,CAA6ByB,CAA7B,IAAgC,GAAhC,GAAoCF,CAApD,CAAX,EAAkE4B,EAAEP,QAAF,GAAW/I,KAAKoI,GAAL,CAASkB,EAAEP,QAAF,IAAYO,EAAEoM,SAAF,GAAY,IAAEtS,IAAEqE,CAAhB,GAAkB,CAACrE,IAAE,CAAH,IAAMqE,CAApC,CAAT,EAAgD,MAAI6B,EAAEP,QAAtD,EAA+D,GAA/D,CAAtF,CAAnH,EAA8Q/J,EAAEsO,SAAF,CAAY1F,CAAZ,EAAe9D,IAAf,CAAoB/E,CAApB,EAAsBA,CAAtB,EAAwBuK,KAAG,EAA3B,EAA8BlG,CAA9B,EAAgCqE,CAAhC,EAAkCI,CAAlC,EAAoCsB,EAAEwJ,OAAF,GAAUxJ,CAAV,GAAYlI,CAAhD,CAA9Q;AAAiU,SAAxV,CAAlD,EAA4YmC,GAAnZ;AAAuZ,YAAI2G,IAAE,+BAA6BnC,CAA7B,GAA+B,+EAArC,CAAqH,OAAOuB,EAAEwJ,OAAF,GAAUxJ,EAAEqM,QAAF,CAAW,IAAIrQ,KAAJ,CAAU4E,CAAV,CAAX,CAAV,GAAmC7G,QAAQC,GAAR,CAAY4G,CAAZ,CAAnC,EAAkD3G,GAAzD;AAA6D,WAAE,OAAF,CADqv7B,CAC3u7B,IAAI8G,IAAE,EAAC6I,YAAW,IAAZ,EAAiBD,cAAa,IAA9B,EAAmCE,cAAa,IAAhD,EAAqDI,sBAAqB,IAA1E,EAA+EE,uBAAsB,IAArG,EAA0GJ,YAAW,IAArH,EAA0HQ,SAAQ,IAAlI,EAAuIC,QAAO,IAA9I,EAAmJE,QAAO,IAA1J,EAAN;AAAA,QAAsKkB,IAAE,EAAxK,CAA2KxN,EAAEzE,IAAF,CAAO+E,CAAP,EAAS,UAASzE,CAAT,EAAWrE,CAAX,EAAa;AAACoI,OAAEG,MAAF,CAASvI,CAAT,KAAa6E,EAAEE,IAAF,CAAO/E,CAAP,CAAb;AAAuB,KAA9C,EAAgD,IAAIqV,CAAJ;AAAA,QAAM9K,IAAE/B,EAAE5I,MAAF,CAAS,EAAT,EAAYK,EAAE4J,QAAd,EAAuBjB,CAAvB,CAAR,CAAkC,IAAG2B,EAAEsB,IAAF,GAAOyF,SAAS/G,EAAEsB,IAAX,CAAP,EAAwBwJ,IAAE,IAAE9K,EAAEsB,IAAJ,GAAS,CAAnC,EAAqCtB,EAAEsB,IAA1C,EAA+C,KAAI,IAAIyJ,IAAE,CAAV,EAAYD,IAAEC,CAAd,EAAgBA,GAAhB,EAAoB;AAAC,SAAIC,IAAE,EAAChJ,OAAMhC,EAAEgC,KAAT,EAAeZ,UAASpB,EAAEoB,QAA1B,EAAN,CAA0C2J,MAAID,IAAE,CAAN,KAAUE,EAAEtL,OAAF,GAAUM,EAAEN,OAAZ,EAAoBsL,EAAEpL,UAAF,GAAaI,EAAEJ,UAAnC,EAA8CoL,EAAEnJ,QAAF,GAAW7B,EAAE6B,QAArE,GAA+EnD,EAAEH,CAAF,EAAI,SAAJ,EAAcyM,CAAd,CAA/E;AAAgG,YAAOlR,GAAP;AAAW;AAAC,GAD87qB,CAC77qBpE,IAAEuI,EAAE5I,MAAF,CAASqJ,CAAT,EAAWhJ,CAAX,CAAF,EAAgBA,EAAEuN,OAAF,GAAUvE,CAA1B,CAA4B,IAAIP,IAAE1I,EAAE+W,qBAAF,IAAyBjO,CAA/B,CAAiC,OAAO7I,EAAE6J,KAAF,CAAQ2D,QAAR,IAAkBlJ,EAAEyS,MAAF,KAAW9U,CAA7B,IAAgCqC,EAAE0S,gBAAF,CAAmB,kBAAnB,EAAsC,YAAU;AAAC1S,KAAEyS,MAAF,IAAUtO,IAAE,WAASrE,CAAT,EAAW;AAAC,WAAOgI,WAAW,YAAU;AAAChI,OAAE,CAAC,CAAH;AAAM,KAA5B,EAA6B,EAA7B,CAAP;AAAwC,IAAtD,EAAuDnE,GAAjE,IAAsEwI,IAAE1I,EAAE+W,qBAAF,IAAyBjO,CAAjG;AAAmG,GAApJ,CAAhC,EAAsLzE,EAAEH,QAAF,GAAWjE,CAAjM,EAAmMoE,MAAIrE,CAAJ,KAAQqE,EAAEM,EAAF,CAAK4I,QAAL,GAActE,CAAd,EAAgB5E,EAAEM,EAAF,CAAK4I,QAAL,CAAc1D,QAAd,GAAuB5J,EAAE4J,QAAjD,CAAnM,EAA8PrB,EAAEzE,IAAF,CAAO,CAAC,MAAD,EAAQ,IAAR,CAAP,EAAqB,UAASM,CAAT,EAAWrE,CAAX,EAAa;AAACC,KAAEsO,SAAF,CAAY,UAAQvO,CAApB,IAAuB,UAASqE,CAAT,EAAWE,CAAX,EAAaM,CAAb,EAAeO,CAAf,EAAiBN,CAAjB,EAAmB9C,CAAnB,EAAqB;AAAC,QAAI4D,IAAE4C,EAAE5I,MAAF,CAAS,EAAT,EAAY2E,CAAZ,CAAN;AAAA,QAAqBsB,IAAED,EAAE6I,KAAzB;AAAA,QAA+BvO,IAAE0F,EAAEwG,QAAnC;AAAA,QAA4CnK,IAAE,EAACiV,QAAO,EAAR,EAAW3P,WAAU,EAArB,EAAwB4P,cAAa,EAArC,EAAwCC,YAAW,EAAnD,EAAsDC,eAAc,EAApE,EAA9C;AAAA,QAAsHlX,IAAE,EAAxH,CAA2HyF,EAAEqE,OAAF,KAAY/H,CAAZ,KAAgB0D,EAAEqE,OAAF,GAAU,WAASjK,CAAT,GAAW,aAAWC,EAAEqO,GAAF,CAAMpC,MAAN,CAAaoG,cAAb,CAA4BjO,CAA5B,CAAX,GAA0C,cAA1C,GAAyD,OAApE,GAA4E,MAAtG,GAA8GuB,EAAE6I,KAAF,GAAQ,YAAU;AAAC5I,UAAGA,EAAEd,IAAF,CAAOD,CAAP,EAASA,CAAT,CAAH,CAAe,KAAI,IAAIP,CAAR,IAAatC,CAAb,EAAe;AAAC9B,QAAEoE,CAAF,IAAKF,EAAE8C,KAAF,CAAQ5C,CAAR,CAAL,CAAgB,IAAIrC,IAAEjC,EAAEqO,GAAF,CAAMsE,gBAAN,CAAuBvO,CAAvB,EAAyBE,CAAzB,CAAN,CAAkCtC,EAAEsC,CAAF,IAAK,WAASvE,CAAT,GAAW,CAACkC,CAAD,EAAG,CAAH,CAAX,GAAiB,CAAC,CAAD,EAAGA,CAAH,CAAtB;AAA4B,QAAEoV,QAAF,GAAWjT,EAAE8C,KAAF,CAAQmQ,QAAnB,EAA4BjT,EAAE8C,KAAF,CAAQmQ,QAAR,GAAiB,QAA7C;AAAsD,KAApS,EAAqS1R,EAAEwG,QAAF,GAAW,YAAU;AAAC,UAAI,IAAIpM,CAAR,IAAaG,CAAb;AAAekE,QAAE8C,KAAF,CAAQnH,CAAR,IAAWG,EAAEH,CAAF,CAAX;AAAf,MAA+BE,KAAGA,EAAE6E,IAAF,CAAOD,CAAP,EAASA,CAAT,CAAH,EAAe9C,KAAGA,EAAEiU,QAAF,CAAWnR,CAAX,CAAlB;AAAgC,KAA1X,EAA2X7E,EAAEoE,CAAF,EAAIpC,CAAJ,EAAM2D,CAAN,CAA3X;AAAoY,IAA5iB;AAA6iB,GAAhlB,CAA9P,EAAg1B4C,EAAEzE,IAAF,CAAO,CAAC,IAAD,EAAM,KAAN,CAAP,EAAoB,UAASM,CAAT,EAAWrE,CAAX,EAAa;AAACC,KAAEsO,SAAF,CAAY,SAAOvO,CAAnB,IAAsB,UAASqE,CAAT,EAAWE,CAAX,EAAaM,CAAb,EAAeO,CAAf,EAAiBN,CAAjB,EAAmB9C,CAAnB,EAAqB;AAAC,QAAI4D,IAAE4C,EAAE5I,MAAF,CAAS,EAAT,EAAY2E,CAAZ,CAAN;AAAA,QAAqBsB,IAAE,EAACuL,SAAQ,SAAOpR,CAAP,GAAS,CAAT,GAAW,CAApB,EAAvB;AAAA,QAA8CE,IAAE0F,EAAEwG,QAAlD,CAA2DxG,EAAEwG,QAAF,GAAWvH,MAAIO,IAAE,CAAN,GAAQQ,EAAE6I,KAAF,GAAQ,IAAhB,GAAqB,YAAU;AAACvO,UAAGA,EAAE6E,IAAF,CAAOD,CAAP,EAASA,CAAT,CAAH,EAAe9C,KAAGA,EAAEiU,QAAF,CAAWnR,CAAX,CAAlB;AAAgC,KAA3E,EAA4Ec,EAAEqE,OAAF,KAAY/H,CAAZ,KAAgB0D,EAAEqE,OAAF,GAAU,SAAOjK,CAAP,GAAS,MAAT,GAAgB,MAA1C,CAA5E,EAA8HC,EAAE,IAAF,EAAO4F,CAAP,EAASD,CAAT,CAA9H;AAA0I,IAAjP;AAAkP,GAApR,CAAh1B,EAAsmC3F,CAA7mC;AAA+mC,EAD+lC,CAC9lC6C,OAAOpD,MAAP,IAAeoD,OAAOmK,KAAtB,IAA6BnK,MADikC,EAC1jCA,MAD0jC,EACnjC4D,QADmjC,CAAP;AACliC,CAD04B,CAAnlH;AAEA;;;;;;;;;;AAWA,CAAC,YAAU;;AAEV;;AAEA;;AACA,KAAI6Q,OAAO,IAAX;AAAA,KACCC,WAAWD,KAAKE,KADjB;;AAGA;AACA,KAAIA,QAAQ,SAARA,KAAQ,CAASC,OAAT,EAAiB;AAC5B,MAAIC,QAAQ,IAAZ;AACA,OAAKC,MAAL,GAAcF,QAAQE,MAAtB;;AAEA,OAAKC,GAAL,GAAWH,OAAX;;AAEA;AACA,MAAII,mBAAmB,SAAnBA,gBAAmB,CAAStU,OAAT,EAAiBuU,SAAjB,EACvB;AACC,OAAIvU,QAAQ,WAASuU,SAAjB,CAAJ,EACA;AACC,WAAOvU,QAAQ,WAASuU,SAAjB,CAAP;AACA,IAHD,MAKA;AACC,WAAOrR,SAASsR,WAAT,CAAqBjF,gBAArB,CAAsCvP,OAAtC,EAA+CoP,gBAA/C,CAAgEmF,SAAhE,CAAP;AACA;AACD,GAVD;;AAYA,MAAIE,QAAQ,KAAKA,KAAL,GAAaH,iBAAiBJ,QAAQE,MAAzB,EAAgC,OAAhC,KAA4CF,QAAQE,MAAR,CAAeK,KAApF;AACA,MAAIf,SAAS,KAAKA,MAAL,GAAcY,iBAAiBJ,QAAQE,MAAzB,EAAgC,QAAhC,KAA6CF,QAAQE,MAAR,CAAeV,MAAvF;;AAEAe,UAAQ,KAAKA,KAAL,GAAaP,QAAQE,MAAR,CAAeK,KAApC;AACAf,WAAS,KAAKA,MAAL,GAAcQ,QAAQE,MAAR,CAAeV,MAAtC;AACA,OAAKgB,WAAL,GAAmB,KAAKD,KAAL,GAAa,KAAKf,MAArC;AACA;AACAiB,UAAQC,WAAR,CAAoB,IAApB;;AAEA,SAAO,IAAP;AACA,EA7BD;AA8BA;AACAX,OAAM5N,QAAN,GAAiB;AAChBwO,UAAQ;AACP;AACAC,cAAW,IAFJ;;AAIP;AACAC,mBAAgB,EALT;;AAOP;AACAC,oBAAiB,cARV;;AAUP;AACAC,cAAW,IAXJ;;AAaP;AACAC,kBAAe,KAdR;;AAgBP;AACA;AACAC,eAAY,IAlBL;AAmBP;AACAC,mBAAgB,IApBT;AAqBP;AACAC,oBAAiB,IAtBV;;AAwBP;AACAC,mBAAgB,gBAzBT;;AA2BP;AACAC,mBAAgB,CA5BT;;AA8BP;AACAC,oBAAiB,IA/BV;;AAiCP;AACAC,eAAY,YAlCL;;AAoCP;AACAC,sBAAmB,IArCZ;;AAuCP;AACAC,qBAAkB,KAxCX;;AA0CP;AACAC,oBAAiB,oDA3CV;;AA6CP;AACAC,kBAAe,EA9CR;;AAgDP;AACAC,mBAAgB,QAjDT;;AAmDP;AACAC,mBAAgB,MApDT;;AAsDP;AACAC,eAAY,KAvDL;;AAyDP;AACAC,wBAAqB,IA1Dd;;AA4DP;AACAC,iBAAc,IA7DP;;AA+DP;AACAC,mBAAgB,KAhET;;AAkEP;AACAC,kBAAe,CAAC,WAAD,EAAc,YAAd,EAA4B,WAA5B,EAAyC,UAAzC,CAnER;;AAqEP;AACAC,qBAAkB,iBAtEX;;AAwEP;AACAC,sBAAmB,oDAzEZ;;AA2EP;AACAC,oBAAiB,EA5EV;;AA8EP;AACAC,qBAAkB,QA/EX;;AAiFP;AACAC,qBAAkB,MAlFX;;AAoFP;AACAC,2BAAwB,oDArFjB;;AAuFP;AACAC,yBAAsB,EAxFf;;AA0FP;AACAC,0BAAuB,MA3FhB;;AA6FP;AACAC,0BAAuB,MA9FhB;;AAgGP;AACAC,yBAAsB,aAjGf;;AAmGP;AACAC,oBAAiB,CApGV;;AAsGP;AACAC,oBAAiB,CAvGV;;AAyGP;AACAC,qBAAkB,CA1GX;;AA4GP;AACAC,wBAAqB,CA7Gd;;AA+GP;AACAC,mBAAgB,EAhHT;;AAkHP;AACAC,oBAAiB,8CAnHV;;AAqHP;AACAC,yBAAsB,cAtHf;;AAwHP;AACAC,8BAA2B,MAzHpB;;AA2HP;AACAC,wBAAqB,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwD,SAAxD,EAAmE,SAAnE,EAA8E,SAA9E,EAAyF,SAAzF,EAAoG,SAApG,EAA+G,SAA/G,EAA0H,SAA1H,CA5Hd;;AA8HP;AACAC,kCAA+B,CAAE,SAAF,EAAa,SAAb,EAAwB,SAAxB,EAAmC,SAAnC,EAA8C,SAA9C,EAAyD,SAAzD,EAAoE,SAApE,EAA+E,SAA/E,EAA0F,SAA1F,EAAqG,SAArG,EAAgH,SAAhH,EAA2H,SAA3H,CA/HxB;;AAiIP;AACAC,wBAAqB,+BAAU,CAAE,CAlI1B;;AAoIP;AACAC,wBAAqB,+BAAU,CAAE;;AArI1B;AADQ,EAAjB;;AA2IA;AACAzD,OAAM0D,KAAN,GAAc,EAAd;;AAEA;AACA,KAAIhD,UAAUV,MAAMU,OAAN,GAAgB,EAA9B;;AAEC;AACD,KAAIpU,OAAOoU,QAAQpU,IAAR,GAAe,UAASqX,QAAT,EAAkBC,QAAlB,EAA2BC,IAA3B,EAAgC;AACxD,MAAIC,iBAAiBtW,MAAMI,SAAN,CAAgBiD,KAAhB,CAAsBvD,IAAtB,CAA2BY,SAA3B,EAAsC,CAAtC,CAArB;AACA;AACA,MAAIyV,QAAJ,EAAa;AACZ,OAAIA,SAAS9W,MAAT,KAAoB,CAAC8W,SAAS9W,MAAlC,EAAyC;AACxC,QAAIQ,CAAJ;AACA,SAAKA,IAAE,CAAP,EAAUA,IAAEsW,SAAS9W,MAArB,EAA6BQ,GAA7B,EAAiC;AAChCuW,cAAS/V,KAAT,CAAegW,IAAf,EAAoB,CAACF,SAAStW,CAAT,CAAD,EAAcA,CAAd,EAAiB8E,MAAjB,CAAwB2R,cAAxB,CAApB;AACA;AACD,IALD,MAMI;AACH,SAAK,IAAIC,IAAT,IAAiBJ,QAAjB,EAA0B;AACzBC,cAAS/V,KAAT,CAAegW,IAAf,EAAoB,CAACF,SAASI,IAAT,CAAD,EAAgBA,IAAhB,EAAsB5R,MAAtB,CAA6B2R,cAA7B,CAApB;AACA;AACD;AACD;AACD,EAhBF;AAAA,KAiBCE,QAAQtD,QAAQsD,KAAR,GAAgB,UAASC,GAAT,EAAa;AACpC,MAAIC,WAAW,EAAf;AACA5X,OAAK2X,GAAL,EAAS,UAASE,KAAT,EAAeC,GAAf,EAAmB;AAC3B,OAAIH,IAAI7T,cAAJ,CAAmBgU,GAAnB,CAAJ,EAA4B;AAC3BF,aAASE,GAAT,IAAgBD,KAAhB;AACA;AACD,GAJD;AAKA,SAAOD,QAAP;AACA,EAzBF;AAAA,KA0BC/b,SAASuY,QAAQvY,MAAR,GAAiB,UAASkc,IAAT,EAAc;AACvC/X,OAAKkB,MAAMI,SAAN,CAAgBiD,KAAhB,CAAsBvD,IAAtB,CAA2BY,SAA3B,EAAqC,CAArC,CAAL,EAA8C,UAASoW,eAAT,EAA0B;AACvEhY,QAAKgY,eAAL,EAAqB,UAASH,KAAT,EAAeC,GAAf,EAAmB;AACvC,QAAIE,gBAAgBlU,cAAhB,CAA+BgU,GAA/B,CAAJ,EAAwC;AACvCC,UAAKD,GAAL,IAAYD,KAAZ;AACA;AACD,IAJD;AAKA,GAND;AAOA,SAAOE,IAAP;AACA,EAnCF;AAAA,KAoCCE,QAAQ7D,QAAQ6D,KAAR,GAAgB,UAASF,IAAT,EAAcG,MAAd,EAAqB;AAC5C;AACA,MAAIC,OAAOjX,MAAMI,SAAN,CAAgBiD,KAAhB,CAAsBvD,IAAtB,CAA2BY,SAA3B,EAAqC,CAArC,CAAX;AACAuW,OAAK/V,OAAL,CAAa,EAAb;AACA,SAAOvG,OAAO0F,KAAP,CAAa,IAAb,EAAmB4W,IAAnB,CAAP;AACA,EAzCF;AAAA,KA0CCC,UAAUhE,QAAQgE,OAAR,GAAkB,UAASC,aAAT,EAAwBZ,IAAxB,EAA6B;AACxD,MAAIvW,MAAMI,SAAN,CAAgB8W,OAApB,EAA6B;AAC5B,UAAOC,cAAcD,OAAd,CAAsBX,IAAtB,CAAP;AACA,GAFD,MAGI;AACH,QAAK,IAAI1W,IAAI,CAAb,EAAgBA,IAAIsX,cAAc9X,MAAlC,EAA0CQ,GAA1C,EAA+C;AAC9C,QAAIsX,cAActX,CAAd,MAAqB0W,IAAzB,EAA+B,OAAO1W,CAAP;AAC/B;AACD,UAAO,CAAC,CAAR;AACA;AACD,EApDF;AAAA,KAqDCuX,QAAQlE,QAAQkE,KAAR,GAAgB,UAASC,UAAT,EAAqBC,cAArB,EAAoC;AAC3D,MAAIC,WAAW,EAAf;;AAEArE,UAAQpU,IAAR,CAAauY,UAAb,EAAyB,UAASd,IAAT,EAAc;AACtC,OAAIe,eAAef,IAAf,CAAJ,EAAyB;AACxBgB,aAASxW,IAAT,CAAcwV,IAAd;AACA;AACD,GAJD;;AAMA,SAAOgB,QAAP;AACA,EA/DF;AAAA,KAgECC,gBAAgBtE,QAAQsE,aAAR,GAAwB,UAASL,aAAT,EAAwBG,cAAxB,EAAwCG,UAAxC,EAAmD;AAC1F;AACA,MAAI,CAACA,UAAL,EAAgB;AACfA,gBAAa,CAAC,CAAd;AACA;AACD,OAAK,IAAI5X,IAAI4X,aAAa,CAA1B,EAA6B5X,IAAIsX,cAAc9X,MAA/C,EAAuDQ,GAAvD,EAA4D;AAC3D,OAAI6X,cAAcP,cAActX,CAAd,CAAlB;AACA,OAAIyX,eAAeI,WAAf,CAAJ,EAAgC;AAC/B,WAAOA,WAAP;AACA;AACD;AACD,EA3EF;AAAA,KA4ECC,oBAAoBzE,QAAQyE,iBAAR,GAA4B,UAASR,aAAT,EAAwBG,cAAxB,EAAwCG,UAAxC,EAAmD;AAClG;AACA,MAAI,CAACA,UAAL,EAAgB;AACfA,gBAAaN,cAAc9X,MAA3B;AACA;AACD,OAAK,IAAIQ,IAAI4X,aAAa,CAA1B,EAA6B5X,KAAK,CAAlC,EAAqCA,GAArC,EAA0C;AACzC,OAAI6X,cAAcP,cAActX,CAAd,CAAlB;AACA,OAAIyX,eAAeI,WAAf,CAAJ,EAAgC;AAC/B,WAAOA,WAAP;AACA;AACD;AACD,EAvFF;AAAA,KAwFCE,WAAW1E,QAAQ0E,QAAR,GAAmB,UAASC,UAAT,EAAoB;AACjD;AACA,MAAIC,SAAS,IAAb;AACA,MAAIC,eAAgBF,cAAcA,WAAWjV,cAAX,CAA0B,aAA1B,CAAf,GAA2DiV,WAAW3X,WAAtE,GAAoF,YAAU;AAAE,UAAO4X,OAAOzX,KAAP,CAAa,IAAb,EAAmBK,SAAnB,CAAP;AAAuC,GAA1J;;AAEA,MAAIsX,YAAY,SAAZA,SAAY,GAAU;AAAE,QAAK9X,WAAL,GAAmB6X,YAAnB;AAAiC,GAA7D;AACAC,YAAU5X,SAAV,GAAsB0X,OAAO1X,SAA7B;AACA2X,eAAa3X,SAAb,GAAyB,IAAI4X,SAAJ,EAAzB;;AAEAD,eAAapd,MAAb,GAAsBid,QAAtB;;AAEA,MAAIC,UAAJ,EAAgBld,OAAOod,aAAa3X,SAApB,EAA+ByX,UAA/B;;AAEhBE,eAAaE,SAAb,GAAyBH,OAAO1X,SAAhC;;AAEA,SAAO2X,YAAP;AACA,EAxGF;AAAA,KAyGCG,OAAOhF,QAAQgF,IAAR,GAAe,YAAU,CAAE,CAzGnC;AAAA,KA0GCC,MAAMjF,QAAQiF,GAAR,GAAe,YAAU;AAC9B,MAAIC,KAAG,CAAP;AACA,SAAO,YAAU;AAChB,UAAO,WAAWA,IAAlB;AACA,GAFD;AAGA,EALmB,EA1GrB;AAAA,KAgHCC,OAAOnF,QAAQmF,IAAR,GAAe,UAASC,GAAT,EAAa;AAClC;AACA,MAAIza,OAAOqB,OAAP,IAAkB,OAAOrB,OAAOqB,OAAP,CAAemZ,IAAtB,KAA+B,UAArD,EAAiEnZ,QAAQmZ,IAAR,CAAaC,GAAb;AACjE,EAnHF;AAAA,KAoHCpV,MAAMgQ,QAAQhQ,GAAR,GAAe,OAAOD,MAAP,KAAkB,UAAlB,IAAgCA,OAAOC,GApH7D;;AAqHC;AACAqV,YAAWrF,QAAQqF,QAAR,GAAmB,UAAS3Y,CAAT,EAAW;AACxC,SAAO,CAACqE,MAAM5B,WAAWzC,CAAX,CAAN,CAAD,IAAyBsE,SAAStE,CAAT,CAAhC;AACA,EAxHF;AAAA,KAyHCwE,MAAM8O,QAAQ9O,GAAR,GAAc,UAASoU,KAAT,EAAe;AAClC,SAAOxc,KAAKoI,GAAL,CAAS/D,KAAT,CAAgBrE,IAAhB,EAAsBwc,KAAtB,CAAP;AACA,EA3HF;AAAA,KA4HCrU,MAAM+O,QAAQ/O,GAAR,GAAc,UAASqU,KAAT,EAAe;AAClC,SAAOxc,KAAKmI,GAAL,CAAS9D,KAAT,CAAgBrE,IAAhB,EAAsBwc,KAAtB,CAAP;AACA,EA9HF;AAAA,KA+HCC,MAAMvF,QAAQuF,GAAR,GAAc,UAASC,UAAT,EAAoBC,QAApB,EAA6BC,QAA7B,EAAsC;AACzD,MAAGL,SAASI,QAAT,CAAH,EAAuB;AACtB,OAAID,aAAaC,QAAjB,EAA4B;AAC3B,WAAOA,QAAP;AACA;AACD,GAJD,MAKK,IAAGJ,SAASK,QAAT,CAAH,EAAsB;AAC1B,OAAKF,aAAaE,QAAlB,EAA4B;AAC3B,WAAOA,QAAP;AACA;AACD;AACD,SAAOF,UAAP;AACA,EA3IF;AAAA,KA4ICG,mBAAmB3F,QAAQ2F,gBAAR,GAA2B,UAASC,GAAT,EAAa;AAC1D,MAAIA,MAAI,CAAJ,KAAQ,CAAR,IAAaP,SAASO,GAAT,CAAjB,EAA+B;AAC9B,OAAI/b,IAAI+b,IAAI1a,QAAJ,EAAR;AACA,OAAGrB,EAAEma,OAAF,CAAU,IAAV,IAAkB,CAArB,EAAuB;AACtB;AACA,WAAOna,EAAE8F,KAAF,CAAQ,GAAR,EAAa,CAAb,EAAgBxD,MAAvB;AACA,IAHD,MAIK,IAAGtC,EAAEma,OAAF,CAAU,GAAV,IAAiB,CAApB,EAAuB;AAC3B;AACA,WAAO7K,SAAStP,EAAE8F,KAAF,CAAQ,IAAR,EAAc,CAAd,CAAT,CAAP;AACA,IAHI,MAIA;AACJ;AACA,QAAIkW,QAAQhc,EAAE8F,KAAF,CAAQ,GAAR,EAAa,CAAb,EAAgBA,KAAhB,CAAsB,IAAtB,CAAZ;AACA,WAAOkW,MAAM,CAAN,EAAS1Z,MAAT,GAAkBgN,SAAS0M,MAAM,CAAN,CAAT,CAAzB;AACA;AACD,GAfD,MAgBK;AACJ,UAAO,CAAP;AACA;AACD,EAhKF;AAAA,KAiKCC,YAAY9F,QAAQ+F,OAAR,GAAkB,UAASC,OAAT,EAAiB;AAC9C,SAAOA,WAAWld,KAAKE,EAAL,GAAQ,GAAnB,CAAP;AACA,EAnKF;;AAoKC;AACAid,qBAAoBjG,QAAQiG,iBAAR,GAA4B,UAASC,WAAT,EAAsBC,UAAtB,EAAiC;AAChF,MAAIC,sBAAsBD,WAAWve,CAAX,GAAese,YAAYte,CAArD;AAAA,MACCye,sBAAsBF,WAAWzV,CAAX,GAAewV,YAAYxV,CADlD;AAAA,MAEC4V,2BAA2Bxd,KAAKW,IAAL,CAAW2c,sBAAsBA,mBAAtB,GAA4CC,sBAAsBA,mBAA7E,CAF5B;;AAKA,MAAIE,QAAQzd,KAAKE,EAAL,GAAU,CAAV,GAAcF,KAAK0d,KAAL,CAAWH,mBAAX,EAAgCD,mBAAhC,CAA1B;;AAEA;AACA,MAAIA,sBAAsB,CAAtB,IAA2BC,sBAAsB,CAArD,EAAuD;AACtDE,YAASzd,KAAKE,EAAL,GAAQ,CAAjB;AACA;;AAED,SAAO;AACNud,UAAOA,KADD;AAENE,aAAUH;AAFJ,GAAP;AAIA,EAtLF;AAAA,KAuLCI,aAAa1G,QAAQ0G,UAAR,GAAqB,UAASC,UAAT,EAAoB;AACrD,SAAQA,aAAa,CAAb,KAAmB,CAApB,GAAyB,CAAzB,GAA6B,GAApC;AACA,EAzLF;AAAA,KA0LCC,cAAc5G,QAAQ4G,WAAR,GAAsB,UAASC,UAAT,EAAoBC,WAApB,EAAgCC,UAAhC,EAA2Clf,CAA3C,EAA6C;AAChF;AACA;AACA,MAAImf,MAAIle,KAAKW,IAAL,CAAUX,KAAKO,GAAL,CAASyd,YAAYlf,CAAZ,GAAcif,WAAWjf,CAAlC,EAAoC,CAApC,IAAuCkB,KAAKO,GAAL,CAASyd,YAAYpW,CAAZ,GAAcmW,WAAWnW,CAAlC,EAAoC,CAApC,CAAjD,CAAR;AAAA,MACCuW,MAAIne,KAAKW,IAAL,CAAUX,KAAKO,GAAL,CAAS0d,WAAWnf,CAAX,GAAakf,YAAYlf,CAAlC,EAAoC,CAApC,IAAuCkB,KAAKO,GAAL,CAAS0d,WAAWrW,CAAX,GAAaoW,YAAYpW,CAAlC,EAAoC,CAApC,CAAjD,CADL;AAAA,MAECwW,KAAGrf,IAAEmf,GAAF,IAAOA,MAAIC,GAAX,CAFJ;AAAA,MAEoB;AACnBE,OAAGtf,IAAEof,GAAF,IAAOD,MAAIC,GAAX,CAHJ;AAIA,SAAO;AACNG,UAAQ;AACPxf,OAAIkf,YAAYlf,CAAZ,GAAcsf,MAAIH,WAAWnf,CAAX,GAAaif,WAAWjf,CAA5B,CADX;AAEP8I,OAAIoW,YAAYpW,CAAZ,GAAcwW,MAAIH,WAAWrW,CAAX,GAAamW,WAAWnW,CAA5B;AAFX,IADF;AAKN2W,UAAQ;AACPzf,OAAGkf,YAAYlf,CAAZ,GAAcuf,MAAIJ,WAAWnf,CAAX,GAAaif,WAAWjf,CAA5B,CADV;AAEP8I,OAAIoW,YAAYpW,CAAZ,GAAcyW,MAAIJ,WAAWrW,CAAX,GAAamW,WAAWnW,CAA5B;AAFX;AALF,GAAP;AAUA,EA3MF;AAAA,KA4MC4W,4BAA4BtH,QAAQsH,yBAAR,GAAoC,UAASC,GAAT,EAAa;AAC5E,SAAOze,KAAKkC,KAAL,CAAWlC,KAAKmD,GAAL,CAASsb,GAAT,IAAgBze,KAAK0e,IAAhC,CAAP;AACA,EA9MF;AAAA,KA+MCC,sBAAsBzH,QAAQyH,mBAAR,GAA8B,UAASC,WAAT,EAAsBC,WAAtB,EAAmCC,QAAnC,EAA6CC,aAA7C,EAA4DC,YAA5D,EAAyE;;AAE5H;AACA,MAAIC,WAAW,CAAf;AAAA,MACCC,WAAWlf,KAAKkC,KAAL,CAAW2c,eAAaC,WAAW,GAAxB,CAAX,CADZ;AAAA,MAECK,cAAeF,YAAYC,QAF5B;;AAIA;AACA,MAAIE,SAAS,EAAb;AACAtc,OAAK8b,WAAL,EAAkB,UAAUjX,CAAV,EAAa;AAC9BA,QAAK,IAAL,IAAayX,OAAOra,IAAP,CAAa4C,CAAb,CAAb;AACA,GAFD;AAGA,MAAIiV,WAAWzU,IAAIiX,MAAJ,CAAf;AAAA,MACIzC,WAAWvU,IAAIgX,MAAJ,CADf;;AAGA;AACA;AACA,MAAIzC,aAAaC,QAAjB,EAA0B;AACzBD,eAAY,GAAZ;AACA;AACA,OAAIC,YAAY,GAAZ,IAAmB,CAACmC,aAAxB,EAAsC;AACrCnC,gBAAY,GAAZ;AACA,IAFD,MAGI;AACH;AACAD,gBAAY,GAAZ;AACA;AACD;;AAED,MAAI0C,aAAarf,KAAKkB,GAAL,CAASyb,WAAWC,QAApB,CAAjB;AAAA,MACC0C,wBAAwBd,0BAA0Ba,UAA1B,CADzB;AAAA,MAECE,WAAWvf,KAAKwf,IAAL,CAAU7C,YAAY,IAAI3c,KAAKO,GAAL,CAAS,EAAT,EAAa+e,qBAAb,CAAhB,CAAV,IAAkEtf,KAAKO,GAAL,CAAS,EAAT,EAAa+e,qBAAb,CAF9E;AAAA,MAGCG,WAAYV,aAAD,GAAkB,CAAlB,GAAsB/e,KAAKkC,KAAL,CAAW0a,YAAY,IAAI5c,KAAKO,GAAL,CAAS,EAAT,EAAa+e,qBAAb,CAAhB,CAAX,IAAmEtf,KAAKO,GAAL,CAAS,EAAT,EAAa+e,qBAAb,CAHrG;AAAA,MAICI,aAAaH,WAAWE,QAJzB;AAAA,MAKCE,YAAY3f,KAAKO,GAAL,CAAS,EAAT,EAAa+e,qBAAb,CALb;AAAA,MAMCM,gBAAgB5f,KAAKwH,KAAL,CAAWkY,aAAaC,SAAxB,CANjB;;AAQA;AACA,SAAM,CAACC,gBAAgBV,QAAhB,IAA6BU,gBAAgB,CAAjB,GAAsBV,QAAnD,KAAgE,CAACC,WAAvE,EAAoF;AACnF,OAAGS,gBAAgBV,QAAnB,EAA4B;AAC3BS,iBAAY,CAAZ;AACAC,oBAAgB5f,KAAKwH,KAAL,CAAWkY,aAAWC,SAAtB,CAAhB;AACA;AACA,QAAIC,gBAAgB,CAAhB,KAAsB,CAA1B,EAA4B;AAC3BT,mBAAc,IAAd;AACA;AACD;AACD;AARA,QASI;AACH;AACA,SAAIH,gBAAgBM,yBAAyB,CAA7C,EAA+C;AAC9C;AACA,UAAGK,YAAU,CAAV,GAAc,CAAd,KAAoB,CAAvB,EAAyB;AACxBA,oBAAY,CAAZ;AACAC,uBAAgB5f,KAAKwH,KAAL,CAAWkY,aAAWC,SAAtB,CAAhB;AACA;AACD;AAJA,WAKI;AACH;AACA;AACD;AACD;AAXA,UAYI;AACHA,oBAAY,CAAZ;AACAC,uBAAgB5f,KAAKwH,KAAL,CAAWkY,aAAWC,SAAtB,CAAhB;AACA;AAED;AACD;;AAED,MAAIR,WAAJ,EAAgB;AACfS,mBAAgBX,QAAhB;AACAU,eAAYD,aAAaE,aAAzB;AACA;;AAED,SAAO;AACNC,UAAQD,aADF;AAEND,cAAYA,SAFN;AAGNxX,QAAMsX,QAHA;AAINrX,QAAMqX,WAAYG,gBAAgBD;AAJ5B,GAAP;AAOA,EAjSF;;AAkSC;AACA;AACA;AACA;AACAG,YAAW5I,QAAQ4I,QAAR,GAAmB,UAASC,cAAT,EAAyBC,YAAzB,EAAsC;;AAEnE;;AAEA,MAAGD,0BAA0BE,QAA7B,EAAsC;AACpC,UAAOF,eAAeC,YAAf,CAAP;AACA;;AAEF,MAAIE,QAAQ,EAAZ;AACA,WAASC,IAAT,CAAc7D,GAAd,EAAmBhY,IAAnB,EAAwB;AACvB;AACA;AACA,OAAIZ,KAAK,CAAC,KAAKyC,IAAL,CAAUmW,GAAV,CAAD,GACT4D,MAAM5D,GAAN,IAAa4D,MAAM5D,GAAN,CADJ;;AAGT;AACA;AACA,OAAI2D,QAAJ,CAAa,KAAb,EACC;;AAEA;AACA,uBAHA;;AAKA;AACA3D,OACErM,OADF,CACU,WADV,EACuB,GADvB,EAEEpJ,KAFF,CAEQ,IAFR,EAEc+I,IAFd,CAEmB,IAFnB,EAGEK,OAHF,CAGU,kBAHV,EAG8B,MAH9B,EAIEA,OAJF,CAIU,aAJV,EAIyB,QAJzB,EAKEpJ,KALF,CAKQ,IALR,EAKc+I,IALd,CAKmB,KALnB,EAME/I,KANF,CAMQ,IANR,EAMc+I,IANd,CAMmB,UANnB,EAOE/I,KAPF,CAOQ,IAPR,EAOc+I,IAPd,CAOmB,KAPnB,CANA,GAcA,wBAfD,CALA;;AAuBA;AACA,UAAOtL,OAAOZ,GAAIY,IAAJ,CAAP,GAAoBZ,EAA3B;AACA;AACD,SAAOyc,KAAKJ,cAAL,EAAoBC,YAApB,CAAP;AACA,EA7UF;;AA8UC;AACAI,kBAAiBlJ,QAAQkJ,cAAR,GAAyB,UAASL,cAAT,EAAwBH,aAAxB,EAAsCH,QAAtC,EAA+CE,SAA/C,EAAyD;AAClG,MAAIU,cAAc,IAAIrc,KAAJ,CAAU4b,aAAV,CAAlB;AACA,MAAIG,cAAJ,EAAmB;AAClBjd,QAAKud,WAAL,EAAiB,UAAS5B,GAAT,EAAa6B,KAAb,EAAmB;AACnCD,gBAAYC,KAAZ,IAAqBR,SAASC,cAAT,EAAwB,EAACpF,OAAQ8E,WAAYE,aAAWW,QAAM,CAAjB,CAArB,EAAxB,CAArB;AACA,IAFD;AAGA;AACD,SAAOD,WAAP;AACA,EAvVF;;AAwVC;AACA;AACA;AACAE,iBAAgBrJ,QAAQqJ,aAAR,GAAwB;AACvC9R,UAAQ,gBAAU1P,CAAV,EAAa;AACpB,UAAOA,CAAP;AACA,GAHsC;AAIvCI,cAAY,oBAAUJ,CAAV,EAAa;AACxB,UAAOA,IAAIA,CAAX;AACA,GANsC;AAOvCK,eAAa,qBAAUL,CAAV,EAAa;AACzB,UAAO,CAAC,CAAD,GAAKA,CAAL,IAAUA,IAAI,CAAd,CAAP;AACA,GATsC;AAUvCM,iBAAe,uBAAUN,CAAV,EAAa;AAC3B,OAAI,CAACA,KAAK,IAAI,CAAV,IAAe,CAAnB,EAAqB;AACpB,WAAO,IAAI,CAAJ,GAAQA,CAAR,GAAYA,CAAnB;AACA;AACD,UAAO,CAAC,CAAD,GAAK,CAAL,IAAW,EAAEA,CAAH,IAASA,IAAI,CAAb,IAAkB,CAA5B,CAAP;AACA,GAfsC;AAgBvCO,eAAa,qBAAUP,CAAV,EAAa;AACzB,UAAOA,IAAIA,CAAJ,GAAQA,CAAf;AACA,GAlBsC;AAmBvCQ,gBAAc,sBAAUR,CAAV,EAAa;AAC1B,UAAO,KAAK,CAACA,IAAIA,IAAI,CAAJ,GAAQ,CAAb,IAAkBA,CAAlB,GAAsBA,CAAtB,GAA0B,CAA/B,CAAP;AACA,GArBsC;AAsBvCS,kBAAgB,wBAAUT,CAAV,EAAa;AAC5B,OAAI,CAACA,KAAK,IAAI,CAAV,IAAe,CAAnB,EAAqB;AACpB,WAAO,IAAI,CAAJ,GAAQA,CAAR,GAAYA,CAAZ,GAAgBA,CAAvB;AACA;AACD,UAAO,IAAI,CAAJ,IAAS,CAACA,KAAK,CAAN,IAAWA,CAAX,GAAeA,CAAf,GAAmB,CAA5B,CAAP;AACA,GA3BsC;AA4BvCU,eAAa,qBAAUV,CAAV,EAAa;AACzB,UAAOA,IAAIA,CAAJ,GAAQA,CAAR,GAAYA,CAAnB;AACA,GA9BsC;AA+BvCW,gBAAc,sBAAUX,CAAV,EAAa;AAC1B,UAAO,CAAC,CAAD,IAAM,CAACA,IAAIA,IAAI,CAAJ,GAAQ,CAAb,IAAkBA,CAAlB,GAAsBA,CAAtB,GAA0BA,CAA1B,GAA8B,CAApC,CAAP;AACA,GAjCsC;AAkCvCY,kBAAgB,wBAAUZ,CAAV,EAAa;AAC5B,OAAI,CAACA,KAAK,IAAI,CAAV,IAAe,CAAnB,EAAqB;AACpB,WAAO,IAAI,CAAJ,GAAQA,CAAR,GAAYA,CAAZ,GAAgBA,CAAhB,GAAoBA,CAA3B;AACA;AACD,UAAO,CAAC,CAAD,GAAK,CAAL,IAAU,CAACA,KAAK,CAAN,IAAWA,CAAX,GAAeA,CAAf,GAAmBA,CAAnB,GAAuB,CAAjC,CAAP;AACA,GAvCsC;AAwCvCa,eAAa,qBAAUb,CAAV,EAAa;AACzB,UAAO,KAAKA,KAAK,CAAV,IAAeA,CAAf,GAAmBA,CAAnB,GAAuBA,CAAvB,GAA2BA,CAAlC;AACA,GA1CsC;AA2CvCc,gBAAc,sBAAUd,CAAV,EAAa;AAC1B,UAAO,KAAK,CAACA,IAAIA,IAAI,CAAJ,GAAQ,CAAb,IAAkBA,CAAlB,GAAsBA,CAAtB,GAA0BA,CAA1B,GAA8BA,CAA9B,GAAkC,CAAvC,CAAP;AACA,GA7CsC;AA8CvCe,kBAAgB,wBAAUf,CAAV,EAAa;AAC5B,OAAI,CAACA,KAAK,IAAI,CAAV,IAAe,CAAnB,EAAqB;AACpB,WAAO,IAAI,CAAJ,GAAQA,CAAR,GAAYA,CAAZ,GAAgBA,CAAhB,GAAoBA,CAApB,GAAwBA,CAA/B;AACA;AACD,UAAO,IAAI,CAAJ,IAAS,CAACA,KAAK,CAAN,IAAWA,CAAX,GAAeA,CAAf,GAAmBA,CAAnB,GAAuBA,CAAvB,GAA2B,CAApC,CAAP;AACA,GAnDsC;AAoDvCgB,cAAY,oBAAUhB,CAAV,EAAa;AACxB,UAAO,CAAC,CAAD,GAAKiB,KAAKC,GAAL,CAASlB,IAAI,CAAJ,IAASiB,KAAKE,EAAL,GAAU,CAAnB,CAAT,CAAL,GAAuC,CAA9C;AACA,GAtDsC;AAuDvCC,eAAa,qBAAUpB,CAAV,EAAa;AACzB,UAAO,IAAIiB,KAAKI,GAAL,CAASrB,IAAI,CAAJ,IAASiB,KAAKE,EAAL,GAAU,CAAnB,CAAT,CAAX;AACA,GAzDsC;AA0DvCG,iBAAe,uBAAUtB,CAAV,EAAa;AAC3B,UAAO,CAAC,CAAD,GAAK,CAAL,IAAUiB,KAAKC,GAAL,CAASD,KAAKE,EAAL,GAAUnB,CAAV,GAAc,CAAvB,IAA4B,CAAtC,CAAP;AACA,GA5DsC;AA6DvCuB,cAAY,oBAAUvB,CAAV,EAAa;AACxB,UAAQA,MAAM,CAAP,GAAY,CAAZ,GAAgB,IAAIiB,KAAKO,GAAL,CAAS,CAAT,EAAY,MAAMxB,IAAI,CAAJ,GAAQ,CAAd,CAAZ,CAA3B;AACA,GA/DsC;AAgEvCyB,eAAa,qBAAUzB,CAAV,EAAa;AACzB,UAAQA,MAAM,CAAP,GAAY,CAAZ,GAAgB,KAAK,CAACiB,KAAKO,GAAL,CAAS,CAAT,EAAY,CAAC,EAAD,GAAMxB,CAAN,GAAU,CAAtB,CAAD,GAA4B,CAAjC,CAAvB;AACA,GAlEsC;AAmEvC0B,iBAAe,uBAAU1B,CAAV,EAAa;AAC3B,OAAIA,MAAM,CAAV,EAAY;AACX,WAAO,CAAP;AACA;AACD,OAAIA,MAAM,CAAV,EAAY;AACX,WAAO,CAAP;AACA;AACD,OAAI,CAACA,KAAK,IAAI,CAAV,IAAe,CAAnB,EAAqB;AACpB,WAAO,IAAI,CAAJ,GAAQiB,KAAKO,GAAL,CAAS,CAAT,EAAY,MAAMxB,IAAI,CAAV,CAAZ,CAAf;AACA;AACD,UAAO,IAAI,CAAJ,IAAS,CAACiB,KAAKO,GAAL,CAAS,CAAT,EAAY,CAAC,EAAD,GAAM,EAAExB,CAApB,CAAD,GAA0B,CAAnC,CAAP;AACA,GA9EsC;AA+EvC2B,cAAY,oBAAU3B,CAAV,EAAa;AACxB,OAAIA,KAAK,CAAT,EAAW;AACV,WAAOA,CAAP;AACA;AACD,UAAO,CAAC,CAAD,IAAMiB,KAAKW,IAAL,CAAU,IAAI,CAAC5B,KAAK,CAAN,IAAWA,CAAzB,IAA8B,CAApC,CAAP;AACA,GApFsC;AAqFvC6B,eAAa,qBAAU7B,CAAV,EAAa;AACzB,UAAO,IAAIiB,KAAKW,IAAL,CAAU,IAAI,CAAC5B,IAAIA,IAAI,CAAJ,GAAQ,CAAb,IAAkBA,CAAhC,CAAX;AACA,GAvFsC;AAwFvC8B,iBAAe,uBAAU9B,CAAV,EAAa;AAC3B,OAAI,CAACA,KAAK,IAAI,CAAV,IAAe,CAAnB,EAAqB;AACpB,WAAO,CAAC,CAAD,GAAK,CAAL,IAAUiB,KAAKW,IAAL,CAAU,IAAI5B,IAAIA,CAAlB,IAAuB,CAAjC,CAAP;AACA;AACD,UAAO,IAAI,CAAJ,IAASiB,KAAKW,IAAL,CAAU,IAAI,CAAC5B,KAAK,CAAN,IAAWA,CAAzB,IAA8B,CAAvC,CAAP;AACA,GA7FsC;AA8FvC+B,iBAAe,uBAAU/B,CAAV,EAAa;AAC3B,OAAIgC,IAAI,OAAR;AACA,OAAIC,IAAI,CAAR;AACA,OAAIC,IAAI,CAAR;AACA,OAAIlC,MAAM,CAAV,EAAY;AACX,WAAO,CAAP;AACA;AACD,OAAI,CAACA,KAAK,CAAN,KAAY,CAAhB,EAAkB;AACjB,WAAO,CAAP;AACA;AACD,OAAI,CAACiC,CAAL,EAAO;AACNA,QAAI,IAAI,GAAR;AACA;AACD,OAAIC,IAAIjB,KAAKkB,GAAL,CAAS,CAAT,CAAR,EAAqB;AACpBD,QAAI,CAAJ;AACAF,QAAIC,IAAI,CAAR;AACA,IAHD,MAGM;AACLD,QAAIC,KAAK,IAAIhB,KAAKE,EAAd,IAAoBF,KAAKmB,IAAL,CAAU,IAAIF,CAAd,CAAxB;AACA;AACD,UAAO,EAAEA,IAAIjB,KAAKO,GAAL,CAAS,CAAT,EAAY,MAAMxB,KAAK,CAAX,CAAZ,CAAJ,GAAiCiB,KAAKI,GAAL,CAAS,CAACrB,IAAI,CAAJ,GAAQgC,CAAT,KAAe,IAAIf,KAAKE,EAAxB,IAA8Bc,CAAvC,CAAnC,CAAP;AACA,GAlHsC;AAmHvCI,kBAAgB,wBAAUrC,CAAV,EAAa;AAC5B,OAAIgC,IAAI,OAAR;AACA,OAAIC,IAAI,CAAR;AACA,OAAIC,IAAI,CAAR;AACA,OAAIlC,MAAM,CAAV,EAAY;AACX,WAAO,CAAP;AACA;AACD,OAAI,CAACA,KAAK,CAAN,KAAY,CAAhB,EAAkB;AACjB,WAAO,CAAP;AACA;AACD,OAAI,CAACiC,CAAL,EAAO;AACNA,QAAI,IAAI,GAAR;AACA;AACD,OAAIC,IAAIjB,KAAKkB,GAAL,CAAS,CAAT,CAAR,EAAqB;AACpBD,QAAI,CAAJ;AACAF,QAAIC,IAAI,CAAR;AACA,IAHD,MAGM;AACLD,QAAIC,KAAK,IAAIhB,KAAKE,EAAd,IAAoBF,KAAKmB,IAAL,CAAU,IAAIF,CAAd,CAAxB;AACA;AACD,UAAOA,IAAIjB,KAAKO,GAAL,CAAS,CAAT,EAAY,CAAC,EAAD,GAAMxB,CAAlB,CAAJ,GAA2BiB,KAAKI,GAAL,CAAS,CAACrB,IAAI,CAAJ,GAAQgC,CAAT,KAAe,IAAIf,KAAKE,EAAxB,IAA8Bc,CAAvC,CAA3B,GAAuE,CAA9E;AACA,GAvIsC;AAwIvCK,oBAAkB,0BAAUtC,CAAV,EAAa;AAC9B,OAAIgC,IAAI,OAAR;AACA,OAAIC,IAAI,CAAR;AACA,OAAIC,IAAI,CAAR;AACA,OAAIlC,MAAM,CAAV,EAAY;AACX,WAAO,CAAP;AACA;AACD,OAAI,CAACA,KAAK,IAAI,CAAV,KAAgB,CAApB,EAAsB;AACrB,WAAO,CAAP;AACA;AACD,OAAI,CAACiC,CAAL,EAAO;AACNA,QAAI,KAAK,MAAM,GAAX,CAAJ;AACA;AACD,OAAIC,IAAIjB,KAAKkB,GAAL,CAAS,CAAT,CAAR,EAAqB;AACpBD,QAAI,CAAJ;AACAF,QAAIC,IAAI,CAAR;AACA,IAHD,MAGO;AACND,QAAIC,KAAK,IAAIhB,KAAKE,EAAd,IAAoBF,KAAKmB,IAAL,CAAU,IAAIF,CAAd,CAAxB;AACA;AACD,OAAIlC,IAAI,CAAR,EAAU;AACT,WAAO,CAAC,GAAD,IAAQkC,IAAIjB,KAAKO,GAAL,CAAS,CAAT,EAAY,MAAMxB,KAAK,CAAX,CAAZ,CAAJ,GAAiCiB,KAAKI,GAAL,CAAS,CAACrB,IAAI,CAAJ,GAAQgC,CAAT,KAAe,IAAIf,KAAKE,EAAxB,IAA8Bc,CAAvC,CAAzC,CAAP;AAA4F;AAC7F,UAAOC,IAAIjB,KAAKO,GAAL,CAAS,CAAT,EAAY,CAAC,EAAD,IAAOxB,KAAK,CAAZ,CAAZ,CAAJ,GAAkCiB,KAAKI,GAAL,CAAS,CAACrB,IAAI,CAAJ,GAAQgC,CAAT,KAAe,IAAIf,KAAKE,EAAxB,IAA8Bc,CAAvC,CAAlC,GAA8E,GAA9E,GAAoF,CAA3F;AACA,GA9JsC;AA+JvCM,cAAY,oBAAUvC,CAAV,EAAa;AACxB,OAAIgC,IAAI,OAAR;AACA,UAAO,KAAKhC,KAAK,CAAV,IAAeA,CAAf,IAAoB,CAACgC,IAAI,CAAL,IAAUhC,CAAV,GAAcgC,CAAlC,CAAP;AACA,GAlKsC;AAmKvCS,eAAa,qBAAUzC,CAAV,EAAa;AACzB,OAAIgC,IAAI,OAAR;AACA,UAAO,KAAK,CAAChC,IAAIA,IAAI,CAAJ,GAAQ,CAAb,IAAkBA,CAAlB,IAAuB,CAACgC,IAAI,CAAL,IAAUhC,CAAV,GAAcgC,CAArC,IAA0C,CAA/C,CAAP;AACA,GAtKsC;AAuKvCU,iBAAe,uBAAU1C,CAAV,EAAa;AAC3B,OAAIgC,IAAI,OAAR;AACA,OAAI,CAAChC,KAAK,IAAI,CAAV,IAAe,CAAnB,EAAqB;AACpB,WAAO,IAAI,CAAJ,IAASA,IAAIA,CAAJ,IAAS,CAAC,CAACgC,KAAM,KAAP,IAAiB,CAAlB,IAAuBhC,CAAvB,GAA2BgC,CAApC,CAAT,CAAP;AACA;AACD,UAAO,IAAI,CAAJ,IAAS,CAAChC,KAAK,CAAN,IAAWA,CAAX,IAAgB,CAAC,CAACgC,KAAM,KAAP,IAAiB,CAAlB,IAAuBhC,CAAvB,GAA2BgC,CAA3C,IAAgD,CAAzD,CAAP;AACA,GA7KsC;AA8KvCW,gBAAc,sBAAU3C,CAAV,EAAa;AAC1B,UAAO,IAAIwhB,cAAc5e,aAAd,CAA4B,IAAI5C,CAAhC,CAAX;AACA,GAhLsC;AAiLvC4C,iBAAe,uBAAU5C,CAAV,EAAa;AAC3B,OAAI,CAACA,KAAK,CAAN,IAAY,IAAI,IAApB,EAA2B;AAC1B,WAAO,KAAK,SAASA,CAAT,GAAaA,CAAlB,CAAP;AACA,IAFD,MAEO,IAAIA,IAAK,IAAI,IAAb,EAAoB;AAC1B,WAAO,KAAK,UAAUA,KAAM,MAAM,IAAtB,IAA+BA,CAA/B,GAAmC,IAAxC,CAAP;AACA,IAFM,MAEA,IAAIA,IAAK,MAAM,IAAf,EAAsB;AAC5B,WAAO,KAAK,UAAUA,KAAM,OAAO,IAAvB,IAAgCA,CAAhC,GAAoC,MAAzC,CAAP;AACA,IAFM,MAEA;AACN,WAAO,KAAK,UAAUA,KAAM,QAAQ,IAAxB,IAAiCA,CAAjC,GAAqC,QAA1C,CAAP;AACA;AACD,GA3LsC;AA4LvC6C,mBAAiB,yBAAU7C,CAAV,EAAa;AAC7B,OAAIA,IAAI,IAAI,CAAZ,EAAc;AACb,WAAOwhB,cAAc7e,YAAd,CAA2B3C,IAAI,CAA/B,IAAoC,GAA3C;AACA;AACD,UAAOwhB,cAAc5e,aAAd,CAA4B5C,IAAI,CAAJ,GAAQ,CAApC,IAAyC,GAAzC,GAA+C,IAAI,GAA1D;AACA;AAjMsC,EA3VzC;;AA8hBC;AACAyhB,oBAAmBtJ,QAAQsJ,gBAAR,GAA4B,YAAU;AACxD,SAAO3e,OAAOiU,qBAAP,IACNjU,OAAO8J,2BADD,IAEN9J,OAAO+J,wBAFD,IAGN/J,OAAO4e,sBAHD,IAIN5e,OAAO6e,uBAJD,IAKN,UAAStG,QAAT,EAAmB;AAClB,UAAOvY,OAAOuJ,UAAP,CAAkBgP,QAAlB,EAA4B,OAAO,EAAnC,CAAP;AACA,GAPF;AAQA,EAT6C,EA/hB/C;AAAA,KAyiBCuG,kBAAkBzJ,QAAQyJ,eAAR,GAA2B,YAAU;AACtD,SAAO9e,OAAO+e,oBAAP,IACN/e,OAAOgf,0BADD,IAENhf,OAAOif,uBAFD,IAGNjf,OAAOkf,qBAHD,IAINlf,OAAOmf,sBAJD,IAKN,UAAS5G,QAAT,EAAmB;AAClB,UAAOvY,OAAO4T,YAAP,CAAoB2E,QAApB,EAA8B,OAAO,EAArC,CAAP;AACA,GAPF;AAQA,EAT2C,EAziB7C;AAAA,KAmjBC6G,gBAAgB/J,QAAQ+J,aAAR,GAAwB,UAAS7G,QAAT,EAAkB8G,UAAlB,EAA6BC,YAA7B,EAA0CC,UAA1C,EAAqDC,UAArD,EAAgEC,aAAhE,EAA8E;;AAErH,MAAIC,cAAc,CAAlB;AAAA,MACCC,iBAAiBjB,cAAcY,YAAd,KAA+BZ,cAAc9R,MAD/D;;AAGA,MAAIgT,iBAAiB,SAAjBA,cAAiB,GAAU;AAC9BF;AACA,OAAIG,cAAcH,cAAYL,UAA9B;AACA,OAAIS,cAAcH,eAAeE,WAAf,CAAlB;;AAEAtH,YAAStW,IAAT,CAAcwd,aAAd,EAA4BK,WAA5B,EAAwCD,WAAxC,EAAqDH,WAArD;AACAH,cAAWtd,IAAX,CAAgBwd,aAAhB,EAA8BK,WAA9B,EAA0CD,WAA1C;AACA,OAAIH,cAAcL,UAAlB,EAA6B;AAC5BI,kBAAcG,cAAd,GAA+BjB,iBAAiBiB,cAAjB,CAA/B;AACA,IAFD,MAEM;AACLJ,eAAWhd,KAAX,CAAiBid,aAAjB;AACA;AACD,GAZD;AAaAd,mBAAiBiB,cAAjB;AACA,EAtkBF;;AAukBC;AACAG,uBAAsB1K,QAAQ0K,mBAAR,GAA8B,UAASC,GAAT,EAAa;AAChE,MAAIC,MAAJ,EAAYC,MAAZ;AACA,MAAI3e,IAAIye,IAAIG,aAAJ,IAAqBH,GAA7B;AAAA,MACClL,SAASkL,IAAII,aAAJ,IAAqBJ,IAAIK,UADnC;AAAA,MAECC,eAAexL,OAAOtR,qBAAP,EAFhB;;AAIA,MAAIjC,EAAEgf,OAAN,EAAc;AACbN,YAAS1e,EAAEgf,OAAF,CAAU,CAAV,EAAaC,OAAb,GAAuBF,aAAa5c,IAA7C;AACAwc,YAAS3e,EAAEgf,OAAF,CAAU,CAAV,EAAaE,OAAb,GAAuBH,aAAa7c,GAA7C;AAEA,GAJD,MAKI;AACHwc,YAAS1e,EAAEif,OAAF,GAAYF,aAAa5c,IAAlC;AACAwc,YAAS3e,EAAEkf,OAAF,GAAYH,aAAa7c,GAAlC;AACA;;AAED,SAAO;AACNxG,MAAIgjB,MADE;AAENla,MAAIma;AAFE,GAAP;AAKA,EA7lBF;AAAA,KA8lBCQ,WAAWrL,QAAQqL,QAAR,GAAmB,UAASC,IAAT,EAAcC,SAAd,EAAwBC,MAAxB,EAA+B;AAC5D,MAAIF,KAAKxM,gBAAT,EAA0B;AACzBwM,QAAKxM,gBAAL,CAAsByM,SAAtB,EAAgCC,MAAhC;AACA,GAFD,MAEO,IAAIF,KAAKG,WAAT,EAAqB;AAC3BH,QAAKG,WAAL,CAAiB,OAAKF,SAAtB,EAAiCC,MAAjC;AACA,GAFM,MAEA;AACNF,QAAK,OAAKC,SAAV,IAAuBC,MAAvB;AACA;AACD,EAtmBF;AAAA,KAumBCE,cAAc1L,QAAQ0L,WAAR,GAAsB,UAASJ,IAAT,EAAeC,SAAf,EAA0BI,OAA1B,EAAkC;AACrE,MAAIL,KAAKM,mBAAT,EAA6B;AAC5BN,QAAKM,mBAAL,CAAyBL,SAAzB,EAAoCI,OAApC,EAA6C,KAA7C;AACA,GAFD,MAEO,IAAIL,KAAKO,WAAT,EAAqB;AAC3BP,QAAKO,WAAL,CAAiB,OAAKN,SAAtB,EAAgCI,OAAhC;AACA,GAFM,MAED;AACLL,QAAK,OAAOC,SAAZ,IAAyBvG,IAAzB;AACA;AACD,EA/mBF;AAAA,KAgnBC8G,aAAa9L,QAAQ8L,UAAR,GAAqB,UAAS1B,aAAT,EAAwB2B,aAAxB,EAAuCJ,OAAvC,EAA+C;AAChF;AACA,MAAI,CAACvB,cAAc4B,MAAnB,EAA2B5B,cAAc4B,MAAd,GAAuB,EAAvB;;AAE3BpgB,OAAKmgB,aAAL,EAAmB,UAASE,SAAT,EAAmB;AACrC7B,iBAAc4B,MAAd,CAAqBC,SAArB,IAAkC,YAAU;AAC3CN,YAAQxe,KAAR,CAAcid,aAAd,EAA6B5c,SAA7B;AACA,IAFD;AAGA6d,YAASjB,cAAc5K,KAAd,CAAoBC,MAA7B,EAAoCwM,SAApC,EAA8C7B,cAAc4B,MAAd,CAAqBC,SAArB,CAA9C;AACA,GALD;AAMA,EA1nBF;AAAA,KA2nBCC,eAAelM,QAAQkM,YAAR,GAAuB,UAAU9B,aAAV,EAAyB2B,aAAzB,EAAwC;AAC7EngB,OAAKmgB,aAAL,EAAoB,UAASJ,OAAT,EAAiBM,SAAjB,EAA2B;AAC9CP,eAAYtB,cAAc5K,KAAd,CAAoBC,MAAhC,EAAwCwM,SAAxC,EAAmDN,OAAnD;AACA,GAFD;AAGA,EA/nBF;AAAA,KAgoBCQ,kBAAkBnM,QAAQmM,eAAR,GAA0B,UAASC,OAAT,EAAiB;AAC5D,MAAIrR,YAAYqR,QAAQlV,UAAxB;AAAA,MACImV,UAAUlT,SAASmT,SAASvR,SAAT,EAAoB,cAApB,CAAT,IAAgD5B,SAASmT,SAASvR,SAAT,EAAoB,eAApB,CAAT,CAD9D;AAEA;AACA,SAAOA,UAAUwR,WAAV,GAAwBF,OAA/B;AACA,EAroBF;AAAA,KAsoBCG,mBAAmBxM,QAAQwM,gBAAR,GAA2B,UAASJ,OAAT,EAAiB;AAC9D,MAAIrR,YAAYqR,QAAQlV,UAAxB;AAAA,MACImV,UAAUlT,SAASmT,SAASvR,SAAT,EAAoB,gBAApB,CAAT,IAAkD5B,SAASmT,SAASvR,SAAT,EAAoB,aAApB,CAAT,CADhE;AAEA;AACA,SAAOA,UAAU0R,YAAV,GAAyBJ,OAAhC;AACA,EA3oBF;AAAA,KA4oBCC,WAAWtM,QAAQsM,QAAR,GAAmB,UAAUI,EAAV,EAAcC,QAAd,EAAwB;AACrD,SAAOD,GAAGE,YAAH,GACNF,GAAGE,YAAH,CAAgBD,QAAhB,CADM,GAENpe,SAASsR,WAAT,CAAqBjF,gBAArB,CAAsC8R,EAAtC,EAA0C,IAA1C,EAAgDjS,gBAAhD,CAAiEkS,QAAjE,CAFD;AAGA,EAhpBF;AAAA,KAipBCE,iBAAiB7M,QAAQ6M,cAAR,GAAyB7M,QAAQmM,eAjpBnD;AAAA,KAipBoE;AACnElM,eAAcD,QAAQC,WAAR,GAAsB,UAAST,KAAT,EAAe;AAClD,MAAIE,MAAMF,MAAME,GAAhB;AAAA,MACCI,QAAQN,MAAMC,MAAN,CAAaK,KADtB;AAAA,MAECf,SAASS,MAAMC,MAAN,CAAaV,MAFvB;;AAIA,MAAIpU,OAAOmiB,gBAAX,EAA6B;AAC5BpN,OAAID,MAAJ,CAAWzQ,KAAX,CAAiB8Q,KAAjB,GAAyBA,QAAQ,IAAjC;AACAJ,OAAID,MAAJ,CAAWzQ,KAAX,CAAiB+P,MAAjB,GAA0BA,SAAS,IAAnC;AACAW,OAAID,MAAJ,CAAWV,MAAX,GAAoBA,SAASpU,OAAOmiB,gBAApC;AACApN,OAAID,MAAJ,CAAWK,KAAX,GAAmBA,QAAQnV,OAAOmiB,gBAAlC;AACApN,OAAInE,KAAJ,CAAU5Q,OAAOmiB,gBAAjB,EAAmCniB,OAAOmiB,gBAA1C;AACA;AACD,EA9pBF;;AA+pBC;AACAC,UAAQ/M,QAAQ+M,KAAR,GAAgB,UAASvN,KAAT,EAAe;AACtCA,QAAME,GAAN,CAAUsN,SAAV,CAAoB,CAApB,EAAsB,CAAtB,EAAwBxN,MAAMM,KAA9B,EAAoCN,MAAMT,MAA1C;AACA,EAlqBF;AAAA,KAmqBCkO,aAAajN,QAAQiN,UAAR,GAAqB,UAASC,SAAT,EAAmBC,SAAnB,EAA6BC,UAA7B,EAAwC;AACzE,SAAOD,YAAY,GAAZ,GAAkBD,SAAlB,GAA4B,KAA5B,GAAoCE,UAA3C;AACA,EArqBF;AAAA,KAsqBCC,cAAcrN,QAAQqN,WAAR,GAAsB,UAAS3N,GAAT,EAAa4N,IAAb,EAAkBC,cAAlB,EAAiC;AACpE7N,MAAI4N,IAAJ,GAAWA,IAAX;AACA,MAAIE,UAAU,CAAd;AACA5hB,OAAK2hB,cAAL,EAAoB,UAASE,MAAT,EAAgB;AACnC,OAAIC,YAAYhO,IAAIiO,WAAJ,CAAgBF,MAAhB,EAAwB3N,KAAxC;AACA0N,aAAWE,YAAYF,OAAb,GAAwBE,SAAxB,GAAoCF,OAA9C;AACA,GAHD;AAIA,SAAOA,OAAP;AACA,EA9qBF;AAAA,KA+qBCI,uBAAuB5N,QAAQ4N,oBAAR,GAA+B,UAASlO,GAAT,EAAa9X,CAAb,EAAe8I,CAAf,EAAiBoP,KAAjB,EAAuBf,MAAvB,EAA8B8O,MAA9B,EAAqC;AAC1FnO,MAAIoO,SAAJ;AACApO,MAAIqO,MAAJ,CAAWnmB,IAAIimB,MAAf,EAAuBnd,CAAvB;AACAgP,MAAIsO,MAAJ,CAAWpmB,IAAIkY,KAAJ,GAAY+N,MAAvB,EAA+Bnd,CAA/B;AACAgP,MAAIuO,gBAAJ,CAAqBrmB,IAAIkY,KAAzB,EAAgCpP,CAAhC,EAAmC9I,IAAIkY,KAAvC,EAA8CpP,IAAImd,MAAlD;AACAnO,MAAIsO,MAAJ,CAAWpmB,IAAIkY,KAAf,EAAsBpP,IAAIqO,MAAJ,GAAa8O,MAAnC;AACAnO,MAAIuO,gBAAJ,CAAqBrmB,IAAIkY,KAAzB,EAAgCpP,IAAIqO,MAApC,EAA4CnX,IAAIkY,KAAJ,GAAY+N,MAAxD,EAAgEnd,IAAIqO,MAApE;AACAW,MAAIsO,MAAJ,CAAWpmB,IAAIimB,MAAf,EAAuBnd,IAAIqO,MAA3B;AACAW,MAAIuO,gBAAJ,CAAqBrmB,CAArB,EAAwB8I,IAAIqO,MAA5B,EAAoCnX,CAApC,EAAuC8I,IAAIqO,MAAJ,GAAa8O,MAApD;AACAnO,MAAIsO,MAAJ,CAAWpmB,CAAX,EAAc8I,IAAImd,MAAlB;AACAnO,MAAIuO,gBAAJ,CAAqBrmB,CAArB,EAAwB8I,CAAxB,EAA2B9I,IAAIimB,MAA/B,EAAuCnd,CAAvC;AACAgP,MAAIwO,SAAJ;AACA,EA3rBF;;AA8rBA;AACA;AACA5O,OAAM6O,SAAN,GAAkB,EAAlB;;AAEA7O,OAAM8O,IAAN,GAAa,UAAShhB,IAAT,EAAciR,OAAd,EAAsBmB,KAAtB,EAA4B;AACxC,OAAKnB,OAAL,GAAeA,OAAf;AACA,OAAKmB,KAAL,GAAaA,KAAb;AACA,OAAK0F,EAAL,GAAUD,KAAV;AACA;AACA3F,QAAM6O,SAAN,CAAgB,KAAKjJ,EAArB,IAA2B,IAA3B;;AAEA;AACA;AACA,MAAI7G,QAAQgD,UAAZ,EAAuB;AACtB,QAAKgN,MAAL;AACA;AACD,OAAKC,UAAL,CAAgB1hB,IAAhB,CAAqB,IAArB,EAA0BQ,IAA1B;AACA,EAbD;;AAeA;AACA3F,QAAO6X,MAAM8O,IAAN,CAAWlhB,SAAlB,EAA4B;AAC3BohB,cAAa,sBAAU;AAAC,UAAO,IAAP;AAAa,GADV;AAE3BvB,SAAQ,iBAAU;AACjBA,UAAM,KAAKvN,KAAX;AACA,UAAO,IAAP;AACA,GAL0B;AAM3B+O,QAAO,gBAAU;AAChB;AACAjP,SAAMkP,gBAAN,CAAuBC,eAAvB,CAAuC,IAAvC;AACA,UAAO,IAAP;AACA,GAV0B;AAW3BJ,UAAS,gBAASnL,QAAT,EAAkB;AAC1B,QAAKqL,IAAL;AACA,OAAI9O,SAAS,KAAKD,KAAL,CAAWC,MAAxB;AAAA,OACCiP,WAAWvC,gBAAgB,KAAK3M,KAAL,CAAWC,MAA3B,CADZ;AAAA,OAECkP,YAAY,KAAKtQ,OAAL,CAAaiD,mBAAb,GAAmCoN,WAAW,KAAKlP,KAAL,CAAWO,WAAzD,GAAuEyM,iBAAiB,KAAKhN,KAAL,CAAWC,MAA5B,CAFpF;;AAIAA,UAAOK,KAAP,GAAe,KAAKN,KAAL,CAAWM,KAAX,GAAmB4O,QAAlC;AACAjP,UAAOV,MAAP,GAAgB,KAAKS,KAAL,CAAWT,MAAX,GAAoB4P,SAApC;;AAEA1O,eAAY,KAAKT,KAAjB;;AAEA,OAAI,OAAO0D,QAAP,KAAoB,UAAxB,EAAmC;AAClCA,aAAS/V,KAAT,CAAe,IAAf,EAAqBL,MAAMI,SAAN,CAAgBiD,KAAhB,CAAsBvD,IAAtB,CAA2BY,SAA3B,EAAsC,CAAtC,CAArB;AACA;AACD,UAAO,IAAP;AACA,GA1B0B;AA2B3BohB,UAAS5J,IA3BkB;AA4B3B6J,UAAS,gBAASD,MAAT,EAAgB;AACxB,OAAIA,MAAJ,EAAW;AACV,SAAKA,MAAL;AACA;;AAED,OAAI,KAAKvQ,OAAL,CAAa8B,SAAb,IAA0B,CAACyO,MAA/B,EAAsC;AACrC,QAAIzO,YAAY,IAAIb,MAAMwP,SAAV,EAAhB;AACA3O,cAAU4O,QAAV,GAAqB,KAAK1Q,OAAL,CAAa+B,cAAlC;AACAD,cAAU3Y,MAAV,GAAmB,KAAK6W,OAAL,CAAagC,eAAhC;;AAEA;AACAF,cAAU0O,MAAV,GAAmB,UAASzE,aAAT,EAAwB4E,eAAxB,EAAyC;AAC3D,SAAI1E,iBAAiBtK,QAAQqJ,aAAR,CAAsB2F,gBAAgBxnB,MAAtC,CAArB;AACA,SAAIgjB,cAAcwE,gBAAgB3E,WAAhB,GAA8B2E,gBAAgBD,QAAhE;AACA,SAAItE,cAAcH,eAAeE,WAAf,CAAlB;;AAEAJ,mBAAc6E,IAAd,CAAmBxE,WAAnB,EAAgCD,WAAhC,EAA6CwE,gBAAgB3E,WAA7D;AACA,KAND;;AAQA;AACAlK,cAAU2C,mBAAV,GAAgC,KAAKzE,OAAL,CAAayE,mBAA7C;AACA3C,cAAU4C,mBAAV,GAAgC,KAAK1E,OAAL,CAAa0E,mBAA7C;;AAEAzD,UAAMkP,gBAAN,CAAuBU,YAAvB,CAAoC,IAApC,EAA0C/O,SAA1C;AACA,IAnBD,MAoBI;AACH,SAAK8O,IAAL;AACA,SAAK5Q,OAAL,CAAa0E,mBAAb,CAAiCnW,IAAjC,CAAsC,IAAtC;AACA;AACD,UAAO,IAAP;AACA,GA1D0B;AA2D3BuiB,kBAAiB,0BAAU;AAC1B,UAAOvG,SAAS,KAAKvK,OAAL,CAAa+Q,cAAtB,EAAqC,IAArC,CAAP;AACA,GA7D0B;AA8D3BC,WAAU,mBAAU;AACnB,QAAKtC,KAAL;AACAb,gBAAa,IAAb,EAAmB,KAAKF,MAAxB;AACA,OAAIvM,SAAS,KAAKD,KAAL,CAAWC,MAAxB;;AAEA;AACAA,UAAOK,KAAP,GAAe,KAAKN,KAAL,CAAWM,KAA1B;AACAL,UAAOV,MAAP,GAAgB,KAAKS,KAAL,CAAWT,MAA3B;;AAEA;AACA,OAAIU,OAAOzQ,KAAP,CAAasgB,cAAjB,EAAiC;AAChC7P,WAAOzQ,KAAP,CAAasgB,cAAb,CAA4B,OAA5B;AACA7P,WAAOzQ,KAAP,CAAasgB,cAAb,CAA4B,QAA5B;AACA,IAHD,MAGO;AACN7P,WAAOzQ,KAAP,CAAaugB,eAAb,CAA6B,OAA7B;AACA9P,WAAOzQ,KAAP,CAAaugB,eAAb,CAA6B,QAA7B;AACA;;AAED,UAAOjQ,MAAM6O,SAAN,CAAgB,KAAKjJ,EAArB,CAAP;AACA,GAjF0B;AAkF3BsK,eAAc,qBAASC,aAAT,EAAwBC,WAAxB,EAAoC;AACjD;AACA,OAAI,OAAO,KAAKC,cAAZ,KAA+B,WAAnC,EAAgD,KAAKA,cAAL,GAAsB,EAAtB;;AAEhD,OAAIC,YAAa,UAASC,QAAT,EAAkB;AAClC,QAAIC,UAAU,KAAd;;AAEA,QAAID,SAAS1jB,MAAT,KAAoB,KAAKwjB,cAAL,CAAoBxjB,MAA5C,EAAmD;AAClD2jB,eAAU,IAAV;AACA,YAAOA,OAAP;AACA;;AAEDlkB,SAAKikB,QAAL,EAAe,UAASxkB,OAAT,EAAkB+d,KAAlB,EAAwB;AACtC,SAAI/d,YAAY,KAAKskB,cAAL,CAAoBvG,KAApB,CAAhB,EAA2C;AAC1C0G,gBAAU,IAAV;AACA;AACD,KAJD,EAIG,IAJH;AAKA,WAAOA,OAAP;AACA,IAde,CAcbljB,IAda,CAcR,IAdQ,EAcF6iB,aAdE,CAAhB;;AAgBA,OAAI,CAACG,SAAD,IAAc,CAACF,WAAnB,EAA+B;AAC9B;AACA,IAFD,MAGI;AACH,SAAKC,cAAL,GAAsBF,aAAtB;AACA;AACD,QAAKR,IAAL;AACA,OAAG,KAAK5Q,OAAL,CAAamD,cAAhB,EAA+B;AAC9B,SAAKnD,OAAL,CAAamD,cAAb,CAA4B,KAA5B;AACA;AACD,OAAIiO,cAActjB,MAAd,GAAuB,CAA3B,EAA6B;AAC5B;AACA,QAAI,KAAK4jB,QAAL,IAAiB,KAAKA,QAAL,CAAc5jB,MAAd,GAAuB,CAA5C,EAA+C;AAC9C,SAAI6jB,SAAJ,EACCC,SADD;;AAGA,UAAK,IAAItjB,IAAI,KAAKojB,QAAL,CAAc5jB,MAAd,GAAuB,CAApC,EAAuCQ,KAAK,CAA5C,EAA+CA,GAA/C,EAAoD;AACnDqjB,kBAAY,KAAKD,QAAL,CAAcpjB,CAAd,EAAiBujB,MAAjB,IAA2B,KAAKH,QAAL,CAAcpjB,CAAd,EAAiBwjB,IAA5C,IAAoD,KAAKJ,QAAL,CAAcpjB,CAAd,EAAiByjB,QAAjF;AACAH,kBAAYjM,QAAQgM,SAAR,EAAmBP,cAAc,CAAd,CAAnB,CAAZ;AACA,UAAIQ,cAAc,CAAC,CAAnB,EAAqB;AACpB;AACA;AACD;AACD,SAAII,gBAAgB,EAApB;AAAA,SACCC,gBAAgB,EADjB;AAAA,SAECC,iBAAkB,UAASnH,KAAT,EAAgB;;AAEjC;AACA,UAAIyG,WAAW,EAAf;AAAA,UACCW,cADD;AAAA,UAECC,aAAa,EAFd;AAAA,UAGCC,aAAa,EAHd;AAAA,UAICC,IAJD;AAAA,UAKCC,IALD;AAAA,UAMCC,IAND;AAAA,UAOCC,IAPD;AAQA9Q,cAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA4B,UAASgB,OAAT,EAAiB;AAC5CP,wBAAiBO,QAAQb,MAAR,IAAkBa,QAAQZ,IAA1B,IAAkCY,QAAQX,QAA3D;AACA,WAAII,eAAeP,SAAf,KAA6BO,eAAeP,SAAf,EAA0Be,QAA1B,EAAjC,EAAsE;AACrEnB,iBAAShiB,IAAT,CAAc2iB,eAAeP,SAAf,CAAd;AACA;AACD,OALD;;AAOAjQ,cAAQpU,IAAR,CAAaikB,QAAb,EAAuB,UAASxkB,OAAT,EAAkB;AACxColB,kBAAW5iB,IAAX,CAAgBxC,QAAQzD,CAAxB;AACA8oB,kBAAW7iB,IAAX,CAAgBxC,QAAQqF,CAAxB;;AAGA;AACA2f,qBAAcxiB,IAAd,CAAmBmS,QAAQ4I,QAAR,CAAiB,KAAKvK,OAAL,CAAaqE,oBAA9B,EAAoDrX,OAApD,CAAnB;AACAilB,qBAAcziB,IAAd,CAAmB;AAClBojB,cAAM5lB,QAAQ6lB,MAAR,CAAeC,SAAf,IAA4B9lB,QAAQ8lB,SADxB;AAElBC,gBAAQ/lB,QAAQ6lB,MAAR,CAAeG,WAAf,IAA8BhmB,QAAQgmB;AAF5B,QAAnB;AAKA,OAZD,EAYG,IAZH;;AAcAP,aAAO7f,IAAIyf,UAAJ,CAAP;AACAE,aAAO1f,IAAIwf,UAAJ,CAAP;;AAEAG,aAAO5f,IAAIwf,UAAJ,CAAP;AACAE,aAAOzf,IAAIuf,UAAJ,CAAP;;AAEA,aAAO;AACN7oB,UAAIipB,OAAO,KAAKrR,KAAL,CAAWM,KAAX,GAAiB,CAAzB,GAA8B+Q,IAA9B,GAAqCF,IADlC;AAENjgB,UAAG,CAACogB,OAAOF,IAAR,IAAc;AAFX,OAAP;AAIA,MA1CgB,CA0CdhkB,IA1Cc,CA0CT,IA1CS,EA0CHqjB,SA1CG,CAFlB;;AA8CA,SAAI3Q,MAAMgS,YAAV,CAAuB;AACtB1pB,SAAG2oB,eAAe3oB,CADI;AAEtB8I,SAAG6f,eAAe7f,CAFI;AAGtB6gB,gBAAU,KAAKlT,OAAL,CAAagE,eAHD;AAItBmP,gBAAU,KAAKnT,OAAL,CAAa+D,eAJD;AAKtBqP,eAAS,KAAKpT,OAAL,CAAamE,cALA;AAMtB2O,iBAAW,KAAK9S,OAAL,CAAaqD,gBANF;AAOtBgQ,iBAAW,KAAKrT,OAAL,CAAayD,gBAPF;AAQtBsL,kBAAY,KAAK/O,OAAL,CAAasD,iBARH;AAStBwL,iBAAW,KAAK9O,OAAL,CAAawD,gBATF;AAUtBlG,gBAAU,KAAK0C,OAAL,CAAauD,eAVD;AAWtB+P,sBAAgB,KAAKtT,OAAL,CAAa6D,qBAXP;AAYtB0P,uBAAiB,KAAKvT,OAAL,CAAa0D,sBAZR;AAatB8P,sBAAgB,KAAKxT,OAAL,CAAa4D,qBAbP;AActB6P,qBAAe,KAAKzT,OAAL,CAAa2D,oBAdN;AAetB+P,oBAAc,KAAK1T,OAAL,CAAakE,mBAfL;AAgBtByP,cAAQ3B,aAhBc;AAiBtB4B,oBAAc3B,aAjBQ;AAkBtB4B,6BAAwB,KAAK7T,OAAL,CAAasE,yBAlBf;AAmBtBwP,aAAOvJ,SAAS,KAAKvK,OAAL,CAAa8D,oBAAtB,EAA2CsN,cAAc,CAAd,CAA3C,CAnBe;AAoBtBjQ,aAAO,KAAKA,KApBU;AAqBtBE,WAAK,KAAKF,KAAL,CAAWE,GArBM;AAsBtB0S,cAAQ,KAAK/T,OAAL,CAAamD;AAtBC,MAAvB,EAuBGyN,IAvBH;AAyBA,KAlFD,MAkFO;AACNrjB,UAAK6jB,aAAL,EAAoB,UAAS4C,OAAT,EAAkB;AACrC,UAAIC,kBAAkBD,QAAQC,eAAR,EAAtB;AACA,UAAIhT,MAAMiT,OAAV,CAAkB;AACjB3qB,UAAGkB,KAAKwH,KAAL,CAAWgiB,gBAAgB1qB,CAA3B,CADc;AAEjB8I,UAAG5H,KAAKwH,KAAL,CAAWgiB,gBAAgB5hB,CAA3B,CAFc;AAGjB6gB,iBAAU,KAAKlT,OAAL,CAAagE,eAHN;AAIjBmP,iBAAU,KAAKnT,OAAL,CAAa+D,eAJN;AAKjB+O,kBAAW,KAAK9S,OAAL,CAAaqD,gBALP;AAMjBgQ,kBAAW,KAAKrT,OAAL,CAAayD,gBANP;AAOjBsL,mBAAY,KAAK/O,OAAL,CAAasD,iBAPR;AAQjBwL,kBAAW,KAAK9O,OAAL,CAAawD,gBARP;AASjBlG,iBAAU,KAAK0C,OAAL,CAAauD,eATN;AAUjB4Q,oBAAa,KAAKnU,OAAL,CAAaiE,gBAVT;AAWjByP,qBAAc,KAAK1T,OAAL,CAAakE,mBAXV;AAYjBkQ,aAAM7J,SAAS,KAAKvK,OAAL,CAAaoE,eAAtB,EAAuC4P,OAAvC,CAZW;AAajB7S,cAAO,KAAKA,KAbK;AAcjB4S,eAAQ,KAAK/T,OAAL,CAAamD;AAdJ,OAAlB,EAeGyN,IAfH;AAgBA,MAlBD,EAkBG,IAlBH;AAmBA;AACD;AACD,UAAO,IAAP;AACA,GA3N0B;AA4N3ByD,iBAAgB,yBAAU;AACzB,UAAO,KAAKlT,KAAL,CAAWC,MAAX,CAAkBkT,SAAlB,CAA4BxlB,KAA5B,CAAkC,KAAKqS,KAAL,CAAWC,MAA7C,EAAqDjS,SAArD,CAAP;AACA;AA9N0B,EAA5B;;AAiOA8R,OAAM8O,IAAN,CAAW3mB,MAAX,GAAoB,UAASkd,UAAT,EAAoB;;AAEvC,MAAIC,SAAS,IAAb;;AAEA,MAAIgO,YAAY,SAAZA,SAAY,GAAU;AACzB,UAAOhO,OAAOzX,KAAP,CAAa,IAAb,EAAkBK,SAAlB,CAAP;AACA,GAFD;;AAIA;AACAolB,YAAU1lB,SAAV,GAAsBoW,MAAMsB,OAAO1X,SAAb,CAAtB;AACA;AACAzF,SAAOmrB,UAAU1lB,SAAjB,EAA4ByX,UAA5B;;AAEAiO,YAAUnrB,MAAV,GAAmB6X,MAAM8O,IAAN,CAAW3mB,MAA9B;;AAEA,MAAIkd,WAAWkO,IAAX,IAAmBjO,OAAO1X,SAAP,CAAiB2lB,IAAxC,EAA6C;;AAE5C,OAAIC,YAAYnO,WAAWkO,IAAX,IAAmBjO,OAAO1X,SAAP,CAAiB2lB,IAApD;AACA;;AAEA;AACA;AACA;;AAEA,OAAIE,eAAgBzT,MAAM5N,QAAN,CAAekT,OAAO1X,SAAP,CAAiB2lB,IAAhC,CAAD,GAA0CvP,MAAMhE,MAAM5N,QAAN,CAAekT,OAAO1X,SAAP,CAAiB2lB,IAAhC,CAAN,CAA1C,GAAyF,EAA5G;;AAEAvT,SAAM5N,QAAN,CAAeohB,SAAf,IAA4BrrB,OAAOsrB,YAAP,EAAoBpO,WAAWjT,QAA/B,CAA5B;;AAEA4N,SAAM0D,KAAN,CAAY8P,SAAZ,IAAyBF,SAAzB;;AAEA;AACAtT,SAAMpS,SAAN,CAAgB4lB,SAAhB,IAA6B,UAAS1lB,IAAT,EAAciR,OAAd,EAAsB;AAClD,QAAI2U,SAASnP,MAAMvE,MAAM5N,QAAN,CAAewO,MAArB,EAA6BZ,MAAM5N,QAAN,CAAeohB,SAAf,CAA7B,EAAwDzU,WAAW,EAAnE,CAAb;AACA,WAAO,IAAIuU,SAAJ,CAAcxlB,IAAd,EAAmB4lB,MAAnB,EAA0B,IAA1B,CAAP;AACA,IAHD;AAIA,GApBD,MAoBM;AACL7N,QAAK,gEAAL;AACA;AACD,SAAOP,MAAP;AACA,EAvCD;;AAyCAtF,OAAM+S,OAAN,GAAgB,UAASY,aAAT,EAAuB;AACtCxrB,SAAO,IAAP,EAAYwrB,aAAZ;AACA,OAAK3E,UAAL,CAAgBnhB,KAAhB,CAAsB,IAAtB,EAA2BK,SAA3B;AACA,OAAK0lB,IAAL;AACA,EAJD;AAKAzrB,QAAO6X,MAAM+S,OAAN,CAAcnlB,SAArB,EAA+B;AAC9BohB,cAAa,sBAAU,CAAE,CADK;AAE9B6E,WAAU,iBAASC,KAAT,EAAe;AACxB,OAAI,CAACA,KAAL,EAAW;AACV3rB,WAAO,IAAP,EAAY,KAAKypB,MAAjB;AACA,IAFD,MAEO;AACNtlB,SAAKwnB,KAAL,EAAW,UAAS1P,GAAT,EAAa;AACvB,UAAKA,GAAL,IAAY,KAAKwN,MAAL,CAAYxN,GAAZ,CAAZ;AACA,KAFD,EAEE,IAFF;AAGA;AACD,UAAO,IAAP;AACA,GAX6B;AAY9BwP,QAAO,gBAAU;AAChB,QAAKhC,MAAL,GAAc5N,MAAM,IAAN,CAAd;AACA,UAAO,KAAK4N,MAAL,CAAYA,MAAnB;AACA,UAAO,IAAP;AACA,GAhB6B;AAiB9BmC,UAAS,gBAASC,QAAT,EAAkB;AAC1B1nB,QAAK0nB,QAAL,EAAc,UAAS7P,KAAT,EAAeC,GAAf,EAAmB;AAChC,SAAKwN,MAAL,CAAYxN,GAAZ,IAAmB,KAAKA,GAAL,CAAnB;AACA,SAAKA,GAAL,IAAYD,KAAZ;AACA,IAHD,EAGE,IAHF;AAIA,UAAO,IAAP;AACA,GAvB6B;AAwB9B8P,cAAa,oBAASH,KAAT,EAAeI,IAAf,EAAoB;AAChC5nB,QAAKwnB,KAAL,EAAW,UAAS3P,KAAT,EAAeC,GAAf,EAAmB;AAC7B,SAAKA,GAAL,IAAa,CAACD,QAAQ,KAAKyN,MAAL,CAAYxN,GAAZ,CAAT,IAA6B8P,IAA9B,GAAsC,KAAKtC,MAAL,CAAYxN,GAAZ,CAAlD;AACA,IAFD,EAEE,IAFF;AAGA,UAAO,IAAP;AACA,GA7B6B;AA8B9B4O,mBAAkB,2BAAU;AAC3B,UAAO;AACN1qB,OAAI,KAAKA,CADH;AAEN8I,OAAI,KAAKA;AAFH,IAAP;AAIA,GAnC6B;AAoC9BsgB,YAAU,oBAAU;AACnB,UAAO3L,SAAS,KAAK5B,KAAd,CAAP;AACA;AAtC6B,EAA/B;;AAyCAnE,OAAM+S,OAAN,CAAc5qB,MAAd,GAAuBid,QAAvB;;AAGApF,OAAMmU,KAAN,GAAcnU,MAAM+S,OAAN,CAAc5qB,MAAd,CAAqB;AAClCqK,WAAS,IADyB;AAElC4hB,WAAS,iBAASC,MAAT,EAAgBC,MAAhB,EAAuB;AAC/B,OAAIC,oBAAoB,KAAKC,kBAAL,GAA0B,KAAKjG,MAAvD;AACA,UAAS/kB,KAAKO,GAAL,CAASsqB,SAAO,KAAK/rB,CAArB,EAAwB,CAAxB,IAA2BkB,KAAKO,GAAL,CAASuqB,SAAO,KAAKljB,CAArB,EAAwB,CAAxB,CAA5B,GAA0D5H,KAAKO,GAAL,CAASwqB,iBAAT,EAA2B,CAA3B,CAAlE;AACA,GALiC;AAMlC5E,QAAO,gBAAU;AAChB,OAAI,KAAKnd,OAAT,EAAiB;AAChB,QAAI4N,MAAM,KAAKA,GAAf;AACAA,QAAIoO,SAAJ;;AAEApO,QAAIqU,GAAJ,CAAQ,KAAKnsB,CAAb,EAAgB,KAAK8I,CAArB,EAAwB,KAAKmd,MAA7B,EAAqC,CAArC,EAAwC/kB,KAAKE,EAAL,GAAQ,CAAhD;AACA0W,QAAIwO,SAAJ;;AAEAxO,QAAIsU,WAAJ,GAAkB,KAAK3C,WAAvB;AACA3R,QAAIuU,SAAJ,GAAgB,KAAKC,WAArB;;AAEAxU,QAAIyU,SAAJ,GAAgB,KAAKhD,SAArB;;AAEAzR,QAAIuR,IAAJ;AACAvR,QAAI0R,MAAJ;AACA;;AAGD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAIA;AAhDiC,EAArB,CAAd;;AAmDA9R,OAAM8U,GAAN,GAAY9U,MAAM+S,OAAN,CAAc5qB,MAAd,CAAqB;AAChCisB,WAAU,iBAASC,MAAT,EAAgBC,MAAhB,EAAuB;;AAEhC,OAAIS,wBAAwBrU,QAAQiG,iBAAR,CAA0B,IAA1B,EAAgC;AAC3Dre,OAAG+rB,MADwD;AAE3DjjB,OAAGkjB;AAFwD,IAAhC,CAA5B;;AAKA;AACA,OAAIU,qBAAqBD,sBAAsB9N,KAAtB,IAA+Bzd,KAAKE,EAAL,GAAU,CAAzC,CAAzB;AAAA,OACIurB,aAAa,CAACzrB,KAAKE,EAAL,GAAU,CAAV,GAAc,KAAKurB,UAApB,KAAmCzrB,KAAKE,EAAL,GAAU,CAA7C,CADjB;AAAA,OAEIwrB,WAAW,CAAC1rB,KAAKE,EAAL,GAAU,CAAV,GAAc,KAAKwrB,QAApB,KAAiC1rB,KAAKE,EAAL,GAAU,CAA3C,KAAiD,GAFhE;;AAIA;AACA,OAAIyrB,gBAAiBD,WAAWD,UAAZ,GACnBD,sBAAsBE,QAAtB,IAAkCF,sBAAsBC,UADrC,GAEnBD,sBAAsBC,UAAtB,IAAoCD,sBAAsBE,QAF3D;;AAIA;AACA,OAAIE,eAAgBL,sBAAsB5N,QAAtB,IAAkC,KAAKkO,WAAvC,IAAsDN,sBAAsB5N,QAAtB,IAAkC,KAAKmO,WAAjH;;AAEA,UAAQH,iBAAiBC,YAAzB;AACA;AACA,GAvB+B;AAwBhCpC,mBAAkB,2BAAU;AAC3B,OAAIuC,cAAc,KAAKN,UAAL,GAAmB,CAAC,KAAKC,QAAL,GAAgB,KAAKD,UAAtB,IAAoC,CAAzE;AAAA,OACCO,kBAAkB,CAAC,KAAKF,WAAL,GAAmB,KAAKD,WAAzB,IAAwC,CAAxC,GAA4C,KAAKA,WADpE;AAEA,UAAO;AACN/sB,OAAI,KAAKA,CAAL,GAAUkB,KAAKC,GAAL,CAAS8rB,WAAT,IAAwBC,eADhC;AAENpkB,OAAI,KAAKA,CAAL,GAAU5H,KAAKI,GAAL,CAAS2rB,WAAT,IAAwBC;AAFhC,IAAP;AAIA,GA/B+B;AAgChC7F,QAAO,cAAS8F,gBAAT,EAA0B;;AAEhC,OAAIC,gBAAgBD,oBAAoB,CAAxC;;AAEA,OAAIrV,MAAM,KAAKA,GAAf;;AAEAA,OAAIoO,SAAJ;;AAEApO,OAAIqU,GAAJ,CAAQ,KAAKnsB,CAAb,EAAgB,KAAK8I,CAArB,EAAwB,KAAKkkB,WAAL,GAAmB,CAAnB,GAAuB,CAAvB,GAA2B,KAAKA,WAAxD,EAAqE,KAAKL,UAA1E,EAAsF,KAAKC,QAA3F;;AAES9U,OAAIqU,GAAJ,CAAQ,KAAKnsB,CAAb,EAAgB,KAAK8I,CAArB,EAAwB,KAAKikB,WAAL,GAAmB,CAAnB,GAAuB,CAAvB,GAA2B,KAAKA,WAAxD,EAAqE,KAAKH,QAA1E,EAAoF,KAAKD,UAAzF,EAAqG,IAArG;;AAET7U,OAAIwO,SAAJ;AACAxO,OAAIsU,WAAJ,GAAkB,KAAK3C,WAAvB;AACA3R,OAAIuU,SAAJ,GAAgB,KAAKC,WAArB;;AAEAxU,OAAIyU,SAAJ,GAAgB,KAAKhD,SAArB;;AAEAzR,OAAIuR,IAAJ;AACAvR,OAAIuV,QAAJ,GAAe,OAAf;;AAEA,OAAI,KAAKC,UAAT,EAAoB;AACnBxV,QAAI0R,MAAJ;AACA;AACD;AAxD+B,EAArB,CAAZ;;AA2DA9R,OAAM6V,SAAN,GAAkB7V,MAAM+S,OAAN,CAAc5qB,MAAd,CAAqB;AACtCwnB,QAAO,gBAAU;AAChB,OAAIvP,MAAM,KAAKA,GAAf;AAAA,OACC0V,YAAY,KAAKtV,KAAL,GAAW,CADxB;AAAA,OAECuV,QAAQ,KAAKztB,CAAL,GAASwtB,SAFlB;AAAA,OAGCE,SAAS,KAAK1tB,CAAL,GAASwtB,SAHnB;AAAA,OAIChnB,MAAM,KAAKuV,IAAL,IAAa,KAAKA,IAAL,GAAY,KAAKjT,CAA9B,CAJP;AAAA,OAKC6kB,aAAa,KAAKrB,WAAL,GAAmB,CALjC;;AAOA;AACA;AACA,OAAI,KAAKgB,UAAT,EAAoB;AACnBG,aAASE,UAAT;AACAD,cAAUC,UAAV;AACAnnB,WAAOmnB,UAAP;AACA;;AAED7V,OAAIoO,SAAJ;;AAEApO,OAAIyU,SAAJ,GAAgB,KAAKhD,SAArB;AACAzR,OAAIsU,WAAJ,GAAkB,KAAK3C,WAAvB;AACA3R,OAAIuU,SAAJ,GAAgB,KAAKC,WAArB;;AAEA;AACA;AACAxU,OAAIqO,MAAJ,CAAWsH,KAAX,EAAkB,KAAK1R,IAAvB;AACAjE,OAAIsO,MAAJ,CAAWqH,KAAX,EAAkBjnB,GAAlB;AACAsR,OAAIsO,MAAJ,CAAWsH,MAAX,EAAmBlnB,GAAnB;AACAsR,OAAIsO,MAAJ,CAAWsH,MAAX,EAAmB,KAAK3R,IAAxB;AACAjE,OAAIuR,IAAJ;AACA,OAAI,KAAKiE,UAAT,EAAoB;AACnBxV,QAAI0R,MAAJ;AACA;AACD,GAjCqC;AAkCtCrS,UAAS,kBAAU;AAClB,UAAO,KAAK4E,IAAL,GAAY,KAAKjT,CAAxB;AACA,GApCqC;AAqCtCgjB,WAAU,iBAASC,MAAT,EAAgBC,MAAhB,EAAuB;AAChC,UAAQD,UAAU,KAAK/rB,CAAL,GAAS,KAAKkY,KAAL,GAAW,CAA9B,IAAmC6T,UAAU,KAAK/rB,CAAL,GAAS,KAAKkY,KAAL,GAAW,CAAlE,IAAyE8T,UAAU,KAAKljB,CAAf,IAAoBkjB,UAAU,KAAKjQ,IAAnH;AACA;AAvCqC,EAArB,CAAlB;;AA0CArE,OAAMwP,SAAN,GAAkBxP,MAAM+S,OAAN,CAAc5qB,MAAd,CAAqB;AACtC4iB,eAAa,IADyB,EACnB;AACnB0E,YAAU,EAF4B,EAExB;AACdvnB,UAAQ,EAH8B,EAG1B;AACZqnB,UAAQ,IAJ8B,EAIxB;;AAEd/L,uBAAqB,IANiB,EAMX;AAC3BC,uBAAqB,IAPiB,EAArB,CAAlB;;AAUAzD,OAAMiT,OAAN,GAAgBjT,MAAM+S,OAAN,CAAc5qB,MAAd,CAAqB;AACpCwnB,QAAO,gBAAU;;AAEhB,OAAIvP,MAAM,KAAKF,KAAL,CAAWE,GAArB;;AAEAA,OAAI4N,IAAJ,GAAWL,WAAW,KAAKtR,QAAhB,EAAyB,KAAKwR,SAA9B,EAAwC,KAAKC,UAA7C,CAAX;;AAEA,QAAKoI,MAAL,GAAc,QAAd;AACA,QAAKC,MAAL,GAAc,OAAd;;AAEA;AACA,OAAIC,eAAe,KAAKA,YAAL,GAAoB,CAAvC;;AAEA,OAAIC,eAAejW,IAAIiO,WAAJ,CAAgB,KAAK8E,IAArB,EAA2B3S,KAA3B,GAAmC,IAAE,KAAKyR,QAA7D;AAAA,OACCqE,oBAAoB,KAAKja,QAAL,GAAgB,IAAE,KAAK6V,QAD5C;AAAA,OAECqE,gBAAgBD,oBAAoB,KAAKpD,WAAzB,GAAuCkD,YAFxD;;AAIA,OAAI,KAAK9tB,CAAL,GAAS+tB,eAAa,CAAtB,GAAyB,KAAKnW,KAAL,CAAWM,KAAxC,EAA8C;AAC7C,SAAK0V,MAAL,GAAc,MAAd;AACA,IAFD,MAEO,IAAI,KAAK5tB,CAAL,GAAS+tB,eAAa,CAAtB,GAA0B,CAA9B,EAAgC;AACtC,SAAKH,MAAL,GAAc,OAAd;AACA;;AAED,OAAI,KAAK9kB,CAAL,GAASmlB,aAAT,GAAyB,CAA7B,EAA+B;AAC9B,SAAKJ,MAAL,GAAc,OAAd;AACA;;AAGD,OAAIK,WAAW,KAAKluB,CAAL,GAAS+tB,eAAa,CAArC;AAAA,OACCI,WAAW,KAAKrlB,CAAL,GAASmlB,aADrB;;AAGAnW,OAAIyU,SAAJ,GAAgB,KAAKhD,SAArB;;AAEA;AACA,OAAG,KAAKiB,MAAR,EAAe;AACd,SAAKA,MAAL,CAAY,IAAZ;AACA,IAFD,MAGI;AACH,YAAO,KAAKqD,MAAZ;AAEA,UAAK,OAAL;AACC;AACA/V,UAAIoO,SAAJ;AACApO,UAAIqO,MAAJ,CAAW,KAAKnmB,CAAhB,EAAkB,KAAK8I,CAAL,GAASglB,YAA3B;AACAhW,UAAIsO,MAAJ,CAAW,KAAKpmB,CAAL,GAAS,KAAK4qB,WAAzB,EAAsC,KAAK9hB,CAAL,IAAUglB,eAAe,KAAKlD,WAA9B,CAAtC;AACA9S,UAAIsO,MAAJ,CAAW,KAAKpmB,CAAL,GAAS,KAAK4qB,WAAzB,EAAsC,KAAK9hB,CAAL,IAAUglB,eAAe,KAAKlD,WAA9B,CAAtC;AACA9S,UAAIwO,SAAJ;AACAxO,UAAIuR,IAAJ;AACA;AACD,UAAK,OAAL;AACC8E,iBAAW,KAAKrlB,CAAL,GAASglB,YAAT,GAAwB,KAAKlD,WAAxC;AACA;AACA9S,UAAIoO,SAAJ;AACApO,UAAIqO,MAAJ,CAAW,KAAKnmB,CAAhB,EAAmB,KAAK8I,CAAL,GAASglB,YAA5B;AACAhW,UAAIsO,MAAJ,CAAW,KAAKpmB,CAAL,GAAS,KAAK4qB,WAAzB,EAAsC,KAAK9hB,CAAL,GAASglB,YAAT,GAAwB,KAAKlD,WAAnE;AACA9S,UAAIsO,MAAJ,CAAW,KAAKpmB,CAAL,GAAS,KAAK4qB,WAAzB,EAAsC,KAAK9hB,CAAL,GAASglB,YAAT,GAAwB,KAAKlD,WAAnE;AACA9S,UAAIwO,SAAJ;AACAxO,UAAIuR,IAAJ;AACA;AApBD;;AAuBA,YAAO,KAAKuE,MAAZ;AAEA,UAAK,MAAL;AACCM,iBAAW,KAAKluB,CAAL,GAAS+tB,YAAT,IAAyB,KAAK5D,YAAL,GAAoB,KAAKS,WAAlD,CAAX;AACA;AACD,UAAK,OAAL;AACCsD,iBAAW,KAAKluB,CAAL,IAAU,KAAKmqB,YAAL,GAAoB,KAAKS,WAAnC,CAAX;AACA;AAPD;;AAUA5E,yBAAqBlO,GAArB,EAAyBoW,QAAzB,EAAkCC,QAAlC,EAA2CJ,YAA3C,EAAwDC,iBAAxD,EAA0E,KAAK7D,YAA/E;;AAEArS,QAAIuR,IAAJ;;AAEAvR,QAAIyU,SAAJ,GAAgB,KAAKzC,SAArB;AACAhS,QAAIsW,SAAJ,GAAgB,QAAhB;AACAtW,QAAIuW,YAAJ,GAAmB,QAAnB;AACAvW,QAAIwW,QAAJ,CAAa,KAAKzD,IAAlB,EAAwBqD,WAAWH,eAAa,CAAhD,EAAmDI,WAAWH,oBAAkB,CAAhF;AACA;AACD;AAhFmC,EAArB,CAAhB;;AAmFAtW,OAAMgS,YAAN,GAAqBhS,MAAM+S,OAAN,CAAc5qB,MAAd,CAAqB;AACzC6mB,cAAa,sBAAU;AACtB,QAAKhB,IAAL,GAAYL,WAAW,KAAKtR,QAAhB,EAAyB,KAAKwR,SAA9B,EAAwC,KAAKC,UAA7C,CAAZ;;AAEA,QAAK+I,SAAL,GAAiBlJ,WAAW,KAAK6E,aAAhB,EAA8B,KAAKD,cAAnC,EAAkD,KAAKD,eAAvD,CAAjB;;AAEA,QAAKwE,WAAL,GAAmB,KAAKjE,KAAL,GAAa,KAAKL,aAAL,GAAqB,GAAlC,GAAwC,CAA3D;AACA,QAAK/S,MAAL,GAAe,KAAKiT,MAAL,CAAY7lB,MAAZ,GAAqB,KAAKwP,QAA3B,GAAwC,CAAC,KAAKqW,MAAL,CAAY7lB,MAAZ,GAAmB,CAApB,KAA0B,KAAKwP,QAAL,GAAc,CAAxC,CAAxC,GAAuF,KAAK6V,QAAL,GAAc,CAArG,GAA0G,KAAK4E,WAA7H;;AAEA,QAAK1W,GAAL,CAAS4N,IAAT,GAAgB,KAAK6I,SAArB;;AAEA,OAAIE,aAAa,KAAK3W,GAAL,CAASiO,WAAT,CAAqB,KAAKwE,KAA1B,EAAiCrS,KAAlD;;AACC;AACAwW,gBAAajJ,YAAY,KAAK3N,GAAjB,EAAqB,KAAK4N,IAA1B,EAA+B,KAAK0E,MAApC,IAA8C,KAAKrW,QAAnD,GAA8D,CAF5E;AAAA,OAGC4a,mBAAmBrlB,IAAI,CAAColB,UAAD,EAAYD,UAAZ,CAAJ,CAHpB;;AAKA,QAAKvW,KAAL,GAAayW,mBAAoB,KAAKhF,QAAL,GAAc,CAA/C;;AAGA,OAAIiF,aAAa,KAAKzX,MAAL,GAAY,CAA7B;;AAEA;AACA,OAAI,KAAKrO,CAAL,GAAS8lB,UAAT,GAAsB,CAA1B,EAA6B;AAC5B,SAAK9lB,CAAL,GAAS8lB,UAAT;AACA,IAFD,MAEO,IAAI,KAAK9lB,CAAL,GAAS8lB,UAAT,GAAsB,KAAKhX,KAAL,CAAWT,MAArC,EAA4C;AAClD,SAAKrO,CAAL,GAAS,KAAK8O,KAAL,CAAWT,MAAX,GAAoByX,UAA7B;AACA;;AAED;AACA,OAAI,KAAK5uB,CAAL,GAAS,KAAK4X,KAAL,CAAWM,KAAX,GAAiB,CAA9B,EAAgC;AAC/B,SAAKlY,CAAL,IAAU,KAAK6pB,OAAL,GAAe,KAAK3R,KAA9B;AACA,IAFD,MAEO;AACN,SAAKlY,CAAL,IAAU,KAAK6pB,OAAf;AACA;AAGD,GApCwC;AAqCzCgF,iBAAgB,uBAASrN,KAAT,EAAe;AAC9B,OAAIsN,iBAAiB,KAAKhmB,CAAL,GAAU,KAAKqO,MAAL,GAAY,CAAtB,GAA2B,KAAKyS,QAArD;AAAA,OACCmF,kBAAkBvN,QAAM,CADzB;;AAGA;AACA,OAAIA,UAAU,CAAd,EAAgB;AACf,WAAOsN,iBAAiB,KAAKN,WAAL,GAAmB,CAA3C;AACA,IAFD,MAEM;AACL,WAAOM,kBAAmB,KAAK/a,QAAL,GAAgB,GAAhB,GAAsBgb,eAAvB,GAA0C,KAAKhb,QAAL,GAAgB,CAA5E,IAAiF,KAAKya,WAA7F;AACA;AAED,GAhDwC;AAiDzCnH,QAAO,gBAAU;AAChB;AACA,OAAG,KAAKmD,MAAR,EAAe;AACd,SAAKA,MAAL,CAAY,IAAZ;AACA,IAFD,MAGI;AACHxE,yBAAqB,KAAKlO,GAA1B,EAA8B,KAAK9X,CAAnC,EAAqC,KAAK8I,CAAL,GAAS,KAAKqO,MAAL,GAAY,CAA1D,EAA4D,KAAKe,KAAjE,EAAuE,KAAKf,MAA5E,EAAmF,KAAKgT,YAAxF;AACA,QAAIrS,MAAM,KAAKA,GAAf;AACAA,QAAIyU,SAAJ,GAAgB,KAAKhD,SAArB;AACAzR,QAAIuR,IAAJ;AACAvR,QAAIwO,SAAJ;;AAEAxO,QAAIsW,SAAJ,GAAgB,MAAhB;AACAtW,QAAIuW,YAAJ,GAAmB,QAAnB;AACAvW,QAAIyU,SAAJ,GAAgB,KAAKxC,cAArB;AACAjS,QAAI4N,IAAJ,GAAW,KAAK6I,SAAhB;;AAEAzW,QAAIwW,QAAJ,CAAa,KAAK/D,KAAlB,EAAwB,KAAKvqB,CAAL,GAAS,KAAK2pB,QAAtC,EAAgD,KAAKkF,aAAL,CAAmB,CAAnB,CAAhD;;AAEA/W,QAAI4N,IAAJ,GAAW,KAAKA,IAAhB;AACAtN,YAAQpU,IAAR,CAAa,KAAKomB,MAAlB,EAAyB,UAAS4E,KAAT,EAAexN,KAAf,EAAqB;AAC7C1J,SAAIyU,SAAJ,GAAgB,KAAKzC,SAArB;AACAhS,SAAIwW,QAAJ,CAAaU,KAAb,EAAmB,KAAKhvB,CAAL,GAAS,KAAK2pB,QAAd,GAAyB,KAAK5V,QAA9B,GAAyC,CAA5D,EAA+D,KAAK8a,aAAL,CAAmBrN,QAAQ,CAA3B,CAA/D;;AAEA;AACA;AACA;;AAEA1J,SAAIyU,SAAJ,GAAgB,KAAKjC,qBAArB;AACAxS,SAAImX,QAAJ,CAAa,KAAKjvB,CAAL,GAAS,KAAK2pB,QAA3B,EAAqC,KAAKkF,aAAL,CAAmBrN,QAAQ,CAA3B,IAAgC,KAAKzN,QAAL,GAAc,CAAnF,EAAsF,KAAKA,QAA3F,EAAqG,KAAKA,QAA1G;;AAEA+D,SAAIyU,SAAJ,GAAgB,KAAKlC,YAAL,CAAkB7I,KAAlB,EAAyB6H,IAAzC;AACAvR,SAAImX,QAAJ,CAAa,KAAKjvB,CAAL,GAAS,KAAK2pB,QAA3B,EAAqC,KAAKkF,aAAL,CAAmBrN,QAAQ,CAA3B,IAAgC,KAAKzN,QAAL,GAAc,CAAnF,EAAsF,KAAKA,QAA3F,EAAqG,KAAKA,QAA1G;AAGA,KAfD,EAeE,IAfF;AAgBA;AACD;AAtFwC,EAArB,CAArB;;AAyFA2D,OAAMwX,KAAN,GAAcxX,MAAM+S,OAAN,CAAc5qB,MAAd,CAAqB;AAClC6mB,cAAa,sBAAU;AACtB,QAAKyI,GAAL;AACA,GAHiC;AAIlCC,gBAAe,wBAAU;AACxB,QAAKC,OAAL,GAAe,EAAf;;AAEA,OAAIC,oBAAoBvR,iBAAiB,KAAK8C,SAAtB,CAAxB;;AAEA,QAAK,IAAI9b,IAAE,CAAX,EAAcA,KAAG,KAAKgc,KAAtB,EAA6Bhc,GAA7B,EAAiC;AAChC,SAAKsqB,OAAL,CAAappB,IAAb,CAAkB+a,SAAS,KAAKC,cAAd,EAA6B,EAACpF,OAAM,CAAC,KAAKxS,GAAL,GAAYtE,IAAI,KAAK8b,SAAtB,EAAkC0O,OAAlC,CAA0CD,iBAA1C,CAAP,EAA7B,CAAlB;AACA;AACD,QAAKE,WAAL,GAAoB,KAAKtlB,OAAL,IAAgB,KAAKulB,UAAtB,GAAoChK,YAAY,KAAK3N,GAAjB,EAAqB,KAAK4N,IAA1B,EAA+B,KAAK2J,OAApC,IAA+C,EAAnF,GAAwF,CAA3G;AACA,GAbiC;AAclCK,aAAY,mBAASV,KAAT,EAAe;AAC1B,QAAKW,OAAL,CAAa1pB,IAAb,CAAkB+oB,KAAlB;AACA,QAAKY,WAAL;AACA,QAAKT,GAAL;AACA,GAlBiC;AAmBlCU,gBAAe,wBAAU;AACxB,QAAKF,OAAL,CAAaxpB,KAAb;AACA,QAAKypB,WAAL;AACA,QAAKT,GAAL;AACA,GAvBiC;AAwBlC;AACAA,OAAK,eAAU;AACd;;AAEA;AACA,QAAKW,UAAL,GAAmB,KAAK5lB,OAAN,GAAiB,KAAK6J,QAAtB,GAAiC,CAAnD;AACA,QAAKgc,QAAL,GAAiB,KAAK7lB,OAAN,GAAiB,KAAKiN,MAAL,GAAe,KAAKpD,QAAL,GAAgB,GAA/B,GAAsC,CAAvD,GAA2D,KAAKoD,MAAhF,CALc,CAK0E;;AAExF;AACA,QAAK2Y,UAAL,IAAmB,KAAKrL,OAAxB;AACA,QAAKsL,QAAL,IAAiB,KAAKtL,OAAtB;;AAEA;AACA,OAAIuL,iBAAiB,KAAKD,QAA1B;;AAEA;AACA,OAAIE,eAAe,KAAKF,QAAL,GAAgB,KAAKD,UAAxC;AAAA,OACCI,iBADD;;AAGA;AACA;;;;;;;;;AASA,QAAKC,eAAL,CAAqBF,YAArB;;AAEA;AACA;AACA,QAAKb,YAAL;;AAEA,QAAKgB,uBAAL;;AAEA,UAAOH,eAAe,KAAKF,QAAL,GAAgB,KAAKD,UAA3C,EAAuD;AACtDG,mBAAe,KAAKF,QAAL,GAAgB,KAAKD,UAApC;AACAI,wBAAoB,KAAKV,WAAzB;;AAEA,SAAKW,eAAL,CAAqBF,YAArB;AACA,SAAKb,YAAL;;AAEA;AACA,QAAIc,oBAAoB,KAAKV,WAA7B,EAAyC;AACxC,UAAKO,QAAL,GAAgBC,cAAhB;AACA,UAAKI,uBAAL;AACA;AACD;AAED,GA3EiC;AA4ElCA,2BAA0B,mCAAU;AACnC;AACA;;AAEA,QAAKtY,GAAL,CAAS4N,IAAT,GAAgB,KAAKA,IAArB;;AAEA,OAAI2K,aAAa,KAAKvY,GAAL,CAASiO,WAAT,CAAqB,KAAK4J,OAAL,CAAa,CAAb,CAArB,EAAsCzX,KAAvD;AAAA,OACCoY,YAAY,KAAKxY,GAAL,CAASiO,WAAT,CAAqB,KAAK4J,OAAL,CAAa,KAAKA,OAAL,CAAaprB,MAAb,GAAsB,CAAnC,CAArB,EAA4D2T,KADzE;AAAA,OAECqY,YAFD;AAAA,OAGCC,WAHD;;AAMA,QAAKC,kBAAL,GAA0BH,YAAU,CAAV,GAAc,CAAxC;AACA,QAAKI,iBAAL,GAA0BL,aAAW,CAAX,GAAe,KAAKb,WAArB,GAAoCa,aAAW,CAA/C,GAAmD,KAAKb,WAAjF;;AAEA,QAAKmB,cAAL,GAAsB,CAAtB;AACA,OAAI,KAAKzmB,OAAT,EAAiB;AAChB,QAAI0mB,qBAAqBnL,YAAY,KAAK3N,GAAjB,EAAqB,KAAK4N,IAA1B,EAA+B,KAAKiK,OAApC,CAAzB;AAAA,QACCkB,WADD;AAAA,QAECC,iBAFD;AAGA,SAAKC,WAAL,GAAmBH,kBAAnB;AACA;AACA,QAAII,aAAa9vB,KAAKkC,KAAL,CAAW,KAAK6tB,UAAL,CAAgB,CAAhB,IAAqB,KAAKA,UAAL,CAAgB,CAAhB,CAAhC,IAAsD,CAAvE;;AAEA;AACA,WAAQ,KAAKF,WAAL,GAAmBC,UAAnB,IAAiC,KAAKL,cAAL,KAAwB,CAA1D,IAAiE,KAAKI,WAAL,GAAmBC,UAAnB,IAAiC,KAAKL,cAAL,IAAuB,EAAxD,IAA8D,KAAKA,cAAL,GAAsB,CAA5J,EAA+J;AAC9JE,mBAAc3vB,KAAKC,GAAL,CAAS+c,UAAU,KAAKyS,cAAf,CAAT,CAAd;;AAEAJ,oBAAeM,cAAcR,UAA7B;AACAG,mBAAcK,cAAcP,SAA5B;;AAEA;AACA,SAAIC,eAAe,KAAKxc,QAAL,GAAgB,CAA/B,GAAmC,KAAKyb,WAA5C,EAAwD;AACvD,WAAKkB,iBAAL,GAAyBH,eAAe,KAAKxc,QAAL,GAAgB,CAAxD;AACA;AACD,UAAK0c,kBAAL,GAA0B,KAAK1c,QAAL,GAAc,CAAxC;;AAGA,UAAK4c,cAAL;AACA,UAAKI,WAAL,GAAmBF,cAAcD,kBAAjC;AAEA;AACD,QAAI,KAAKD,cAAL,GAAsB,CAA1B,EAA4B;AAC3B,UAAKZ,QAAL,IAAiB7uB,KAAKI,GAAL,CAAS4c,UAAU,KAAKyS,cAAf,CAAT,IAAyCC,kBAAzC,GAA8D,CAA/E;AACA;AACD,IA7BD,MA8BI;AACH,SAAKG,WAAL,GAAmB,CAAnB;AACA,SAAKN,kBAAL,GAA0B,KAAKhM,OAA/B;AACA,SAAKiM,iBAAL,GAAyB,KAAKjM,OAA9B;AACA;AAED,GAhIiC;AAiIlC;AACA;AACA0L,mBAAiB/S,IAnIiB;AAoIlC8T,eAAa,uBAAU;AACtB,UAAO,KAAKpB,UAAL,GAAkB,KAAKC,QAA9B;AACA,GAtIiC;AAuIlCoB,cAAa,oBAAStV,KAAT,EAAe;AAC3B,OAAIuV,gBAAgB,KAAKF,WAAL,MAAsB,KAAK7nB,GAAL,GAAW,KAAKC,GAAtC,CAApB;AACA,UAAO,KAAKymB,QAAL,GAAiBqB,iBAAiBvV,QAAQ,KAAKxS,GAA9B,CAAxB;AACA,GA1IiC;AA2IlC4nB,cAAa,oBAASzP,KAAT,EAAe;AAC3B,OAAI6P,YAAa,KAAKV,cAAL,GAAsB,CAAvC;;AACC;AACA7b,gBAAa,KAAKoD,KAAL,IAAc,KAAKwY,iBAAL,GAAyB,KAAKD,kBAA5C,CAFd;AAAA,OAGCa,aAAaxc,aAAW5T,KAAKoI,GAAL,CAAU,KAAKsmB,WAAL,IAAqB,KAAK2B,eAAN,GAAyB,CAAzB,GAA6B,CAAjD,CAAV,EAAgE,CAAhE,CAHzB;AAAA,OAICC,cAAeF,aAAa9P,KAAd,GAAuB,KAAKkP,iBAJ3C;;AAMA,OAAI,KAAKa,eAAT,EAAyB;AACxBC,mBAAgBF,aAAW,CAA3B;AACA;;AAED,UAAOpwB,KAAKwH,KAAL,CAAW8oB,WAAX,CAAP;AACA,GAvJiC;AAwJlC/F,UAAS,gBAASC,QAAT,EAAkB;AAC1BtT,WAAQvY,MAAR,CAAe,IAAf,EAAqB6rB,QAArB;AACA,QAAKyD,GAAL;AACA,GA3JiC;AA4JlC9H,QAAO,gBAAU;AAChB,OAAIvP,MAAM,KAAKA,GAAf;AAAA,OACC2Z,YAAY,CAAC,KAAK1B,QAAL,GAAgB,KAAKD,UAAtB,IAAoC,KAAK/O,KADtD;AAAA,OAEC2Q,SAASxwB,KAAKwH,KAAL,CAAW,KAAKgoB,iBAAhB,CAFV;AAGA,OAAI,KAAKxmB,OAAT,EAAiB;AAChB4N,QAAIyU,SAAJ,GAAgB,KAAKzC,SAArB;AACAhS,QAAI4N,IAAJ,GAAW,KAAKA,IAAhB;AACA1hB,SAAK,KAAKqrB,OAAV,EAAkB,UAASsC,WAAT,EAAqBnQ,KAArB,EAA2B;AAC5C,SAAIoQ,eAAe,KAAK7B,QAAL,GAAiB0B,YAAYjQ,KAAhD;AAAA,SACCqQ,gBAAgB3wB,KAAKwH,KAAL,CAAWkpB,YAAX,CADjB;AAAA,SAECE,qBAAqB,KAAKC,mBAF3B;;AAIAja,SAAIsW,SAAJ,GAAgB,OAAhB;AACAtW,SAAIuW,YAAJ,GAAmB,QAAnB;AACA,SAAI,KAAKoB,UAAT,EAAoB;AACnB3X,UAAIwW,QAAJ,CAAaqD,WAAb,EAAyBD,SAAS,EAAlC,EAAqCE,YAArC;AACA;;AAED;AACA,SAAIpQ,UAAU,CAAV,IAAe,CAACsQ,kBAApB,EAAuC;AACtCA,2BAAqB,IAArB;AACA;;AAED,SAAIA,kBAAJ,EAAuB;AACtBha,UAAIoO,SAAJ;AACA;;AAED,SAAI1E,QAAQ,CAAZ,EAAc;AACb;AACA1J,UAAIuU,SAAJ,GAAgB,KAAK2F,aAArB;AACAla,UAAIsU,WAAJ,GAAkB,KAAK6F,aAAvB;AACA,MAJD,MAIO;AACN;AACAna,UAAIuU,SAAJ,GAAgB,KAAKA,SAArB;AACAvU,UAAIsU,WAAJ,GAAkB,KAAK8F,SAAvB;AACA;;AAEDL,sBAAiBzZ,QAAQ0G,UAAR,CAAmBhH,IAAIuU,SAAvB,CAAjB;;AAEA,SAAGyF,kBAAH,EAAsB;AACrBha,UAAIqO,MAAJ,CAAWuL,MAAX,EAAmBG,aAAnB;AACA/Z,UAAIsO,MAAJ,CAAW,KAAKlO,KAAhB,EAAuB2Z,aAAvB;AACA/Z,UAAI0R,MAAJ;AACA1R,UAAIwO,SAAJ;AACA;;AAEDxO,SAAIuU,SAAJ,GAAgB,KAAKA,SAArB;AACAvU,SAAIsU,WAAJ,GAAkB,KAAK8F,SAAvB;AACApa,SAAIoO,SAAJ;AACApO,SAAIqO,MAAJ,CAAWuL,SAAS,CAApB,EAAuBG,aAAvB;AACA/Z,SAAIsO,MAAJ,CAAWsL,MAAX,EAAmBG,aAAnB;AACA/Z,SAAI0R,MAAJ;AACA1R,SAAIwO,SAAJ;AAEA,KA/CD,EA+CE,IA/CF;;AAiDAtiB,SAAK,KAAK2rB,OAAV,EAAkB,UAASX,KAAT,EAAexN,KAAf,EAAqB;AACtC,SAAI2Q,OAAO,KAAKlB,UAAL,CAAgBzP,KAAhB,IAAyB1C,WAAW,KAAKuN,SAAhB,CAApC;;AACC;AACA+F,eAAU,KAAKnB,UAAL,CAAgBzP,SAAS,KAAK+P,eAAL,GAAuB,GAAvB,GAA6B,CAAtC,CAAhB,IAA4DzS,WAAW,KAAKuN,SAAhB,CAFvE;AAAA,SAGCgF,YAAa,KAAKV,cAAL,GAAsB,CAHpC;AAAA,SAIC0B,mBAAmB,KAAKC,iBAJzB;;AAMA;AACA,SAAI9Q,UAAU,CAAV,IAAe,CAAC6Q,gBAApB,EAAqC;AACpCA,yBAAmB,IAAnB;AACA;;AAED,SAAIA,gBAAJ,EAAqB;AACpBva,UAAIoO,SAAJ;AACA;;AAED,SAAI1E,QAAQ,CAAZ,EAAc;AACb;AACA1J,UAAIuU,SAAJ,GAAgB,KAAK2F,aAArB;AACAla,UAAIsU,WAAJ,GAAkB,KAAK6F,aAAvB;AACA,MAJD,MAIO;AACN;AACAna,UAAIuU,SAAJ,GAAgB,KAAKA,SAArB;AACAvU,UAAIsU,WAAJ,GAAkB,KAAK8F,SAAvB;AACA;;AAED,SAAIG,gBAAJ,EAAqB;AACpBva,UAAIqO,MAAJ,CAAWiM,OAAX,EAAmB,KAAKrC,QAAxB;AACAjY,UAAIsO,MAAJ,CAAWgM,OAAX,EAAmB,KAAKtC,UAAL,GAAkB,CAArC;AACAhY,UAAI0R,MAAJ;AACA1R,UAAIwO,SAAJ;AACA;;AAGDxO,SAAIuU,SAAJ,GAAgB,KAAKA,SAArB;AACAvU,SAAIsU,WAAJ,GAAkB,KAAK8F,SAAvB;;AAGA;AACApa,SAAIoO,SAAJ;AACApO,SAAIqO,MAAJ,CAAWiM,OAAX,EAAmB,KAAKrC,QAAxB;AACAjY,SAAIsO,MAAJ,CAAWgM,OAAX,EAAmB,KAAKrC,QAAL,GAAgB,CAAnC;AACAjY,SAAI0R,MAAJ;AACA1R,SAAIwO,SAAJ;;AAEAxO,SAAIwT,IAAJ;AACAxT,SAAItE,SAAJ,CAAc2e,IAAd,EAAoBd,SAAD,GAAc,KAAKtB,QAAL,GAAgB,EAA9B,GAAmC,KAAKA,QAAL,GAAgB,CAAtE;AACAjY,SAAIlE,MAAJ,CAAWsK,UAAU,KAAKyS,cAAf,IAA+B,CAAC,CAA3C;AACA7Y,SAAI4N,IAAJ,GAAW,KAAKA,IAAhB;AACA5N,SAAIsW,SAAJ,GAAiBiD,SAAD,GAAc,OAAd,GAAwB,QAAxC;AACAvZ,SAAIuW,YAAJ,GAAoBgD,SAAD,GAAc,QAAd,GAAyB,KAA5C;AACAvZ,SAAIwW,QAAJ,CAAaU,KAAb,EAAoB,CAApB,EAAuB,CAAvB;AACAlX,SAAIyT,OAAJ;AACA,KArDD,EAqDE,IArDF;AAuDA;AACD;;AA5QiC,EAArB,CAAd;;AAgRA7T,OAAM6a,WAAN,GAAoB7a,MAAM+S,OAAN,CAAc5qB,MAAd,CAAqB;AACxC6mB,cAAY,sBAAU;AACrB,QAAK8L,IAAL,GAAYnpB,IAAI,CAAC,KAAK8N,MAAN,EAAc,KAAKe,KAAnB,CAAJ,CAAZ;AACA,QAAKgZ,WAAL,GAAoB,KAAKhnB,OAAN,GAAkB,KAAKsoB,IAAL,GAAU,CAAX,IAAiB,KAAKze,QAAL,GAAc,CAAd,GAAkB,KAAK0e,gBAAxC,CAAjB,GAA8E,KAAKD,IAAL,GAAU,CAA3G;AACA,GAJuC;AAKxCE,yBAAuB,+BAAS7W,KAAT,EAAe;AACrC;AACA,OAAIuV,gBAAgB,KAAKF,WAAL,IAAoB,KAAK5nB,GAAL,GAAW,KAAKD,GAApC,CAApB;;AAEA,UAAO,CAACwS,QAAQ,KAAKxS,GAAd,IAAqB+nB,aAA5B;AACA,GAVuC;AAWxC3F,UAAS,kBAAU;AAClB,OAAI,CAAC,KAAKkH,OAAV,EAAkB;AACjB,SAAKC,YAAL;AACA,IAFD,MAEO;AACN,SAAK1B,WAAL,GAAoB,KAAKhnB,OAAN,GAAkB,KAAKsoB,IAAL,GAAU,CAAX,IAAiB,KAAKze,QAAL,GAAc,CAAd,GAAkB,KAAK0e,gBAAxC,CAAjB,GAA8E,KAAKD,IAAL,GAAU,CAA3G;AACA;AACD,QAAKpD,YAAL;AACA,GAlBuC;AAmBxCA,gBAAc,wBAAU;AACvB,QAAKC,OAAL,GAAe,EAAf;;AAEA,OAAIC,oBAAoBvR,iBAAiB,KAAK8C,SAAtB,CAAxB;;AAEA,QAAK,IAAI9b,IAAE,CAAX,EAAcA,KAAG,KAAKgc,KAAtB,EAA6Bhc,GAA7B,EAAiC;AAChC,SAAKsqB,OAAL,CAAappB,IAAb,CAAkB+a,SAAS,KAAKC,cAAd,EAA6B,EAACpF,OAAM,CAAC,KAAKxS,GAAL,GAAYtE,IAAI,KAAK8b,SAAtB,EAAkC0O,OAAlC,CAA0CD,iBAA1C,CAAP,EAA7B,CAAlB;AACA;AACD,GA3BuC;AA4BxCuD,oBAAmB,4BAAU;AAC5B,UAAS3xB,KAAKE,EAAL,GAAQ,CAAT,GAAc,KAAKwuB,WAA3B;AACA,GA9BuC;AA+BxCgD,gBAAc,wBAAU;AACvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA,OAAIE,wBAAwBzpB,IAAI,CAAE,KAAK8N,MAAL,GAAY,CAAZ,GAAgB,KAAK4b,kBAArB,GAA0C,CAA5C,EAAgD,KAAK7a,KAAL,GAAW,CAA3D,CAAJ,CAA5B;AAAA,OACC8a,aADD;AAAA,OAECjuB,CAFD;AAAA,OAGC+gB,SAHD;AAAA,OAICmN,aAJD;AAAA,OAKCC,gBAAgB,KAAKhb,KALtB;AAAA,OAMCib,kBAND;AAAA,OAOCC,kBAPD;AAAA,OAQCC,eAAe,CARhB;AAAA,OASCC,iBATD;AAAA,OAUCC,iBAVD;AAAA,OAWCC,eAXD;AAAA,OAYCC,gBAZD;AAAA,OAaCC,oBAbD;AAAA,OAcCC,mBAdD;AAAA,OAeCC,cAfD;AAgBA,QAAK9b,GAAL,CAAS4N,IAAT,GAAgBL,WAAW,KAAK0N,kBAAhB,EAAmC,KAAKc,mBAAxC,EAA4D,KAAKC,oBAAjE,CAAhB;AACA,QAAK/uB,IAAE,CAAP,EAASA,IAAE,KAAK6qB,WAAhB,EAA4B7qB,GAA5B,EAAgC;AAC/B;AACAiuB,oBAAgB,KAAKe,gBAAL,CAAsBhvB,CAAtB,EAAyB+tB,qBAAzB,CAAhB;AACAhN,gBAAY,KAAKhO,GAAL,CAASiO,WAAT,CAAqB/E,SAAS,KAAKC,cAAd,EAA8B,EAAEpF,OAAO,KAAKuO,MAAL,CAAYrlB,CAAZ,CAAT,EAA9B,CAArB,EAA+EmT,KAA/E,GAAuF,CAAnG;AACA,QAAInT,MAAM,CAAN,IAAWA,MAAM,KAAK6qB,WAAL,GAAiB,CAAtC,EAAwC;AACvC;AACA;AACA;AACAqD,qBAAgBnN,YAAU,CAA1B;AACA,SAAIkN,cAAchzB,CAAd,GAAkBizB,aAAlB,GAAkCC,aAAtC,EAAqD;AACpDA,sBAAgBF,cAAchzB,CAAd,GAAkBizB,aAAlC;AACAE,2BAAqBpuB,CAArB;AACA;AACD,SAAIiuB,cAAchzB,CAAd,GAAkBizB,aAAlB,GAAkCI,YAAtC,EAAoD;AACnDA,qBAAeL,cAAchzB,CAAd,GAAkBizB,aAAjC;AACAK,0BAAoBvuB,CAApB;AACA;AACD,KAbD,MAcK,IAAIA,IAAI,KAAK6qB,WAAL,GAAiB,CAAzB,EAA4B;AAChC;AACA,SAAIoD,cAAchzB,CAAd,GAAkB8lB,SAAlB,GAA8BoN,aAAlC,EAAiD;AAChDA,sBAAgBF,cAAchzB,CAAd,GAAkB8lB,SAAlC;AACAqN,2BAAqBpuB,CAArB;AACA;AACD,KANI,MAOA,IAAIA,IAAI,KAAK6qB,WAAL,GAAiB,CAAzB,EAA2B;AAC/B;AACA,SAAIoD,cAAchzB,CAAd,GAAkB8lB,SAAlB,GAA8BuN,YAAlC,EAAgD;AAC/CA,qBAAeL,cAAchzB,CAAd,GAAkB8lB,SAAjC;AACAwN,0BAAoBvuB,CAApB;AACA;AACD;AACD;;AAEDyuB,qBAAkBH,YAAlB;;AAEAI,sBAAmBvyB,KAAKwf,IAAL,CAAUwS,gBAAgB,KAAKhb,KAA/B,CAAnB;;AAEAkb,wBAAqB,KAAKY,aAAL,CAAmBb,kBAAnB,CAArB;;AAEAI,uBAAoB,KAAKS,aAAL,CAAmBV,iBAAnB,CAApB;;AAEAI,0BAAuBD,mBAAmBvyB,KAAKI,GAAL,CAAS8xB,qBAAqBlyB,KAAKE,EAAL,GAAQ,CAAtC,CAA1C;;AAEAuyB,yBAAsBH,kBAAkBtyB,KAAKI,GAAL,CAASiyB,oBAAoBryB,KAAKE,EAAL,GAAQ,CAArC,CAAxC;;AAEA;AACAsyB,0BAAwBjW,SAASiW,oBAAT,CAAD,GAAmCA,oBAAnC,GAA0D,CAAjF;AACAC,yBAAuBlW,SAASkW,mBAAT,CAAD,GAAkCA,mBAAlC,GAAwD,CAA9E;;AAEA,QAAKzC,WAAL,GAAmB4B,wBAAwB,CAACa,sBAAsBD,oBAAvB,IAA6C,CAAxF;;AAEA;AACA,QAAKO,cAAL,CAAoBN,mBAApB,EAAyCD,oBAAzC;AAEA,GAvIuC;AAwIxCO,kBAAgB,wBAASC,YAAT,EAAuBC,aAAvB,EAAqC;;AAEpD,OAAIC,WAAW,KAAKlc,KAAL,GAAaic,aAAb,GAA6B,KAAKjD,WAAjD;AAAA,OACCmD,UAAUH,eAAe,KAAKhD,WAD/B;;AAGA,QAAKoD,OAAL,GAAe,CAACD,UAAUD,QAAX,IAAqB,CAApC;AACA;AACA,QAAKG,OAAL,GAAgB,KAAKpd,MAAL,GAAY,CAA5B;AACA,GAhJuC;;AAkJxC6c,iBAAgB,uBAASxS,KAAT,EAAe;AAC9B,OAAIgT,kBAAmBtzB,KAAKE,EAAL,GAAU,CAAX,GAAgB,KAAKwuB,WAA3C;AACA;;AAEA,UAAOpO,QAAQgT,eAAR,GAA2BtzB,KAAKE,EAAL,GAAQ,CAA1C;AACA,GAvJuC;AAwJxC2yB,oBAAmB,0BAASvS,KAAT,EAAgBiT,kBAAhB,EAAmC;AACrD,OAAIC,YAAY,KAAKV,aAAL,CAAmBxS,KAAnB,CAAhB;AACA,UAAO;AACNxhB,OAAKkB,KAAKC,GAAL,CAASuzB,SAAT,IAAsBD,kBAAvB,GAA6C,KAAKH,OADhD;AAENxrB,OAAK5H,KAAKI,GAAL,CAASozB,SAAT,IAAsBD,kBAAvB,GAA6C,KAAKF;AAFhD,IAAP;AAIA,GA9JuC;AA+JxClN,QAAM,gBAAU;AACf,OAAI,KAAKnd,OAAT,EAAiB;AAChB,QAAI4N,MAAM,KAAKA,GAAf;AACA9T,SAAK,KAAKqrB,OAAV,EAAmB,UAASL,KAAT,EAAgBxN,KAAhB,EAAsB;AACxC;AACA,SAAIA,QAAQ,CAAZ,EAAc;AACb,UAAImT,gBAAgBnT,SAAS,KAAK0P,WAAL,GAAiB,KAAKnQ,KAA/B,CAApB;AAAA,UACC6T,UAAU,KAAKL,OAAL,GAAeI,aAD1B;AAAA,UAEC3B,aAFD;;AAIA;AACA,UAAI,KAAK3G,SAAL,GAAiB,CAArB,EAAuB;AACtBvU,WAAIsU,WAAJ,GAAkB,KAAK8F,SAAvB;AACApa,WAAIuU,SAAJ,GAAgB,KAAKA,SAArB;;AAEA,WAAG,KAAKsG,OAAR,EAAgB;AACf7a,YAAIoO,SAAJ;AACApO,YAAIqU,GAAJ,CAAQ,KAAKmI,OAAb,EAAsB,KAAKC,OAA3B,EAAoCI,aAApC,EAAmD,CAAnD,EAAsDzzB,KAAKE,EAAL,GAAQ,CAA9D;AACA0W,YAAIwO,SAAJ;AACAxO,YAAI0R,MAAJ;AACA,QALD,MAKM;AACL1R,YAAIoO,SAAJ;AACA,aAAK,IAAInhB,IAAE,CAAX,EAAaA,IAAE,KAAK6qB,WAApB,EAAgC7qB,GAAhC,EACA;AACCiuB,yBAAgB,KAAKe,gBAAL,CAAsBhvB,CAAtB,EAAyB,KAAK2tB,qBAAL,CAA2B,KAAKrpB,GAAL,GAAYmY,QAAQ,KAAKX,SAApD,CAAzB,CAAhB;AACA,aAAI9b,MAAM,CAAV,EAAY;AACX+S,cAAIqO,MAAJ,CAAW6M,cAAchzB,CAAzB,EAA4BgzB,cAAclqB,CAA1C;AACA,UAFD,MAEO;AACNgP,cAAIsO,MAAJ,CAAW4M,cAAchzB,CAAzB,EAA4BgzB,cAAclqB,CAA1C;AACA;AACD;AACDgP,YAAIwO,SAAJ;AACAxO,YAAI0R,MAAJ;AACA;AACD;AACD,UAAG,KAAKiG,UAAR,EAAmB;AAClB3X,WAAI4N,IAAJ,GAAWL,WAAW,KAAKtR,QAAhB,EAAyB,KAAKwR,SAA9B,EAAwC,KAAKC,UAA7C,CAAX;AACA,WAAI,KAAKqP,iBAAT,EAA2B;AAC1B,YAAInG,aAAa5W,IAAIiO,WAAJ,CAAgBiJ,KAAhB,EAAuB9W,KAAxC;AACAJ,YAAIyU,SAAJ,GAAgB,KAAKuI,aAArB;AACAhd,YAAImX,QAAJ,CACC,KAAKqF,OAAL,GAAe5F,aAAW,CAA1B,GAA8B,KAAKqG,gBADpC,EAECH,UAAU,KAAK7gB,QAAL,GAAc,CAAxB,GAA4B,KAAK0e,gBAFlC,EAGC/D,aAAa,KAAKqG,gBAAL,GAAsB,CAHpC,EAIC,KAAKhhB,QAAL,GAAgB,KAAK0e,gBAAL,GAAsB,CAJvC;AAMA;AACD3a,WAAIsW,SAAJ,GAAgB,QAAhB;AACAtW,WAAIuW,YAAJ,GAAmB,QAAnB;AACAvW,WAAIyU,SAAJ,GAAgB,KAAKyI,SAArB;AACAld,WAAIwW,QAAJ,CAAaU,KAAb,EAAoB,KAAKsF,OAAzB,EAAkCM,OAAlC;AACA;AACD;AACD,KAlDD,EAkDG,IAlDH;;AAoDA,QAAI,CAAC,KAAKjC,OAAV,EAAkB;AACjB7a,SAAIuU,SAAJ,GAAgB,KAAK4I,cAArB;AACAnd,SAAIsU,WAAJ,GAAkB,KAAK8I,cAAvB;AACA,UAAK,IAAInwB,IAAI,KAAK6qB,WAAL,GAAmB,CAAhC,EAAmC7qB,KAAK,CAAxC,EAA2CA,GAA3C,EAAgD;AAC/C,UAAIowB,eAAe,IAAnB;AAAA,UAAyBC,gBAAgB,IAAzC;;AAEA,UAAI,KAAKH,cAAL,GAAsB,CAA1B,EAA4B;AAC3BE,sBAAe,KAAKzC,qBAAL,CAA2B,KAAKppB,GAAhC,CAAf;AACA8rB,uBAAgB,KAAKrB,gBAAL,CAAsBhvB,CAAtB,EAAyBowB,YAAzB,CAAhB;AACArd,WAAIoO,SAAJ;AACApO,WAAIqO,MAAJ,CAAW,KAAKmO,OAAhB,EAAyB,KAAKC,OAA9B;AACAzc,WAAIsO,MAAJ,CAAWgP,cAAcp1B,CAAzB,EAA4Bo1B,cAActsB,CAA1C;AACAgP,WAAI0R,MAAJ;AACA1R,WAAIwO,SAAJ;AACA;;AAED,UAAI,KAAK+O,gBAAL,IAAyB,KAAKA,gBAAL,CAAsB9wB,MAAtB,IAAgC,KAAKqrB,WAAlE,EAA+E;AAC9E,WAAIuF,gBAAgB,IAApB,EACCA,eAAe,KAAKzC,qBAAL,CAA2B,KAAKppB,GAAhC,CAAf;;AAED,WAAI8rB,iBAAiB,IAArB,EACCA,gBAAgB,KAAKrB,gBAAL,CAAsBhvB,CAAtB,EAAyBowB,YAAzB,CAAhB;;AAED,WAAIG,wBAAwB,KAAKvB,gBAAL,CAAsBhvB,MAAM,CAAN,GAAU,KAAK6qB,WAAL,GAAmB,CAA7B,GAAiC7qB,IAAI,CAA3D,EAA8DowB,YAA9D,CAA5B;AACA,WAAII,oBAAoB,KAAKxB,gBAAL,CAAsBhvB,MAAM,KAAK6qB,WAAL,GAAmB,CAAzB,GAA6B,CAA7B,GAAiC7qB,IAAI,CAA3D,EAA8DowB,YAA9D,CAAxB;;AAEA,WAAIK,uBAAuB,EAAEx1B,GAAG,CAACs1B,sBAAsBt1B,CAAtB,GAA0Bo1B,cAAcp1B,CAAzC,IAA8C,CAAnD,EAAsD8I,GAAG,CAACwsB,sBAAsBxsB,CAAtB,GAA0BssB,cAActsB,CAAzC,IAA8C,CAAvG,EAA3B;AACA,WAAI2sB,mBAAmB,EAAEz1B,GAAG,CAACo1B,cAAcp1B,CAAd,GAAkBu1B,kBAAkBv1B,CAArC,IAA0C,CAA/C,EAAkD8I,GAAG,CAACssB,cAActsB,CAAd,GAAkBysB,kBAAkBzsB,CAArC,IAA0C,CAA/F,EAAvB;;AAEAgP,WAAIoO,SAAJ;AACApO,WAAIqO,MAAJ,CAAW,KAAKmO,OAAhB,EAAyB,KAAKC,OAA9B;AACAzc,WAAIsO,MAAJ,CAAWoP,qBAAqBx1B,CAAhC,EAAmCw1B,qBAAqB1sB,CAAxD;AACAgP,WAAIsO,MAAJ,CAAWgP,cAAcp1B,CAAzB,EAA4Bo1B,cAActsB,CAA1C;AACAgP,WAAIsO,MAAJ,CAAWqP,iBAAiBz1B,CAA5B,EAA+By1B,iBAAiB3sB,CAAhD;AACAgP,WAAIyU,SAAJ,GAAgB,KAAK8I,gBAAL,CAAsBtwB,CAAtB,CAAhB;AACA+S,WAAIuR,IAAJ;AACAvR,WAAIwO,SAAJ;AACA;AACD;AACA,UAAIoP,qBAAqB,KAAK3B,gBAAL,CAAsBhvB,CAAtB,EAAyB,KAAK2tB,qBAAL,CAA2B,KAAKppB,GAAhC,IAAuC,CAAhE,CAAzB;AACAwO,UAAI4N,IAAJ,GAAWL,WAAW,KAAK0N,kBAAhB,EAAmC,KAAKc,mBAAxC,EAA4D,KAAKC,oBAAjE,CAAX;AACAhc,UAAIyU,SAAJ,GAAgB,KAAKoJ,mBAArB;;AAEA,UAAIC,cAAc,KAAKxL,MAAL,CAAY7lB,MAA9B;AAAA,UACCsxB,kBAAkB,KAAKzL,MAAL,CAAY7lB,MAAZ,GAAmB,CADtC;AAAA,UAECuxB,qBAAqBD,kBAAgB,CAFtC;AAAA,UAGCE,YAAahxB,IAAI+wB,kBAAJ,IAA0B/wB,IAAI6wB,cAAcE,kBAH1D;AAAA,UAICE,eAAgBjxB,MAAM+wB,kBAAN,IAA4B/wB,MAAM6wB,cAAcE,kBAJjE;AAKA,UAAI/wB,MAAM,CAAV,EAAY;AACX+S,WAAIsW,SAAJ,GAAgB,QAAhB;AACA,OAFD,MAEO,IAAGrpB,MAAM8wB,eAAT,EAAyB;AAC/B/d,WAAIsW,SAAJ,GAAgB,QAAhB;AACA,OAFM,MAEA,IAAIrpB,IAAI8wB,eAAR,EAAwB;AAC9B/d,WAAIsW,SAAJ,GAAgB,MAAhB;AACA,OAFM,MAEA;AACNtW,WAAIsW,SAAJ,GAAgB,OAAhB;AACA;;AAED;AACA,UAAI4H,YAAJ,EAAiB;AAChBle,WAAIuW,YAAJ,GAAmB,QAAnB;AACA,OAFD,MAEO,IAAI0H,SAAJ,EAAc;AACpBje,WAAIuW,YAAJ,GAAmB,QAAnB;AACA,OAFM,MAEA;AACNvW,WAAIuW,YAAJ,GAAmB,KAAnB;AACA;;AAEDvW,UAAIwW,QAAJ,CAAa,KAAKlE,MAAL,CAAYrlB,CAAZ,CAAb,EAA6B2wB,mBAAmB11B,CAAhD,EAAmD01B,mBAAmB5sB,CAAtE;AACA;AACD;AACD;AACD;AA7RuC,EAArB,CAApB;;AAgSA4O,OAAMkP,gBAAN,GAAyB;AACxBqP,iBAAe,EADS;AAExBC,cAAY,EAFY;AAGxBC,cAAY,CAHY;AAIxB7O,gBAAc,sBAAS9E,aAAT,EAAwB4E,eAAxB,EAAyC;AACtD,QAAK,IAAI5F,QAAQ,CAAjB,EAAoBA,QAAQ,KAAK0U,UAAL,CAAgB3xB,MAA5C,EAAoD,EAAGid,KAAvD,EAA6D;AAC5D,QAAI,KAAK0U,UAAL,CAAgB1U,KAAhB,EAAuBgB,aAAvB,KAAyCA,aAA7C,EAA2D;AAC1D;AACA,UAAK0T,UAAL,CAAgB1U,KAAhB,EAAuB4F,eAAvB,GAAyCA,eAAzC;AACA;AACA;AACD;;AAED,QAAK8O,UAAL,CAAgBjwB,IAAhB,CAAqB;AACpBuc,mBAAeA,aADK;AAEpB4E,qBAAiBA;AAFG,IAArB;;AAKA;AACA,OAAI,KAAK8O,UAAL,CAAgB3xB,MAAhB,IAA0B,CAA9B,EAAiC;AAChC6T,YAAQsJ,gBAAR,CAAyB1c,IAAzB,CAA8BjC,MAA9B,EAAsC,KAAKqzB,aAA3C;AACA;AACD,GAtBuB;AAuBxB;AACAvP,mBAAiB,yBAASrE,aAAT,EAAwB;AACxC,OAAIhB,QAAQpJ,QAAQsE,aAAR,CAAsB,KAAKwZ,UAA3B,EAAuC,UAASG,gBAAT,EAA2B;AAC7E,WAAOA,iBAAiB7T,aAAjB,KAAmCA,aAA1C;AACA,IAFW,CAAZ;;AAIA,OAAIhB,KAAJ,EACA;AACC,SAAK0U,UAAL,CAAgBI,MAAhB,CAAuB9U,KAAvB,EAA8B,CAA9B;AACA;AACD,GAjCuB;AAkCxB;AACA4U,iBAAe,yBAAW;AACzB1e,SAAMkP,gBAAN,CAAuB2P,WAAvB,CAAmCvxB,IAAnC,CAAwC0S,MAAMkP,gBAA9C;AACA,GArCuB;AAsCxB2P,eAAa,uBAAW;;AAEvB,OAAIC,YAAY5uB,KAAK6uB,GAAL,EAAhB;AACA,OAAIC,eAAe,CAAnB;;AAEA,OAAG,KAAKP,UAAL,GAAkB,CAArB,EAAuB;AACtBO,mBAAex1B,KAAKkC,KAAL,CAAW,KAAK+yB,UAAhB,CAAf;AACA,SAAKA,UAAL,IAAmBO,YAAnB;AACA;;AAED,QAAK,IAAI3xB,IAAI,CAAb,EAAgBA,IAAI,KAAKmxB,UAAL,CAAgB3xB,MAApC,EAA4CQ,GAA5C,EAAiD;;AAEhD,QAAI,KAAKmxB,UAAL,CAAgBnxB,CAAhB,EAAmBqiB,eAAnB,CAAmC3E,WAAnC,KAAmD,IAAvD,EAA4D;AAC3D,UAAKyT,UAAL,CAAgBnxB,CAAhB,EAAmBqiB,eAAnB,CAAmC3E,WAAnC,GAAiD,CAAjD;AACA;;AAED,SAAKyT,UAAL,CAAgBnxB,CAAhB,EAAmBqiB,eAAnB,CAAmC3E,WAAnC,IAAkD,IAAIiU,YAAtD;AACA,QAAG,KAAKR,UAAL,CAAgBnxB,CAAhB,EAAmBqiB,eAAnB,CAAmC3E,WAAnC,GAAiD,KAAKyT,UAAL,CAAgBnxB,CAAhB,EAAmBqiB,eAAnB,CAAmCD,QAAvF,EAAgG;AAC/F,UAAK+O,UAAL,CAAgBnxB,CAAhB,EAAmBqiB,eAAnB,CAAmC3E,WAAnC,GAAiD,KAAKyT,UAAL,CAAgBnxB,CAAhB,EAAmBqiB,eAAnB,CAAmCD,QAApF;AACA;;AAED,SAAK+O,UAAL,CAAgBnxB,CAAhB,EAAmBqiB,eAAnB,CAAmCH,MAAnC,CAA0C,KAAKiP,UAAL,CAAgBnxB,CAAhB,EAAmByd,aAA7D,EAA4E,KAAK0T,UAAL,CAAgBnxB,CAAhB,EAAmBqiB,eAA/F;;AAEA;AACA,QAAI,KAAK8O,UAAL,CAAgBnxB,CAAhB,EAAmBqiB,eAAnB,CAAmC3E,WAAnC,IAAkD,KAAKyT,UAAL,CAAgBnxB,CAAhB,EAAmBqiB,eAAnB,CAAmCD,QAAzF,EAAkG;AACjG;AACA,UAAK+O,UAAL,CAAgBnxB,CAAhB,EAAmBqiB,eAAnB,CAAmCjM,mBAAnC,CAAuDnW,IAAvD,CAA4D,KAAKkxB,UAAL,CAAgBnxB,CAAhB,EAAmByd,aAA/E;AACA;AACA,UAAK0T,UAAL,CAAgBI,MAAhB,CAAuBvxB,CAAvB,EAA0B,CAA1B;AACA;AACAA;AACA;AACD;;AAED,OAAI4xB,UAAU/uB,KAAK6uB,GAAL,EAAd;AACA,OAAIjqB,QAAQmqB,UAAUH,SAAV,GAAsB,KAAKP,aAAvC;AACA,OAAIW,aAAapqB,QAAQ,KAAKypB,aAA9B;;AAEA,OAAGW,aAAa,CAAhB,EAAkB;AACjB,SAAKT,UAAL,IAAmBS,UAAnB;AACA;;AAED;AACA,OAAI,KAAKV,UAAL,CAAgB3xB,MAAhB,GAAyB,CAA7B,EAA+B;AAC9B6T,YAAQsJ,gBAAR,CAAyB1c,IAAzB,CAA8BjC,MAA9B,EAAsC,KAAKqzB,aAA3C;AACA;AACD;AApFuB,EAAzB;;AAuFA;AACAhe,SAAQqL,QAAR,CAAiB1gB,MAAjB,EAAyB,QAAzB,EAAoC,YAAU;AAC7C;AACA,MAAI8zB,OAAJ;AACA,SAAO,YAAU;AAChBlgB,gBAAakgB,OAAb;AACAA,aAAUvqB,WAAW,YAAU;AAC9BtI,SAAK0T,MAAM6O,SAAX,EAAqB,UAASuQ,QAAT,EAAkB;AACtC;AACA;AACA,SAAIA,SAASrgB,OAAT,CAAiBgD,UAArB,EAAgC;AAC/Bqd,eAASrQ,MAAT,CAAgBqQ,SAAS7P,MAAzB,EAAiC,IAAjC;AACA;AACD,KAND;AAOA,IARS,EAQP,EARO,CAAV;AASA,GAXD;AAYA,EAfkC,EAAnC;;AAkBA,KAAI7e,GAAJ,EAAS;AACRD,SAAO,YAAU;AAChB,UAAOuP,KAAP;AACA,GAFD;AAGA,EAJD,MAIO,IAAI,QAAOzP,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8BA,OAAOC,OAAzC,EAAkD;AACxDD,SAAOC,OAAP,GAAiBwP,KAAjB;AACA;;AAEDF,MAAKE,KAAL,GAAaA,KAAb;;AAEAA,OAAMqf,UAAN,GAAmB,YAAU;AAC5Bvf,OAAKE,KAAL,GAAaD,QAAb;AACA,SAAOC,KAAP;AACA,EAHD;AAKA,CA9rED,EA8rEG1S,IA9rEH;;AAgsEA,CAAC,YAAU;AACV;;AAEA,KAAIwS,OAAO,IAAX;AAAA,KACCE,QAAQF,KAAKE,KADd;AAAA,KAECU,UAAUV,MAAMU,OAFjB;;AAKA,KAAI4e,gBAAgB;AACnB;AACA5d,oBAAmB,IAFA;;AAInB;AACA6d,sBAAqB,IALF;;AAOnB;AACAC,sBAAqB,iBARF;;AAUnB;AACAC,sBAAqB,CAXF;;AAanB;AACAC,4BAA0B,IAdP;;AAgBnB;AACAC,0BAAwB,IAjBL;;AAmBnB;AACAC,iBAAgB,IApBG;;AAsBnB;AACAC,kBAAiB,CAvBE;;AAyBnB;AACAC,mBAAkB,CA1BC;;AA4BnB;AACAC,qBAAoB,CA7BD;;AA+BnB;AACAjQ,kBAAiB;;AAhCE,EAApB;;AAqCA9P,OAAM8O,IAAN,CAAW3mB,MAAX,CAAkB;AACjBorB,QAAM,KADW;AAEjBnhB,YAAWktB,aAFM;AAGjBtQ,cAAa,oBAASlhB,IAAT,EAAc;;AAE1B;AACA,OAAIiR,UAAU,KAAKA,OAAnB;;AAEA,QAAKihB,UAAL,GAAkBhgB,MAAMwX,KAAN,CAAYrvB,MAAZ,CAAmB;AACpC0xB,qBAAkB,IADkB;AAEpCoG,mBAAgB,uBAASC,YAAT,EAAuBC,YAAvB,EAAqCC,QAArC,EAA8C;AAC7D;AACA,SAAIC,SAAS,KAAKC,kBAAL,EAAb;AAAA,SACCC,YAAY,KAAKhH,UAAL,CAAgB6G,QAAhB,IAA6BC,SAAO,CADjD;AAAA,SAECG,WAAW,KAAKC,iBAAL,CAAuBP,YAAvB,CAFZ;;AAIA,YAAOK,YAAaC,WAAWL,YAAxB,GAAyCA,eAAephB,QAAQghB,iBAAhE,GAAqFS,WAAS,CAArG;AACA,KATmC;AAUpCF,wBAAqB,8BAAU;AAC9B,YAAQ,KAAK/G,UAAL,CAAgB,CAAhB,IAAqB,KAAKA,UAAL,CAAgB,CAAhB,CAAtB,GAA6C,IAAExa,QAAQ+gB,eAA9D;AACA,KAZmC;AAapCW,uBAAoB,2BAASP,YAAT,EAAsB;AACzC;AACA,SAAIQ,YAAY,KAAKJ,kBAAL,KAA6B,CAACJ,eAAe,CAAhB,IAAqBnhB,QAAQghB,iBAA1E;;AAEA,YAAQW,YAAYR,YAApB;AACA;AAlBmC,IAAnB,CAAlB;;AAqBA,QAAKzP,QAAL,GAAgB,EAAhB;;AAEA;AACA,OAAI,KAAK1R,OAAL,CAAakD,YAAjB,EAA8B;AAC7BvB,YAAQ8L,UAAR,CAAmB,IAAnB,EAAyB,KAAKzN,OAAL,CAAaoD,aAAtC,EAAqD,UAASkJ,GAAT,EAAa;AACjE,SAAIsV,aAActV,IAAIte,IAAJ,KAAa,UAAd,GAA4B,KAAK6zB,cAAL,CAAoBvV,GAApB,CAA5B,GAAuD,EAAxE;;AAEA,UAAKwV,QAAL,CAAc,UAASC,GAAT,EAAa;AAC1BA,UAAIjN,OAAJ,CAAY,CAAC,WAAD,EAAc,aAAd,CAAZ;AACA,MAFD;AAGAnT,aAAQpU,IAAR,CAAaq0B,UAAb,EAAyB,UAASI,SAAT,EAAmB;AAC3CA,gBAAUlP,SAAV,GAAsBkP,UAAUC,aAAhC;AACAD,gBAAUhP,WAAV,GAAwBgP,UAAUE,eAAlC;AACA,MAHD;AAIA,UAAK/Q,WAAL,CAAiByQ,UAAjB;AACA,KAXD;AAYA;;AAED;AACA,QAAKO,QAAL,GAAgBlhB,MAAM6V,SAAN,CAAgB1tB,MAAhB,CAAuB;AACtCysB,iBAAc,KAAK7V,OAAL,CAAa8gB,cADW;AAEtCjK,gBAAa,KAAK7W,OAAL,CAAa6gB,aAFY;AAGtCxf,SAAM,KAAKF,KAAL,CAAWE;AAHqB,IAAvB,CAAhB;;AAMA;AACAM,WAAQpU,IAAR,CAAawB,KAAK2iB,QAAlB,EAA2B,UAASgB,OAAT,EAAiB0O,YAAjB,EAA8B;;AAExD,QAAIgB,gBAAgB;AACnB7J,YAAQ7F,QAAQ6F,KAAR,IAAiB,IADN;AAEnBzF,gBAAYJ,QAAQI,SAFD;AAGnBE,kBAAcN,QAAQM,WAHH;AAInBlB,WAAO;AAJY,KAApB;;AAOA,SAAKJ,QAAL,CAAcliB,IAAd,CAAmB4yB,aAAnB;;AAEAzgB,YAAQpU,IAAR,CAAamlB,QAAQ3jB,IAArB,EAA0B,UAASszB,SAAT,EAAmBtX,KAAnB,EAAyB;AAClD;AACAqX,mBAActQ,IAAd,CAAmBtiB,IAAnB,CAAwB,IAAI,KAAK2yB,QAAT,CAAkB;AACzC/c,aAAQid,SADiC;AAEzC9J,aAAQxpB,KAAK4kB,MAAL,CAAY5I,KAAZ,CAFiC;AAGzCuX,oBAAc5P,QAAQ6F,KAHmB;AAIzCvF,mBAAcN,QAAQM,WAJmB;AAKzCF,iBAAYJ,QAAQI,SALqB;AAMzCmP,qBAAgBvP,QAAQuP,aAAR,IAAyBvP,QAAQI,SANR;AAOzCoP,uBAAkBxP,QAAQwP,eAAR,IAA2BxP,QAAQM;AAPZ,MAAlB,CAAxB;AASA,KAXD,EAWE,IAXF;AAaA,IAxBD,EAwBE,IAxBF;;AA0BA,QAAKuP,UAAL,CAAgBxzB,KAAK4kB,MAArB;;AAEA,QAAKwO,QAAL,CAActzB,SAAd,CAAwByW,IAAxB,GAA+B,KAAKpI,KAAL,CAAWoc,QAA1C;;AAEA,QAAKwI,QAAL,CAAc,UAASC,GAAT,EAAchX,KAAd,EAAqBqW,YAArB,EAAkC;AAC/Czf,YAAQvY,MAAR,CAAe24B,GAAf,EAAoB;AACnBtgB,YAAQ,KAAKvE,KAAL,CAAWwkB,iBAAX,CAA6B,KAAKhQ,QAAL,CAAc5jB,MAA3C,CADW;AAEnBvE,QAAG,KAAK2T,KAAL,CAAWgkB,aAAX,CAAyB,KAAKxP,QAAL,CAAc5jB,MAAvC,EAA+CszB,YAA/C,EAA6DrW,KAA7D,CAFgB;AAGnB1Y,QAAG,KAAK6K,KAAL,CAAWoc;AAHK,KAApB;AAKAyI,QAAIlN,IAAJ;AACA,IAPD,EAOG,IAPH;;AASA,QAAKrE,MAAL;AACA,GA/FgB;AAgGjBwE,UAAS,kBAAU;AAClB,QAAK9X,KAAL,CAAW8X,MAAX;AACA;AACArT,WAAQpU,IAAR,CAAa,KAAK+jB,cAAlB,EAAkC,UAASkR,aAAT,EAAuB;AACxDA,kBAAc1N,OAAd,CAAsB,CAAC,WAAD,EAAc,aAAd,CAAtB;AACA,IAFD;;AAIA,QAAKgN,QAAL,CAAc,UAASC,GAAT,EAAa;AAC1BA,QAAIlN,IAAJ;AACA,IAFD;AAGA,QAAKrE,MAAL;AACA,GA3GgB;AA4GjBsR,YAAW,kBAASjd,QAAT,EAAkB;AAC5BlD,WAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA2B,UAASgB,OAAT,EAAkB0O,YAAlB,EAA+B;AACzDzf,YAAQpU,IAAR,CAAamlB,QAAQZ,IAArB,EAA2BjN,QAA3B,EAAqC,IAArC,EAA2Cuc,YAA3C;AACA,IAFD,EAEE,IAFF;AAGA,GAhHgB;AAiHjBS,kBAAiB,wBAASh0B,CAAT,EAAW;AAC3B,OAAI40B,YAAY,EAAhB;AAAA,OACCC,gBAAgB/gB,QAAQ0K,mBAAR,CAA4Bxe,CAA5B,CADjB;AAAA,OAEC80B,kBAAkB,SAAlBA,eAAkB,CAASjQ,OAAT,EAAiB;AAClC+P,cAAUjzB,IAAV,CAAekjB,QAAQZ,IAAR,CAAauP,QAAb,CAAf;AACA,IAJF;AAAA,OAKCA,QALD;;AAOA,QAAK,IAAID,eAAe,CAAxB,EAA2BA,eAAe,KAAK1P,QAAL,CAAc5jB,MAAxD,EAAgEszB,cAAhE,EAAgF;AAC/E,SAAKC,WAAW,CAAhB,EAAmBA,WAAW,KAAK3P,QAAL,CAAc0P,YAAd,EAA4BtP,IAA5B,CAAiChkB,MAA/D,EAAuEuzB,UAAvE,EAAmF;AAClF,SAAI,KAAK3P,QAAL,CAAc0P,YAAd,EAA4BtP,IAA5B,CAAiCuP,QAAjC,EAA2ChM,OAA3C,CAAmDqN,cAAcn5B,CAAjE,EAAmEm5B,cAAcrwB,CAAjF,CAAJ,EAAwF;AACvFsP,cAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA4BiR,eAA5B;AACA,aAAOF,SAAP;AACA;AACD;AACD;;AAED,UAAOA,SAAP;AACA,GAnIgB;AAoIjBF,cAAa,oBAAS5O,MAAT,EAAgB;AAC5B,OAAI7O,OAAO,IAAX;;AAEA,OAAI8d,YAAY,SAAZA,SAAY,GAAU;AACzB,QAAI/Y,SAAS,EAAb;AACA/E,SAAKgd,QAAL,CAAc,UAASC,GAAT,EAAa;AAC1BlY,YAAOra,IAAP,CAAYuyB,IAAI3c,KAAhB;AACA,KAFD;AAGA,WAAOyE,MAAP;AACA,IAND;;AAQA,OAAIgZ,eAAe;AAClBrY,oBAAiB,KAAKxK,OAAL,CAAayC,UADZ;AAElB/B,YAAS,KAAKS,KAAL,CAAWT,MAFF;AAGlBe,WAAQ,KAAKN,KAAL,CAAWM,KAHD;AAIlBJ,SAAM,KAAKF,KAAL,CAAWE,GAJC;AAKlBgS,eAAY,KAAKrT,OAAL,CAAa+C,cALP;AAMlBzF,cAAW,KAAK0C,OAAL,CAAa6C,aANN;AAOlBiM,eAAY,KAAK9O,OAAL,CAAa8C,cAPP;AAQlBiM,gBAAa,KAAK/O,OAAL,CAAa4C,eARR;AASlBuW,iBAAcxF,OAAO7lB,MATH;AAUlBg1B,iBAAc,KAAK9iB,OAAL,CAAa2C,gBAVT;AAWlB8G,kBAAe,KAAKzJ,OAAL,CAAa0C,iBAXV;AAYlBgX,qBAAiB,yBAASqJ,aAAT,EAAuB;AACvC,SAAIC,gBAAgBrhB,QAAQyH,mBAAR,CACnBwZ,WADmB,EAEnBG,aAFmB,EAGnB,KAAKzlB,QAHc,EAInB,KAAKwlB,WAJc,EAKnB,KAAKrZ,YALc,CAApB;AAOA9H,aAAQvY,MAAR,CAAe,IAAf,EAAqB45B,aAArB;AACA,KArBiB;AAsBlB9J,aAAUvF,MAtBQ;AAuBlB1E,UAAOtN,QAAQiN,UAAR,CAAmB,KAAK5O,OAAL,CAAa6C,aAAhC,EAA+C,KAAK7C,OAAL,CAAa8C,cAA5D,EAA4E,KAAK9C,OAAL,CAAa4C,eAAzF,CAvBW;AAwBlBgT,eAAY,KAAK5V,OAAL,CAAauC,cAxBP;AAyBlBkZ,eAAY,KAAKzb,OAAL,CAAasC,cAzBP;AA0BlBgZ,yBAAsB,KAAKtb,OAAL,CAAa2gB,wBA1BjB;AA2BlB9E,uBAAoB,KAAK7b,OAAL,CAAa4gB,sBA3Bf;AA4BlBrF,mBAAiB,KAAKvb,OAAL,CAAawgB,kBAAd,GAAoC,KAAKxgB,OAAL,CAAa0gB,kBAAjD,GAAsE,CA5BpE;AA6BlBlF,mBAAiB,KAAKxb,OAAL,CAAawgB,kBAAd,GAAoC,KAAKxgB,OAAL,CAAaygB,kBAAjD,GAAsE,eA7BpE;AA8BlBzS,aAAW,KAAKhO,OAAL,CAAaiC,SAAd,GAA2B,CAA3B,GAAgC,KAAKjC,OAAL,CAAa6gB,aAAd,GAA+B,KAAK7gB,OAAL,CAAa8gB,cAA5C,GAA6D,CA9BpF;AA+BlB9H,gBAAa,KAAKhZ,OAAL,CAAawC,eA/BR;AAgClB/O,aAAU,KAAKuM,OAAL,CAAaiC;AAhCL,IAAnB;;AAmCA,OAAI,KAAKjC,OAAL,CAAakC,aAAjB,EAA+B;AAC9BP,YAAQvY,MAAR,CAAey5B,YAAf,EAA6B;AAC5BnJ,sBAAiB/X,QAAQgF,IADG;AAE5B2D,YAAO,KAAKtK,OAAL,CAAamC,UAFQ;AAG5BiI,gBAAW,KAAKpK,OAAL,CAAaoC,cAHI;AAI5BxP,UAAK,KAAKoN,OAAL,CAAaqC,eAJU;AAK5BxP,UAAK,KAAKmN,OAAL,CAAaqC,eAAb,GAAgC,KAAKrC,OAAL,CAAamC,UAAb,GAA0B,KAAKnC,OAAL,CAAaoC;AALhD,KAA7B;AAOA;;AAED,QAAKlF,KAAL,GAAa,IAAI,KAAK+jB,UAAT,CAAoB4B,YAApB,CAAb;AACA,GA7LgB;AA8LjBI,WAAU,iBAAS5Z,WAAT,EAAqBkP,KAArB,EAA2B;AACpC;AACA5W,WAAQpU,IAAR,CAAa8b,WAAb,EAAyB,UAASjE,KAAT,EAAegc,YAAf,EAA4B;AACpD;AACA,SAAK1P,QAAL,CAAc0P,YAAd,EAA4BtP,IAA5B,CAAiCtiB,IAAjC,CAAsC,IAAI,KAAK2yB,QAAT,CAAkB;AACvD/c,YAAQA,KAD+C;AAEvDmT,YAAQA,KAF+C;AAGvD+J,mBAAc,KAAK5Q,QAAL,CAAc0P,YAAd,EAA4B7I,KAHa;AAIvDhvB,QAAG,KAAK2T,KAAL,CAAWgkB,aAAX,CAAyB,KAAKxP,QAAL,CAAc5jB,MAAvC,EAA+CszB,YAA/C,EAA6D,KAAKlkB,KAAL,CAAWic,WAAX,GAAuB,CAApF,CAJoD;AAKvD9mB,QAAG,KAAK6K,KAAL,CAAWoc,QALyC;AAMvD7X,YAAQ,KAAKvE,KAAL,CAAWwkB,iBAAX,CAA6B,KAAKhQ,QAAL,CAAc5jB,MAA3C,CAN+C;AAOvDwX,WAAO,KAAKpI,KAAL,CAAWoc,QAPqC;AAQvDtG,kBAAc,KAAKtB,QAAL,CAAc0P,YAAd,EAA4BpO,WARa;AASvDF,gBAAY,KAAKpB,QAAL,CAAc0P,YAAd,EAA4BtO;AATe,KAAlB,CAAtC;AAWA,IAbD,EAaE,IAbF;;AAeA,QAAK5V,KAAL,CAAW+b,SAAX,CAAqBV,KAArB;AACA;AACA,QAAKvD,MAAL;AACA,GAlNgB;AAmNjB9lB,cAAa,sBAAU;AACtB,QAAKgO,KAAL,CAAWkc,YAAX;AACA;AACAzX,WAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA2B,UAASgB,OAAT,EAAiB;AAC3CA,YAAQZ,IAAR,CAAapiB,KAAb;AACA,IAFD,EAEE,IAFF;AAGA,QAAKslB,MAAL;AACA,GA1NgB;AA2NjBzE,UAAS,kBAAU;AAClB5O,WAAQvY,MAAR,CAAe,KAAK+4B,QAAL,CAActzB,SAA7B,EAAuC;AACtCwD,OAAG,KAAK6K,KAAL,CAAWoc,QADwB;AAEtChU,UAAO,KAAKpI,KAAL,CAAWoc;AAFoB,IAAvC;AAIA,OAAI4J,gBAAgBvhB,QAAQvY,MAAR,CAAe;AAClCsX,YAAS,KAAKS,KAAL,CAAWT,MADc;AAElCe,WAAQ,KAAKN,KAAL,CAAWM;AAFe,IAAf,CAApB;AAIA,QAAKvE,KAAL,CAAW8X,MAAX,CAAkBkO,aAAlB;AACA,GArOgB;AAsOjBtS,QAAO,cAASuE,IAAT,EAAc;AACpB,OAAIwB,gBAAgBxB,QAAQ,CAA5B;AACA,QAAKzG,KAAL;;AAEA,OAAIrN,MAAM,KAAKF,KAAL,CAAWE,GAArB;;AAEA,QAAKnE,KAAL,CAAW0T,IAAX,CAAgB+F,aAAhB;;AAEA;AACAhV,WAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA2B,UAASgB,OAAT,EAAiB0O,YAAjB,EAA8B;AACxDzf,YAAQpU,IAAR,CAAamlB,QAAQZ,IAArB,EAA0B,UAASiQ,GAAT,EAAahX,KAAb,EAAmB;AAC5C,SAAIgX,IAAIpP,QAAJ,EAAJ,EAAmB;AAClBoP,UAAIzc,IAAJ,GAAW,KAAKpI,KAAL,CAAWoc,QAAtB;AACA;AACAyI,UAAI7M,UAAJ,CAAe;AACd3rB,UAAI,KAAK2T,KAAL,CAAWgkB,aAAX,CAAyB,KAAKxP,QAAL,CAAc5jB,MAAvC,EAA+CszB,YAA/C,EAA6DrW,KAA7D,CADU;AAEd1Y,UAAI,KAAK6K,KAAL,CAAWwd,UAAX,CAAsBqH,IAAI3c,KAA1B,CAFU;AAGd3D,cAAQ,KAAKvE,KAAL,CAAWwkB,iBAAX,CAA6B,KAAKhQ,QAAL,CAAc5jB,MAA3C;AAHM,OAAf,EAIG6oB,aAJH,EAIkB/F,IAJlB;AAKA;AACD,KAVD,EAUE,IAVF;AAYA,IAbD,EAaE,IAbF;AAcA;AA7PgB,EAAlB;AAiQA,CA9SD,EA8SGriB,IA9SH;;AAgTA,CAAC,YAAU;AACV;;AAEA,KAAIwS,OAAO,IAAX;AAAA,KACCE,QAAQF,KAAKE,KADd;;AAEC;AACAU,WAAUV,MAAMU,OAHjB;;AAKA,KAAI4e,gBAAgB;AACnB;AACA4C,qBAAoB,IAFD;;AAInB;AACAC,sBAAqB,MALF;;AAOnB;AACAC,sBAAqB,CARF;;AAUnB;AACAC,yBAAwB,EAXL;;AAanB;AACAvhB,kBAAiB,GAdE;;AAgBnB;AACAC,mBAAkB,eAjBC;;AAmBnB;AACAuhB,iBAAgB,IApBG;;AAsBnB;AACAC,gBAAe,KAvBI;;AAyBnB;AACAzS,kBAAiB;;AA1BE,EAApB;;AA8BA9P,OAAM8O,IAAN,CAAW3mB,MAAX,CAAkB;AACjB;AACAorB,QAAM,UAFW;AAGjB;AACAnhB,YAAWktB,aAJM;AAKjB;AACA;AACAtQ,cAAa,oBAASlhB,IAAT,EAAc;;AAE1B;AACA,QAAKgjB,QAAL,GAAgB,EAAhB;AACA,QAAKwE,WAAL,GAAmB,CAAC5U,QAAQ/O,GAAR,CAAY,CAAC,KAAKuO,KAAL,CAAWM,KAAZ,EAAkB,KAAKN,KAAL,CAAWT,MAA7B,CAAZ,IAAoD,KAAKV,OAAL,CAAaqjB,kBAAb,GAAgC,CAArF,IAAwF,CAA3G;;AAEA,QAAKI,UAAL,GAAkBxiB,MAAM8U,GAAN,CAAU3sB,MAAV,CAAiB;AAClCiY,SAAM,KAAKF,KAAL,CAAWE,GADiB;AAElC9X,OAAI,KAAK4X,KAAL,CAAWM,KAAX,GAAiB,CAFa;AAGlCpP,OAAI,KAAK8O,KAAL,CAAWT,MAAX,GAAkB;AAHY,IAAjB,CAAlB;;AAMA;AACA,OAAI,KAAKV,OAAL,CAAakD,YAAjB,EAA8B;AAC7BvB,YAAQ8L,UAAR,CAAmB,IAAnB,EAAyB,KAAKzN,OAAL,CAAaoD,aAAtC,EAAqD,UAASkJ,GAAT,EAAa;AACjE,SAAIoX,iBAAkBpX,IAAIte,IAAJ,KAAa,UAAd,GAA4B,KAAK21B,kBAAL,CAAwBrX,GAAxB,CAA5B,GAA2D,EAAhF;;AAEA3K,aAAQpU,IAAR,CAAa,KAAKwkB,QAAlB,EAA2B,UAAS6R,OAAT,EAAiB;AAC3CA,cAAQ9O,OAAR,CAAgB,CAAC,WAAD,CAAhB;AACA,MAFD;AAGAnT,aAAQpU,IAAR,CAAam2B,cAAb,EAA4B,UAASG,aAAT,EAAuB;AAClDA,oBAAc/Q,SAAd,GAA0B+Q,cAAcC,cAAxC;AACA,MAFD;AAGA,UAAK3S,WAAL,CAAiBuS,cAAjB;AACA,KAVD;AAWA;AACD,QAAKK,cAAL,CAAoBh1B,IAApB;;AAEA4S,WAAQpU,IAAR,CAAawB,IAAb,EAAkB,UAASi1B,SAAT,EAAoBjZ,KAApB,EAA0B;AAC3C,QAAI,CAACiZ,UAAUC,KAAf,EAAsB;AACrBD,eAAUC,KAAV,GAAkB,SAAU,MAAMlZ,KAAN,GAAchc,KAAKjB,MAA7B,GAAuC,cAAzD;AACA;AACD,SAAKm1B,OAAL,CAAae,SAAb,EAAwBjZ,KAAxB,EAA+B,IAA/B;AACA,IALD,EAKE,IALF;;AAOA,QAAKyF,MAAL;AACA,GA3CgB;AA4CjBmT,sBAAqB,4BAAS91B,CAAT,EAAW;AAC/B,OAAIq2B,gBAAgB,EAApB;;AAEA,OAAIC,WAAWxiB,QAAQ0K,mBAAR,CAA4Bxe,CAA5B,CAAf;;AAEA8T,WAAQpU,IAAR,CAAa,KAAKwkB,QAAlB,EAA2B,UAAS6R,OAAT,EAAiB;AAC3C,QAAIA,QAAQvO,OAAR,CAAgB8O,SAAS56B,CAAzB,EAA2B46B,SAAS9xB,CAApC,CAAJ,EAA4C6xB,cAAc10B,IAAd,CAAmBo0B,OAAnB;AAC5C,IAFD,EAEE,IAFF;AAGA,UAAOM,aAAP;AACA,GArDgB;AAsDjBjB,WAAU,iBAASW,OAAT,EAAkBQ,OAAlB,EAA2BC,MAA3B,EAAkC;AAC3C,OAAItZ,QAAQqZ,YAAYp4B,SAAZ,GAAwBo4B,OAAxB,GAAkC,KAAKrS,QAAL,CAAcjkB,MAA5D;AACA,OAAK,OAAO81B,QAAQK,KAAf,KAA0B,WAA/B,EAA6C;AAC5CL,YAAQK,KAAR,GAAgBhjB,MAAM5N,QAAN,CAAewO,MAAf,CAAsB0C,mBAAtB,CAA0CwG,QAAQ9J,MAAM5N,QAAN,CAAewO,MAAf,CAAsB0C,mBAAtB,CAA0CzW,MAA5F,CAAhB;AACA81B,YAAQU,SAAR,GAAoBrjB,MAAM5N,QAAN,CAAewO,MAAf,CAAsB2C,6BAAtB,CAAoDuG,QAAQ9J,MAAM5N,QAAN,CAAewO,MAAf,CAAsB2C,6BAAtB,CAAoD1W,MAAhH,CAApB;AACA;AACD,QAAKikB,QAAL,CAAc8N,MAAd,CAAqB9U,KAArB,EAA4B,CAA5B,EAA+B,IAAI,KAAK0Y,UAAT,CAAoB;AAClDre,WAAQwe,QAAQxe,KADkC;AAElDmR,iBAAe,KAAKvW,OAAL,CAAawjB,YAAd,GAA8B,CAA9B,GAAkC,KAAKjN,WAFH;AAGlDD,iBAAe,KAAKtW,OAAL,CAAawjB,YAAd,GAA8B,CAA9B,GAAmC,KAAKjN,WAAL,GAAiB,GAAlB,GAAyB,KAAKvW,OAAL,CAAasjB,qBAHpC;AAIlDxQ,eAAY8Q,QAAQK,KAJ8B;AAKlDH,oBAAiBF,QAAQU,SAAR,IAAqBV,QAAQK,KALI;AAMlDpN,gBAAa,KAAK7W,OAAL,CAAamjB,iBANwB;AAOlDtN,iBAAc,KAAK7V,OAAL,CAAaqjB,kBAPuB;AAQlDrQ,iBAAc,KAAKhT,OAAL,CAAaojB,kBARuB;AASlDlN,gBAAazrB,KAAKE,EAAL,GAAU,GAT2B;AAUlD45B,mBAAiB,KAAKvkB,OAAL,CAAaujB,aAAd,GAA+B,CAA/B,GAAmC,KAAKiB,sBAAL,CAA4BZ,QAAQxe,KAApC,CAVD;AAWlDmT,WAAQqL,QAAQrL;AAXkC,IAApB,CAA/B;AAaA,OAAI,CAAC8L,MAAL,EAAY;AACX,SAAK9T,MAAL;AACA,SAAKyE,MAAL;AACA;AACD,GA7EgB;AA8EjBwP,0BAAyB,gCAASpf,KAAT,EAAgB;AACxC,OAAK,KAAKqf,KAAL,GAAa,CAAlB,EAAsB;AACrB,WAAQh6B,KAAKE,EAAL,GAAQ,CAAT,IAAaya,QAAQ,KAAKqf,KAA1B,CAAP;AACA,IAFD,MAEO;AACN,WAAO,CAAP;AACA;AACD,GApFgB;AAqFjBV,kBAAiB,wBAASh1B,IAAT,EAAc;AAC9B,QAAK01B,KAAL,GAAa,CAAb;AACA9iB,WAAQpU,IAAR,CAAawB,IAAb,EAAkB,UAAS60B,OAAT,EAAiB;AAClC,SAAKa,KAAL,IAAch6B,KAAKkB,GAAL,CAASi4B,QAAQxe,KAAjB,CAAd;AACA,IAFD,EAEE,IAFF;AAGA,GA1FgB;AA2FjB4P,UAAS,kBAAU;AAClB,QAAK+O,cAAL,CAAoB,KAAKhS,QAAzB;;AAEA;AACApQ,WAAQpU,IAAR,CAAa,KAAK+jB,cAAlB,EAAkC,UAASkR,aAAT,EAAuB;AACxDA,kBAAc1N,OAAd,CAAsB,CAAC,WAAD,CAAtB;AACA,IAFD;;AAIAnT,WAAQpU,IAAR,CAAa,KAAKwkB,QAAlB,EAA2B,UAAS6R,OAAT,EAAiB;AAC3CA,YAAQ/O,IAAR;AACA,IAFD;AAGA,QAAKrE,MAAL;AACA,GAvGgB;;AAyGjBthB,cAAY,oBAASk1B,OAAT,EAAiB;AAC5B,OAAIM,gBAAiB/iB,QAAQqF,QAAR,CAAiBod,OAAjB,CAAD,GAA8BA,OAA9B,GAAwC,KAAKrS,QAAL,CAAcjkB,MAAd,GAAqB,CAAjF;AACA,QAAKikB,QAAL,CAAc8N,MAAd,CAAqB6E,aAArB,EAAoC,CAApC;AACA,QAAKnU,MAAL;AACA,QAAKyE,MAAL;AACA,GA9GgB;;AAgHjBzE,UAAS,kBAAU;AAClB5O,WAAQvY,MAAR,CAAe,KAAKq6B,UAAL,CAAgB50B,SAA/B,EAAyC;AACxCtF,OAAI,KAAK4X,KAAL,CAAWM,KAAX,GAAiB,CADmB;AAExCpP,OAAI,KAAK8O,KAAL,CAAWT,MAAX,GAAkB;AAFkB,IAAzC;AAIA,QAAK6V,WAAL,GAAmB,CAAC5U,QAAQ/O,GAAR,CAAY,CAAC,KAAKuO,KAAL,CAAWM,KAAZ,EAAkB,KAAKN,KAAL,CAAWT,MAA7B,CAAZ,IAAoD,KAAKV,OAAL,CAAaqjB,kBAAb,GAAgC,CAArF,IAAwF,CAA3G;AACA1hB,WAAQpU,IAAR,CAAa,KAAKwkB,QAAlB,EAA4B,UAAS6R,OAAT,EAAiB;AAC5CA,YAAQ5O,MAAR,CAAe;AACduB,kBAAc,KAAKA,WADL;AAEdD,kBAAe,KAAKC,WAAL,GAAiB,GAAlB,GAAyB,KAAKvW,OAAL,CAAasjB;AAFtC,KAAf;AAIA,IALD,EAKG,IALH;AAMA,GA5HgB;AA6HjB1S,QAAO,cAASxE,WAAT,EAAqB;AAC3B,OAAIuY,cAAevY,WAAD,GAAgBA,WAAhB,GAA8B,CAAhD;AACA,QAAKsC,KAAL;AACA/M,WAAQpU,IAAR,CAAa,KAAKwkB,QAAlB,EAA2B,UAAS6R,OAAT,EAAiB7Y,KAAjB,EAAuB;AACjD6Y,YAAQ1O,UAAR,CAAmB;AAClBqP,oBAAgB,KAAKC,sBAAL,CAA4BZ,QAAQxe,KAApC,CADE;AAElBmR,kBAAc,KAAKA,WAFD;AAGlBD,kBAAe,KAAKC,WAAL,GAAiB,GAAlB,GAAyB,KAAKvW,OAAL,CAAasjB;AAHlC,KAAnB,EAIEqB,WAJF;;AAMAf,YAAQzN,QAAR,GAAmByN,QAAQ1N,UAAR,GAAqB0N,QAAQW,aAAhD;;AAEAX,YAAQhT,IAAR;AACA,QAAI7F,UAAU,CAAd,EAAgB;AACf6Y,aAAQ1N,UAAR,GAAqBzrB,KAAKE,EAAL,GAAU,GAA/B;AACA;AACD;AACA,QAAIogB,QAAQ,KAAKgH,QAAL,CAAcjkB,MAAd,GAAqB,CAAjC,EAAmC;AAClC,UAAKikB,QAAL,CAAchH,QAAM,CAApB,EAAuBmL,UAAvB,GAAoC0N,QAAQzN,QAA5C;AACA;AACD,IAjBD,EAiBE,IAjBF;AAmBA;AAnJgB,EAAlB;;AAsJAlV,OAAM0D,KAAN,CAAYigB,QAAZ,CAAqBx7B,MAArB,CAA4B;AAC3BorB,QAAO,KADoB;AAE3BnhB,YAAWsO,QAAQ6D,KAAR,CAAc+a,aAAd,EAA4B,EAAC+C,uBAAwB,CAAzB,EAA5B;AAFgB,EAA5B;AAKA,CAjMD,EAiMG/0B,IAjMH;;AAmMA,CAAC,YAAU;AACV;;AAEA,KAAIwS,OAAO,IAAX;AAAA,KACCE,QAAQF,KAAKE,KADd;AAAA,KAECU,UAAUV,MAAMU,OAFjB;;AAIA,KAAI4e,gBAAgB;;AAEnB;AACAC,sBAAqB,IAHF;;AAKnB;AACAC,sBAAqB,iBANF;;AAQnB;AACAC,sBAAqB,CATF;;AAWnB;AACAC,4BAA0B,IAZP;;AAcnB;AACAC,0BAAwB,IAfL;;AAiBnB;AACAiE,eAAc,IAlBK;;AAoBnB;AACAC,sBAAqB,GArBF;;AAuBnB;AACAC,YAAW,IAxBQ;;AA0BnB;AACAC,kBAAiB,CA3BE;;AA6BnB;AACAC,uBAAsB,CA9BH;;AAgCnB;AACAC,2BAA0B,EAjCP;;AAmCnB;AACAC,iBAAgB,IApCG;;AAsCnB;AACAC,sBAAqB,CAvCF;;AAyCnB;AACAC,eAAc,IA1CK;;AA4CnB;AACAtU,kBAAiB,uOA7CE;;AA+CnB;AACA+J,mBAAkB;;AAhDC,EAApB;;AAqDA7Z,OAAM8O,IAAN,CAAW3mB,MAAX,CAAkB;AACjBorB,QAAM,MADW;AAEjBnhB,YAAWktB,aAFM;AAGjBtQ,cAAa,oBAASlhB,IAAT,EAAc;AAC1B;AACA,QAAKu2B,UAAL,GAAkBrkB,MAAMmU,KAAN,CAAYhsB,MAAZ,CAAmB;AACpC0xB,qBAAkB,KAAK9a,OAAL,CAAa8a,eADK;AAEpCjF,iBAAc,KAAK7V,OAAL,CAAailB,mBAFS;AAGpCzV,YAAS,KAAKxP,OAAL,CAAaglB,cAHc;AAIpCvxB,aAAS,KAAKuM,OAAL,CAAa+kB,QAJc;AAKpCtP,wBAAqB,KAAKzV,OAAL,CAAaklB,uBALE;AAMpC7jB,SAAM,KAAKF,KAAL,CAAWE,GANmB;AAOpCgU,aAAU,iBAAS9I,MAAT,EAAgB;AACzB,YAAQ9hB,KAAKO,GAAL,CAASuhB,SAAO,KAAKhjB,CAArB,EAAwB,CAAxB,IAA6BkB,KAAKO,GAAL,CAAS,KAAKwkB,MAAL,GAAc,KAAKiG,kBAA5B,EAA+C,CAA/C,CAArC;AACA;AATmC,IAAnB,CAAlB;;AAYA,QAAK/D,QAAL,GAAgB,EAAhB;;AAEA;AACA,OAAI,KAAK1R,OAAL,CAAakD,YAAjB,EAA8B;AAC7BvB,YAAQ8L,UAAR,CAAmB,IAAnB,EAAyB,KAAKzN,OAAL,CAAaoD,aAAtC,EAAqD,UAASkJ,GAAT,EAAa;AACjE,SAAIiZ,eAAgBjZ,IAAIte,IAAJ,KAAa,UAAd,GAA4B,KAAKw3B,gBAAL,CAAsBlZ,GAAtB,CAA5B,GAAyD,EAA5E;AACA,UAAKmZ,UAAL,CAAgB,UAASC,KAAT,EAAe;AAC9BA,YAAM5Q,OAAN,CAAc,CAAC,WAAD,EAAc,aAAd,CAAd;AACA,MAFD;AAGAnT,aAAQpU,IAAR,CAAag4B,YAAb,EAA2B,UAASI,WAAT,EAAqB;AAC/CA,kBAAY7S,SAAZ,GAAwB6S,YAAY1D,aAApC;AACA0D,kBAAY3S,WAAZ,GAA0B2S,YAAYzD,eAAtC;AACA,MAHD;AAIA,UAAK/Q,WAAL,CAAiBoU,YAAjB;AACA,KAVD;AAWA;;AAED;AACA5jB,WAAQpU,IAAR,CAAawB,KAAK2iB,QAAlB,EAA2B,UAASgB,OAAT,EAAiB;;AAE3C,QAAI0P,gBAAgB;AACnB7J,YAAQ7F,QAAQ6F,KAAR,IAAiB,IADN;AAEnBzF,gBAAYJ,QAAQI,SAFD;AAGnBE,kBAAcN,QAAQM,WAHH;AAInB4S,iBAAalT,QAAQkT,UAJF;AAKnBC,uBAAmBnT,QAAQmT,gBALR;AAMnBhU,aAAS;AANU,KAApB;;AASA,SAAKH,QAAL,CAAcliB,IAAd,CAAmB4yB,aAAnB;;AAGAzgB,YAAQpU,IAAR,CAAamlB,QAAQ3jB,IAArB,EAA0B,UAASszB,SAAT,EAAmBtX,KAAnB,EAAyB;AAClD;AACAqX,mBAAcvQ,MAAd,CAAqBriB,IAArB,CAA0B,IAAI,KAAK81B,UAAT,CAAoB;AAC7ClgB,aAAQid,SADqC;AAE7C9J,aAAQxpB,KAAK4kB,MAAL,CAAY5I,KAAZ,CAFqC;AAG7CuX,oBAAc5P,QAAQ6F,KAHuB;AAI7CvF,mBAAcN,QAAQmT,gBAJuB;AAK7C/S,iBAAYJ,QAAQkT,UALyB;AAM7C3D,qBAAgBvP,QAAQoT,kBAAR,IAA8BpT,QAAQkT,UANT;AAO7C1D,uBAAkBxP,QAAQqT,oBAAR,IAAgCrT,QAAQmT;AAPb,MAApB,CAA1B;AASA,KAXD,EAWE,IAXF;;AAaA,SAAKtD,UAAL,CAAgBxzB,KAAK4kB,MAArB;;AAGA,SAAK8R,UAAL,CAAgB,UAASC,KAAT,EAAgB3a,KAAhB,EAAsB;AACrCpJ,aAAQvY,MAAR,CAAes8B,KAAf,EAAsB;AACrBn8B,SAAG,KAAK2T,KAAL,CAAWsd,UAAX,CAAsBzP,KAAtB,CADkB;AAErB1Y,SAAG,KAAK6K,KAAL,CAAWoc;AAFO,MAAtB;AAIAoM,WAAM7Q,IAAN;AACA,KAND,EAMG,IANH;AAQA,IAtCD,EAsCE,IAtCF;;AAyCA,QAAKrE,MAAL;AACA,GA7EgB;AA8EjBwE,UAAS,kBAAU;AAClB,QAAK9X,KAAL,CAAW8X,MAAX;AACA;AACArT,WAAQpU,IAAR,CAAa,KAAK+jB,cAAlB,EAAkC,UAASkR,aAAT,EAAuB;AACxDA,kBAAc1N,OAAd,CAAsB,CAAC,WAAD,EAAc,aAAd,CAAtB;AACA,IAFD;AAGA,QAAK2Q,UAAL,CAAgB,UAASC,KAAT,EAAe;AAC9BA,UAAM7Q,IAAN;AACA,IAFD;AAGA,QAAKrE,MAAL;AACA,GAxFgB;AAyFjBiV,cAAa,oBAAS5gB,QAAT,EAAkB;AAC9BlD,WAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA2B,UAASgB,OAAT,EAAiB;AAC3C/Q,YAAQpU,IAAR,CAAamlB,QAAQb,MAArB,EAA4BhN,QAA5B,EAAqC,IAArC;AACA,IAFD,EAEE,IAFF;AAGA,GA7FgB;AA8FjB2gB,oBAAmB,0BAAS33B,CAAT,EAAW;AAC7B,OAAIm4B,cAAc,EAAlB;AAAA,OACCtD,gBAAgB/gB,QAAQ0K,mBAAR,CAA4Bxe,CAA5B,CADjB;AAEA8T,WAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA2B,UAASgB,OAAT,EAAiB;AAC3C/Q,YAAQpU,IAAR,CAAamlB,QAAQb,MAArB,EAA4B,UAAS6T,KAAT,EAAe;AAC1C,SAAIA,MAAMrQ,OAAN,CAAcqN,cAAcn5B,CAA5B,EAA8Bm5B,cAAcrwB,CAA5C,CAAJ,EAAoD2zB,YAAYx2B,IAAZ,CAAiBk2B,KAAjB;AACpD,KAFD;AAGA,IAJD,EAIE,IAJF;AAKA,UAAOM,WAAP;AACA,GAvGgB;AAwGjBzD,cAAa,oBAAS5O,MAAT,EAAgB;AAC5B,OAAI7O,OAAO,IAAX;;AAEA,OAAI8d,YAAY,SAAZA,SAAY,GAAU;AACzB,QAAI/Y,SAAS,EAAb;AACA/E,SAAK2gB,UAAL,CAAgB,UAASC,KAAT,EAAe;AAC9B7b,YAAOra,IAAP,CAAYk2B,MAAMtgB,KAAlB;AACA,KAFD;;AAIA,WAAOyE,MAAP;AACA,IAPD;;AASA,OAAIgZ,eAAe;AAClBrY,oBAAiB,KAAKxK,OAAL,CAAayC,UADZ;AAElB/B,YAAS,KAAKS,KAAL,CAAWT,MAFF;AAGlBe,WAAQ,KAAKN,KAAL,CAAWM,KAHD;AAIlBJ,SAAM,KAAKF,KAAL,CAAWE,GAJC;AAKlBgS,eAAY,KAAKrT,OAAL,CAAa+C,cALP;AAMlB+X,qBAAkB,KAAK9a,OAAL,CAAa8a,eANb;AAOlBxd,cAAW,KAAK0C,OAAL,CAAa6C,aAPN;AAQlBiM,eAAY,KAAK9O,OAAL,CAAa8C,cARP;AASlBiM,gBAAa,KAAK/O,OAAL,CAAa4C,eATR;AAUlBuW,iBAAcxF,OAAO7lB,MAVH;AAWlBg1B,iBAAc,KAAK9iB,OAAL,CAAa2C,gBAXT;AAYlB8G,kBAAe,KAAKzJ,OAAL,CAAa0C,iBAZV;AAalBgX,qBAAkB,yBAASqJ,aAAT,EAAuB;AACxC,SAAIC,gBAAgBrhB,QAAQyH,mBAAR,CACnBwZ,WADmB,EAEnBG,aAFmB,EAGnB,KAAKzlB,QAHc,EAInB,KAAKwlB,WAJc,EAKnB,KAAKrZ,YALc,CAApB;AAOA9H,aAAQvY,MAAR,CAAe,IAAf,EAAqB45B,aAArB;AACA,KAtBiB;AAuBlB9J,aAAUvF,MAvBQ;AAwBlB1E,UAAOtN,QAAQiN,UAAR,CAAmB,KAAK5O,OAAL,CAAa6C,aAAhC,EAA+C,KAAK7C,OAAL,CAAa8C,cAA5D,EAA4E,KAAK9C,OAAL,CAAa4C,eAAzF,CAxBW;AAyBlBgT,eAAY,KAAK5V,OAAL,CAAauC,cAzBP;AA0BlBkZ,eAAY,KAAKzb,OAAL,CAAasC,cA1BP;AA2BlBgZ,yBAAsB,KAAKtb,OAAL,CAAa2gB,wBA3BjB;AA4BlB9E,uBAAoB,KAAK7b,OAAL,CAAa4gB,sBA5Bf;AA6BlBrF,mBAAiB,KAAKvb,OAAL,CAAawgB,kBAAd,GAAoC,KAAKxgB,OAAL,CAAa0gB,kBAAjD,GAAsE,CA7BpE;AA8BlBlF,mBAAiB,KAAKxb,OAAL,CAAawgB,kBAAd,GAAoC,KAAKxgB,OAAL,CAAaygB,kBAAjD,GAAsE,eA9BpE;AA+BlBzS,aAAU,KAAKhO,OAAL,CAAaiC,SAAd,GAA2B,CAA3B,GAA+B,KAAKjC,OAAL,CAAaglB,cAAb,GAA8B,KAAKhlB,OAAL,CAAailB,mBA/BjE;AAgClBjM,gBAAa,KAAKhZ,OAAL,CAAawC,eAhCR;AAiClB/O,aAAU,KAAKuM,OAAL,CAAaiC;AAjCL,IAAnB;;AAoCA,OAAI,KAAKjC,OAAL,CAAakC,aAAjB,EAA+B;AAC9BP,YAAQvY,MAAR,CAAey5B,YAAf,EAA6B;AAC5BnJ,sBAAiB/X,QAAQgF,IADG;AAE5B2D,YAAO,KAAKtK,OAAL,CAAamC,UAFQ;AAG5BiI,gBAAW,KAAKpK,OAAL,CAAaoC,cAHI;AAI5BxP,UAAK,KAAKoN,OAAL,CAAaqC,eAJU;AAK5BxP,UAAK,KAAKmN,OAAL,CAAaqC,eAAb,GAAgC,KAAKrC,OAAL,CAAamC,UAAb,GAA0B,KAAKnC,OAAL,CAAaoC;AALhD,KAA7B;AAOA;;AAGD,QAAKlF,KAAL,GAAa,IAAI+D,MAAMwX,KAAV,CAAgBoK,YAAhB,CAAb;AACA,GApKgB;AAqKjBI,WAAU,iBAAS5Z,WAAT,EAAqBkP,KAArB,EAA2B;AACpC;;AAEA5W,WAAQpU,IAAR,CAAa8b,WAAb,EAAyB,UAASjE,KAAT,EAAegc,YAAf,EAA4B;AACpD;AACA,SAAK1P,QAAL,CAAc0P,YAAd,EAA4BvP,MAA5B,CAAmCriB,IAAnC,CAAwC,IAAI,KAAK81B,UAAT,CAAoB;AAC3DlgB,YAAQA,KADmD;AAE3DmT,YAAQA,KAFmD;AAG3D+J,mBAAc,KAAK5Q,QAAL,CAAc0P,YAAd,EAA4B7I,KAHiB;AAI3DhvB,QAAG,KAAK2T,KAAL,CAAWsd,UAAX,CAAsB,KAAKtd,KAAL,CAAWic,WAAX,GAAuB,CAA7C,CAJwD;AAK3D9mB,QAAG,KAAK6K,KAAL,CAAWoc,QAL6C;AAM3DtG,kBAAc,KAAKtB,QAAL,CAAc0P,YAAd,EAA4ByE,gBANiB;AAO3D/S,gBAAY,KAAKpB,QAAL,CAAc0P,YAAd,EAA4BwE;AAPmB,KAApB,CAAxC;AASA,IAXD,EAWE,IAXF;;AAaA,QAAK1oB,KAAL,CAAW+b,SAAX,CAAqBV,KAArB;AACA;AACA,QAAKvD,MAAL;AACA,GAxLgB;AAyLjB9lB,cAAa,sBAAU;AACtB,QAAKgO,KAAL,CAAWkc,YAAX;AACA;AACAzX,WAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA2B,UAASgB,OAAT,EAAiB;AAC3CA,YAAQb,MAAR,CAAeniB,KAAf;AACA,IAFD,EAEE,IAFF;AAGA,QAAKslB,MAAL;AACA,GAhMgB;AAiMjBzE,UAAS,kBAAU;AAClB,OAAI2S,gBAAgBvhB,QAAQvY,MAAR,CAAe;AAClCsX,YAAS,KAAKS,KAAL,CAAWT,MADc;AAElCe,WAAQ,KAAKN,KAAL,CAAWM;AAFe,IAAf,CAApB;AAIA,QAAKvE,KAAL,CAAW8X,MAAX,CAAkBkO,aAAlB;AACA,GAvMgB;AAwMjBtS,QAAO,cAASuE,IAAT,EAAc;AACpB,OAAIwB,gBAAgBxB,QAAQ,CAA5B;AACA,QAAKzG,KAAL;;AAEA,OAAIrN,MAAM,KAAKF,KAAL,CAAWE,GAArB;;AAEA;AACA,OAAIsR,WAAW,SAAXA,QAAW,CAAS3N,IAAT,EAAc;AAC5B,WAAOA,KAAKI,KAAL,KAAe,IAAtB;AACA,IAFD;AAAA,OAGA6gB,YAAY,SAAZA,SAAY,CAASP,KAAT,EAAgB5f,UAAhB,EAA4BiF,KAA5B,EAAkC;AAC7C,WAAOpJ,QAAQsE,aAAR,CAAsBH,UAAtB,EAAkC6M,QAAlC,EAA4C5H,KAA5C,KAAsD2a,KAA7D;AACA,IALD;AAAA,OAMAQ,gBAAgB,SAAhBA,aAAgB,CAASR,KAAT,EAAgB5f,UAAhB,EAA4BiF,KAA5B,EAAkC;AACjD,WAAOpJ,QAAQyE,iBAAR,CAA0BN,UAA1B,EAAsC6M,QAAtC,EAAgD5H,KAAhD,KAA0D2a,KAAjE;AACA,IARD;;AAUA,OAAI,CAAC,KAAKxoB,KAAV,EAAiB;AACjB,QAAKA,KAAL,CAAW0T,IAAX,CAAgB+F,aAAhB;;AAGAhV,WAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA2B,UAASgB,OAAT,EAAiB;AAC3C,QAAIyT,mBAAmBxkB,QAAQkE,KAAR,CAAc6M,QAAQb,MAAtB,EAA8Bc,QAA9B,CAAvB;;AAEA;AACA;;AAEAhR,YAAQpU,IAAR,CAAamlB,QAAQb,MAArB,EAA6B,UAAS6T,KAAT,EAAgB3a,KAAhB,EAAsB;AAClD,SAAI2a,MAAM/S,QAAN,EAAJ,EAAqB;AACpB+S,YAAMxQ,UAAN,CAAiB;AAChB7iB,UAAI,KAAK6K,KAAL,CAAWwd,UAAX,CAAsBgL,MAAMtgB,KAA5B,CADY;AAEhB7b,UAAI,KAAK2T,KAAL,CAAWsd,UAAX,CAAsBzP,KAAtB;AAFY,OAAjB,EAGG4L,aAHH;AAIA;AACD,KAPD,EAOE,IAPF;;AAUA;AACA;AACA,QAAI,KAAK3W,OAAL,CAAa6kB,WAAjB,EAA6B;AAC5BljB,aAAQpU,IAAR,CAAa44B,gBAAb,EAA+B,UAAST,KAAT,EAAgB3a,KAAhB,EAAsB;AACpD,UAAIjS,UAAWiS,QAAQ,CAAR,IAAaA,QAAQob,iBAAiBr4B,MAAjB,GAA0B,CAAhD,GAAqD,KAAKkS,OAAL,CAAa8kB,kBAAlE,GAAuF,CAArG;AACAY,YAAMU,aAAN,GAAsBzkB,QAAQ4G,WAAR,CACrB2d,cAAcR,KAAd,EAAqBS,gBAArB,EAAuCpb,KAAvC,CADqB,EAErB2a,KAFqB,EAGrBO,UAAUP,KAAV,EAAiBS,gBAAjB,EAAmCpb,KAAnC,CAHqB,EAIrBjS,OAJqB,CAAtB;;AAOA;;AAEA;AACA,UAAI4sB,MAAMU,aAAN,CAAoBpd,KAApB,CAA0B3W,CAA1B,GAA8B,KAAK6K,KAAL,CAAWoc,QAA7C,EAAsD;AACrDoM,aAAMU,aAAN,CAAoBpd,KAApB,CAA0B3W,CAA1B,GAA8B,KAAK6K,KAAL,CAAWoc,QAAzC;AACA,OAFD,MAGK,IAAIoM,MAAMU,aAAN,CAAoBpd,KAApB,CAA0B3W,CAA1B,GAA8B,KAAK6K,KAAL,CAAWmc,UAA7C,EAAwD;AAC5DqM,aAAMU,aAAN,CAAoBpd,KAApB,CAA0B3W,CAA1B,GAA8B,KAAK6K,KAAL,CAAWmc,UAAzC;AACA;;AAED;AACA,UAAIqM,MAAMU,aAAN,CAAoBrd,KAApB,CAA0B1W,CAA1B,GAA8B,KAAK6K,KAAL,CAAWoc,QAA7C,EAAsD;AACrDoM,aAAMU,aAAN,CAAoBrd,KAApB,CAA0B1W,CAA1B,GAA8B,KAAK6K,KAAL,CAAWoc,QAAzC;AACA,OAFD,MAGK,IAAIoM,MAAMU,aAAN,CAAoBrd,KAApB,CAA0B1W,CAA1B,GAA8B,KAAK6K,KAAL,CAAWmc,UAA7C,EAAwD;AAC5DqM,aAAMU,aAAN,CAAoBrd,KAApB,CAA0B1W,CAA1B,GAA8B,KAAK6K,KAAL,CAAWmc,UAAzC;AACA;AACD,MA1BD,EA0BE,IA1BF;AA2BA;;AAGD;AACAhY,QAAIuU,SAAJ,GAAgB,KAAK5V,OAAL,CAAaolB,kBAA7B;AACA/jB,QAAIsU,WAAJ,GAAkBjD,QAAQM,WAA1B;AACA3R,QAAIoO,SAAJ;;AAEA9N,YAAQpU,IAAR,CAAa44B,gBAAb,EAA+B,UAAST,KAAT,EAAgB3a,KAAhB,EAAsB;AACpD,SAAIA,UAAU,CAAd,EAAgB;AACf1J,UAAIqO,MAAJ,CAAWgW,MAAMn8B,CAAjB,EAAoBm8B,MAAMrzB,CAA1B;AACA,MAFD,MAGI;AACH,UAAG,KAAK2N,OAAL,CAAa6kB,WAAhB,EAA4B;AAC3B,WAAI7jB,WAAWklB,cAAcR,KAAd,EAAqBS,gBAArB,EAAuCpb,KAAvC,CAAf;;AAEA1J,WAAIglB,aAAJ,CACCrlB,SAASolB,aAAT,CAAuBpd,KAAvB,CAA6Bzf,CAD9B,EAECyX,SAASolB,aAAT,CAAuBpd,KAAvB,CAA6B3W,CAF9B,EAGCqzB,MAAMU,aAAN,CAAoBrd,KAApB,CAA0Bxf,CAH3B,EAICm8B,MAAMU,aAAN,CAAoBrd,KAApB,CAA0B1W,CAJ3B,EAKCqzB,MAAMn8B,CALP,EAMCm8B,MAAMrzB,CANP;AAQA,OAXD,MAYI;AACHgP,WAAIsO,MAAJ,CAAW+V,MAAMn8B,CAAjB,EAAmBm8B,MAAMrzB,CAAzB;AACA;AACD;AACD,KArBD,EAqBG,IArBH;;AAuBA,QAAI,KAAK2N,OAAL,CAAamlB,aAAjB,EAAgC;AAC/B9jB,SAAI0R,MAAJ;AACA;;AAED,QAAI,KAAK/S,OAAL,CAAaqlB,WAAb,IAA4Bc,iBAAiBr4B,MAAjB,GAA0B,CAA1D,EAA4D;AAC3D;AACAuT,SAAIsO,MAAJ,CAAWwW,iBAAiBA,iBAAiBr4B,MAAjB,GAA0B,CAA3C,EAA8CvE,CAAzD,EAA4D,KAAK2T,KAAL,CAAWoc,QAAvE;AACAjY,SAAIsO,MAAJ,CAAWwW,iBAAiB,CAAjB,EAAoB58B,CAA/B,EAAkC,KAAK2T,KAAL,CAAWoc,QAA7C;AACAjY,SAAIyU,SAAJ,GAAgBpD,QAAQI,SAAxB;AACAzR,SAAIwO,SAAJ;AACAxO,SAAIuR,IAAJ;AACA;;AAED;AACA;AACA;AACAjR,YAAQpU,IAAR,CAAa44B,gBAAb,EAA8B,UAAST,KAAT,EAAe;AAC5CA,WAAM9U,IAAN;AACA,KAFD;AAGA,IAhGD,EAgGE,IAhGF;AAiGA;AA9TgB,EAAlB;AAkUA,CA9XD,EA8XGriB,IA9XH;;AAgYA,CAAC,YAAU;AACV;;AAEA,KAAIwS,OAAO,IAAX;AAAA,KACCE,QAAQF,KAAKE,KADd;;AAEC;AACAU,WAAUV,MAAMU,OAHjB;;AAKA,KAAI4e,gBAAgB;AACnB;AACA+F,0BAAyB,IAFN;;AAInB;AACAC,sBAAqB,wBALF;;AAOnB;AACA5jB,oBAAmB,IARA;;AAUnB;AACA6jB,yBAAwB,CAXL;;AAanB;AACAC,yBAAwB,CAdL;;AAgBnB;AACAC,iBAAgB,IAjBG;;AAmBnB;AACAvD,qBAAoB,IApBD;;AAsBnB;AACAC,sBAAqB,MAvBF;;AAyBnB;AACAC,sBAAqB,CA1BF;;AA4BnB;AACAthB,kBAAiB,GA7BE;;AA+BnB;AACAC,mBAAkB,eAhCC;;AAkCnB;AACAuhB,iBAAgB,IAnCG;;AAqCnB;AACAC,gBAAe,KAtCI;;AAwCnB;AACAzS,kBAAiB;AAzCE,EAApB;;AA6CA9P,OAAM8O,IAAN,CAAW3mB,MAAX,CAAkB;AACjB;AACAorB,QAAM,WAFW;AAGjB;AACAnhB,YAAWktB,aAJM;AAKjB;AACA;AACAtQ,cAAa,oBAASlhB,IAAT,EAAc;AAC1B,QAAKgjB,QAAL,GAAgB,EAAhB;AACA;AACA,QAAK0R,UAAL,GAAkBxiB,MAAM8U,GAAN,CAAU3sB,MAAV,CAAiB;AAClCytB,gBAAa,KAAK7W,OAAL,CAAamjB,iBADQ;AAElCtN,iBAAc,KAAK7V,OAAL,CAAaqjB,kBAFO;AAGlCrQ,iBAAc,KAAKhT,OAAL,CAAaojB,kBAHO;AAIlC/hB,SAAM,KAAKF,KAAL,CAAWE,GAJiB;AAKlCiV,iBAAc,CALoB;AAMlC/sB,OAAI,KAAK4X,KAAL,CAAWM,KAAX,GAAiB,CANa;AAOlCpP,OAAI,KAAK8O,KAAL,CAAWT,MAAX,GAAkB;AAPY,IAAjB,CAAlB;AASA,QAAKxD,KAAL,GAAa,IAAI+D,MAAM6a,WAAV,CAAsB;AAClCroB,aAAS,KAAKuM,OAAL,CAAaiC,SADY;AAElC6M,eAAW,KAAK9O,OAAL,CAAa8C,cAFU;AAGlCxF,cAAU,KAAK0C,OAAL,CAAa6C,aAHW;AAIlCkM,gBAAY,KAAK/O,OAAL,CAAa4C,eAJS;AAKlC2b,eAAW,KAAKve,OAAL,CAAa+C,cALU;AAMlCiW,gBAAY,KAAKhZ,OAAL,CAAawC,eANS;AAOlC4b,uBAAmB,KAAKpe,OAAL,CAAasmB,sBAPE;AAQlCjI,mBAAe,KAAKre,OAAL,CAAaumB,kBARM;AASlCvK,sBAAmB,KAAKhc,OAAL,CAAawmB,qBATE;AAUlClI,sBAAkB,KAAKte,OAAL,CAAaymB,qBAVG;AAWlC7Q,eAAY,KAAK5V,OAAL,CAAa0mB,aAAd,GAA+B,KAAK1mB,OAAL,CAAauC,cAA5C,GAA6D,CAXtC;AAYlCkZ,eAAW,KAAKzb,OAAL,CAAasC,cAZU;AAalC4Z,aAAS,IAbyB;AAclCza,WAAO,KAAKN,KAAL,CAAWM,KAdgB;AAelCf,YAAQ,KAAKS,KAAL,CAAWT,MAfe;AAgBlCmd,aAAS,KAAK1c,KAAL,CAAWM,KAAX,GAAiB,CAhBQ;AAiBlCqc,aAAS,KAAK3c,KAAL,CAAWT,MAAX,GAAkB,CAjBO;AAkBlCW,SAAM,KAAKF,KAAL,CAAWE,GAlBiB;AAmBlCmJ,oBAAgB,KAAKxK,OAAL,CAAayC,UAnBK;AAoBlC0W,iBAAapqB,KAAKjB;AApBgB,IAAtB,CAAb;;AAuBA,QAAK64B,gBAAL,CAAsB53B,IAAtB;;AAEA,QAAKmO,KAAL,CAAW8X,MAAX;;AAEArT,WAAQpU,IAAR,CAAawB,IAAb,EAAkB,UAAS60B,OAAT,EAAiB7Y,KAAjB,EAAuB;AACxC,SAAKkY,OAAL,CAAaW,OAAb,EAAqB7Y,KAArB,EAA2B,IAA3B;AACA,IAFD,EAEE,IAFF;;AAIA;AACA,OAAI,KAAK/K,OAAL,CAAakD,YAAjB,EAA8B;AAC7BvB,YAAQ8L,UAAR,CAAmB,IAAnB,EAAyB,KAAKzN,OAAL,CAAaoD,aAAtC,EAAqD,UAASkJ,GAAT,EAAa;AACjE,SAAIoX,iBAAkBpX,IAAIte,IAAJ,KAAa,UAAd,GAA4B,KAAK21B,kBAAL,CAAwBrX,GAAxB,CAA5B,GAA2D,EAAhF;AACA3K,aAAQpU,IAAR,CAAa,KAAKwkB,QAAlB,EAA2B,UAAS6R,OAAT,EAAiB;AAC3CA,cAAQ9O,OAAR,CAAgB,CAAC,WAAD,CAAhB;AACA,MAFD;AAGAnT,aAAQpU,IAAR,CAAam2B,cAAb,EAA4B,UAASG,aAAT,EAAuB;AAClDA,oBAAc/Q,SAAd,GAA0B+Q,cAAcC,cAAxC;AACA,MAFD;AAGA,UAAK3S,WAAL,CAAiBuS,cAAjB;AACA,KATD;AAUA;;AAED,QAAKlT,MAAL;AACA,GAjEgB;AAkEjBmT,sBAAqB,4BAAS91B,CAAT,EAAW;AAC/B,OAAIq2B,gBAAgB,EAApB;;AAEA,OAAIC,WAAWxiB,QAAQ0K,mBAAR,CAA4Bxe,CAA5B,CAAf;;AAEA8T,WAAQpU,IAAR,CAAa,KAAKwkB,QAAlB,EAA2B,UAAS6R,OAAT,EAAiB;AAC3C,QAAIA,QAAQvO,OAAR,CAAgB8O,SAAS56B,CAAzB,EAA2B46B,SAAS9xB,CAApC,CAAJ,EAA4C6xB,cAAc10B,IAAd,CAAmBo0B,OAAnB;AAC5C,IAFD,EAEE,IAFF;AAGA,UAAOM,aAAP;AACA,GA3EgB;AA4EjBjB,WAAU,iBAASW,OAAT,EAAkBQ,OAAlB,EAA2BC,MAA3B,EAAkC;AAC3C,OAAItZ,QAAQqZ,WAAW,KAAKrS,QAAL,CAAcjkB,MAArC;;AAEA,QAAKikB,QAAL,CAAc8N,MAAd,CAAqB9U,KAArB,EAA4B,CAA5B,EAA+B,IAAI,KAAK0Y,UAAT,CAAoB;AAClD3Q,eAAW8Q,QAAQK,KAD+B;AAElDH,oBAAgBF,QAAQU,SAAR,IAAqBV,QAAQK,KAFK;AAGlD1L,WAAOqL,QAAQrL,KAHmC;AAIlDnT,WAAOwe,QAAQxe,KAJmC;AAKlDmR,iBAAc,KAAKvW,OAAL,CAAawjB,YAAd,GAA8B,CAA9B,GAAkC,KAAKtmB,KAAL,CAAW+e,qBAAX,CAAiC2H,QAAQxe,KAAzC,CALG;AAMlDmf,mBAAgB,KAAKvkB,OAAL,CAAaujB,aAAd,GAA+B,CAA/B,GAAmC,KAAKrmB,KAAL,CAAWkf,gBAAX,EANA;AAOlDlG,gBAAYzrB,KAAKE,EAAL,GAAU;AAP4B,IAApB,CAA/B;AASA,OAAI,CAAC05B,MAAL,EAAY;AACX,SAAK9T,MAAL;AACA,SAAKyE,MAAL;AACA;AACD,GA5FgB;AA6FjB9lB,cAAY,oBAASk1B,OAAT,EAAiB;AAC5B,OAAIM,gBAAiB/iB,QAAQqF,QAAR,CAAiBod,OAAjB,CAAD,GAA8BA,OAA9B,GAAwC,KAAKrS,QAAL,CAAcjkB,MAAd,GAAqB,CAAjF;AACA,QAAKikB,QAAL,CAAc8N,MAAd,CAAqB6E,aAArB,EAAoC,CAApC;AACA,QAAKnU,MAAL;AACA,QAAKyE,MAAL;AACA,GAlGgB;AAmGjB+O,kBAAgB,wBAASh1B,IAAT,EAAc;AAC7B,QAAK01B,KAAL,GAAa,CAAb;AACA9iB,WAAQpU,IAAR,CAAawB,IAAb,EAAkB,UAAS60B,OAAT,EAAiB;AAClC,SAAKa,KAAL,IAAcb,QAAQxe,KAAtB;AACA,IAFD,EAEE,IAFF;AAGA,QAAKlI,KAAL,CAAWic,WAAX,GAAyB,KAAKpH,QAAL,CAAcjkB,MAAvC;AACA,GAzGgB;AA0GjB64B,oBAAkB,0BAASC,UAAT,EAAoB;AACrC,OAAIvd,cAAc,EAAlB;AACA1H,WAAQpU,IAAR,CAAaq5B,UAAb,EAAwB,UAAShD,OAAT,EAAiB;AACxCva,gBAAY7Z,IAAZ,CAAiBo0B,QAAQxe,KAAzB;AACA,IAFD;;AAIA,OAAIyhB,aAAc,KAAK7mB,OAAL,CAAakC,aAAd,GAChB;AACCoI,WAAO,KAAKtK,OAAL,CAAamC,UADrB;AAECiI,eAAW,KAAKpK,OAAL,CAAaoC,cAFzB;AAGCxP,SAAK,KAAKoN,OAAL,CAAaqC,eAHnB;AAICxP,SAAK,KAAKmN,OAAL,CAAaqC,eAAb,GAAgC,KAAKrC,OAAL,CAAamC,UAAb,GAA0B,KAAKnC,OAAL,CAAaoC;AAJ7E,IADgB,GAOhBT,QAAQyH,mBAAR,CACCC,WADD,EAEC1H,QAAQ/O,GAAR,CAAY,CAAC,KAAKuO,KAAL,CAAWM,KAAZ,EAAmB,KAAKN,KAAL,CAAWT,MAA9B,CAAZ,IAAmD,CAFpD,EAGC,KAAKV,OAAL,CAAa6C,aAHd,EAIC,KAAK7C,OAAL,CAAa2C,gBAJd,EAKC,KAAK3C,OAAL,CAAa0C,iBALd,CAPD;;AAeAf,WAAQvY,MAAR,CACC,KAAK8T,KADN,EAEC2pB,UAFD,EAGC;AACC9K,UAAMpa,QAAQ/O,GAAR,CAAY,CAAC,KAAKuO,KAAL,CAAWM,KAAZ,EAAmB,KAAKN,KAAL,CAAWT,MAA9B,CAAZ,CADP;AAECmd,aAAS,KAAK1c,KAAL,CAAWM,KAAX,GAAiB,CAF3B;AAGCqc,aAAS,KAAK3c,KAAL,CAAWT,MAAX,GAAkB;AAH5B,IAHD;AAUA,GAzIgB;AA0IjBsU,UAAS,kBAAU;AAClB,QAAK+O,cAAL,CAAoB,KAAKhS,QAAzB;;AAEApQ,WAAQpU,IAAR,CAAa,KAAKwkB,QAAlB,EAA2B,UAAS6R,OAAT,EAAiB;AAC3CA,YAAQ/O,IAAR;AACA,IAFD;;AAIA,QAAKtE,MAAL;AACA,QAAKC,MAAL;AACA,GAnJgB;AAoJjBD,UAAS,kBAAU;AAClB5O,WAAQvY,MAAR,CAAe,KAAKq6B,UAAL,CAAgB50B,SAA/B,EAAyC;AACxCtF,OAAI,KAAK4X,KAAL,CAAWM,KAAX,GAAiB,CADmB;AAExCpP,OAAI,KAAK8O,KAAL,CAAWT,MAAX,GAAkB;AAFkB,IAAzC;AAIA,QAAKimB,gBAAL,CAAsB,KAAK5U,QAA3B;AACA,QAAK7U,KAAL,CAAW8X,MAAX;;AAEArT,WAAQvY,MAAR,CAAe,KAAK8T,KAApB,EAA0B;AACzB2gB,aAAS,KAAK1c,KAAL,CAAWM,KAAX,GAAiB,CADD;AAEzBqc,aAAS,KAAK3c,KAAL,CAAWT,MAAX,GAAkB;AAFF,IAA1B;;AAKAiB,WAAQpU,IAAR,CAAa,KAAKwkB,QAAlB,EAA4B,UAAS6R,OAAT,EAAiB;AAC5CA,YAAQ5O,MAAR,CAAe;AACduB,kBAAc,KAAKrZ,KAAL,CAAW+e,qBAAX,CAAiC2H,QAAQxe,KAAzC;AADA,KAAf;AAGA,IAJD,EAIG,IAJH;AAMA,GAvKgB;AAwKjBwL,QAAO,cAASuE,IAAT,EAAc;AACpB,OAAIwB,gBAAgBxB,QAAQ,CAA5B;AACA;AACA,QAAKzG,KAAL;AACA/M,WAAQpU,IAAR,CAAa,KAAKwkB,QAAlB,EAA2B,UAAS6R,OAAT,EAAkB7Y,KAAlB,EAAwB;AAClD6Y,YAAQ1O,UAAR,CAAmB;AAClBqP,oBAAgB,KAAKrnB,KAAL,CAAWkf,gBAAX,EADE;AAElB7F,kBAAc,KAAKrZ,KAAL,CAAW+e,qBAAX,CAAiC2H,QAAQxe,KAAzC;AAFI,KAAnB,EAGEuR,aAHF;;AAKAiN,YAAQzN,QAAR,GAAmByN,QAAQ1N,UAAR,GAAqB0N,QAAQW,aAAhD;;AAEA;AACA;AACA,QAAIxZ,UAAU,CAAd,EAAgB;AACf6Y,aAAQ1N,UAAR,GAAqBzrB,KAAKE,EAAL,GAAU,GAA/B;AACA;;AAED;AACA,QAAIogB,QAAQ,KAAKgH,QAAL,CAAcjkB,MAAd,GAAuB,CAAnC,EAAqC;AACpC,UAAKikB,QAAL,CAAchH,QAAM,CAApB,EAAuBmL,UAAvB,GAAoC0N,QAAQzN,QAA5C;AACA;AACDyN,YAAQhT,IAAR;AACA,IAnBD,EAmBG,IAnBH;AAoBA,QAAK1T,KAAL,CAAW0T,IAAX;AACA;AAjMgB,EAAlB;AAoMA,CAzPD,EAyPGriB,IAzPH;;AA2PA,CAAC,YAAU;AACV;;AAEA,KAAIwS,OAAO,IAAX;AAAA,KACCE,QAAQF,KAAKE,KADd;AAAA,KAECU,UAAUV,MAAMU,OAFjB;;AAMAV,OAAM8O,IAAN,CAAW3mB,MAAX,CAAkB;AACjBorB,QAAM,OADW;AAEjBnhB,YAAS;AACR;AACAqzB,kBAAgB,IAFR;;AAIR;AACAI,qBAAmB,IALX;;AAOR;AACAtkB,oBAAkB,KARV;;AAUR;AACAG,qBAAmB,IAXX;;AAaR;AACA8b,mBAAiB,gBAdT;;AAgBR;AACAD,mBAAiB,CAjBT;;AAmBR;AACAnB,yBAAuB,SApBf;;AAsBR;AACAD,wBAAsB,QAvBd;;AAyBR;AACAd,uBAAqB,EA1Bb;;AA4BR;AACA4C,wBAAsB,MA7Bd;;AA+BR;AACA6F,aAAW,IAhCH;;AAkCR;AACAC,mBAAiB,CAnCT;;AAqCR;AACAC,wBAAsB,CAtCd;;AAwCR;AACAC,4BAA0B,EAzClB;;AA2CR;AACAC,kBAAgB,IA5CR;;AA8CR;AACAC,uBAAqB,CA/Cb;;AAiDR;AACAC,gBAAc,IAlDN;;AAoDR;AACAtU,mBAAiB;;AArDT,GAFQ;;AA2DjBd,cAAY,oBAASlhB,IAAT,EAAc;AACzB,QAAKu2B,UAAL,GAAkBrkB,MAAMmU,KAAN,CAAYhsB,MAAZ,CAAmB;AACpCysB,iBAAc,KAAK7V,OAAL,CAAailB,mBADS;AAEpCzV,YAAS,KAAKxP,OAAL,CAAaglB,cAFc;AAGpCvxB,aAAS,KAAKuM,OAAL,CAAa+kB,QAHc;AAIpCtP,wBAAqB,KAAKzV,OAAL,CAAaklB,uBAJE;AAKpC7jB,SAAM,KAAKF,KAAL,CAAWE;AALmB,IAAnB,CAAlB;;AAQA,QAAKqQ,QAAL,GAAgB,EAAhB;;AAEA,QAAK6Q,UAAL,CAAgBxzB,IAAhB;;AAEA;AACA,OAAI,KAAKiR,OAAL,CAAakD,YAAjB,EAA8B;AAC7BvB,YAAQ8L,UAAR,CAAmB,IAAnB,EAAyB,KAAKzN,OAAL,CAAaoD,aAAtC,EAAqD,UAASkJ,GAAT,EAAa;AACjE,SAAIya,yBAA0Bza,IAAIte,IAAJ,KAAa,UAAd,GAA4B,KAAKw3B,gBAAL,CAAsBlZ,GAAtB,CAA5B,GAAyD,EAAtF;;AAEA,UAAKmZ,UAAL,CAAgB,UAASC,KAAT,EAAe;AAC9BA,YAAM5Q,OAAN,CAAc,CAAC,WAAD,EAAc,aAAd,CAAd;AACA,MAFD;AAGAnT,aAAQpU,IAAR,CAAaw5B,sBAAb,EAAqC,UAASpB,WAAT,EAAqB;AACzDA,kBAAY7S,SAAZ,GAAwB6S,YAAY1D,aAApC;AACA0D,kBAAY3S,WAAZ,GAA0B2S,YAAYzD,eAAtC;AACA,MAHD;;AAKA,UAAK/Q,WAAL,CAAiB4V,sBAAjB;AACA,KAZD;AAaA;;AAED;AACAplB,WAAQpU,IAAR,CAAawB,KAAK2iB,QAAlB,EAA2B,UAASgB,OAAT,EAAiB;;AAE3C,QAAI0P,gBAAgB;AACnB7J,YAAO7F,QAAQ6F,KAAR,IAAiB,IADL;AAEnBzF,gBAAYJ,QAAQI,SAFD;AAGnBE,kBAAcN,QAAQM,WAHH;AAInB4S,iBAAalT,QAAQkT,UAJF;AAKnBC,uBAAmBnT,QAAQmT,gBALR;AAMnBhU,aAAS;AANU,KAApB;;AASA,SAAKH,QAAL,CAAcliB,IAAd,CAAmB4yB,aAAnB;;AAEAzgB,YAAQpU,IAAR,CAAamlB,QAAQ3jB,IAArB,EAA0B,UAASszB,SAAT,EAAmBtX,KAAnB,EAAyB;AAClD;AACA,SAAIwR,aAAJ;AACA,SAAI,CAAC,KAAKrf,KAAL,CAAW4E,SAAhB,EAA0B;AACzBya,sBAAgB,KAAKrf,KAAL,CAAWogB,gBAAX,CAA4BvS,KAA5B,EAAmC,KAAK7N,KAAL,CAAW+e,qBAAX,CAAiCoG,SAAjC,CAAnC,CAAhB;AACA;AACDD,mBAAcvQ,MAAd,CAAqBriB,IAArB,CAA0B,IAAI,KAAK81B,UAAT,CAAoB;AAC7ClgB,aAAQid,SADqC;AAE7C9J,aAAQxpB,KAAK4kB,MAAL,CAAY5I,KAAZ,CAFqC;AAG7CuX,oBAAc5P,QAAQ6F,KAHuB;AAI7ChvB,SAAI,KAAKyW,OAAL,CAAa8B,SAAd,GAA2B,KAAK5E,KAAL,CAAW2gB,OAAtC,GAAgDtB,cAAchzB,CAJpB;AAK7C8I,SAAI,KAAK2N,OAAL,CAAa8B,SAAd,GAA2B,KAAK5E,KAAL,CAAW4gB,OAAtC,GAAgDvB,cAAclqB,CALpB;AAM7C2gB,mBAAcN,QAAQmT,gBANuB;AAO7C/S,iBAAYJ,QAAQkT,UAPyB;AAQ7C3D,qBAAgBvP,QAAQoT,kBAAR,IAA8BpT,QAAQkT,UART;AAS7C1D,uBAAkBxP,QAAQqT,oBAAR,IAAgCrT,QAAQmT;AATb,MAApB,CAA1B;AAWA,KAjBD,EAiBE,IAjBF;AAmBA,IAhCD,EAgCE,IAhCF;;AAkCA,QAAKrV,MAAL;AACA,GA7HgB;AA8HjBiV,cAAa,oBAAS5gB,QAAT,EAAkB;AAC9BlD,WAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA2B,UAASgB,OAAT,EAAiB;AAC3C/Q,YAAQpU,IAAR,CAAamlB,QAAQb,MAArB,EAA4BhN,QAA5B,EAAqC,IAArC;AACA,IAFD,EAEE,IAFF;AAGA,GAlIgB;;AAoIjB2gB,oBAAmB,0BAASlZ,GAAT,EAAa;AAC/B,OAAI0a,gBAAgBrlB,QAAQ0K,mBAAR,CAA4BC,GAA5B,CAApB;AAAA,OACC2a,aAAatlB,QAAQiG,iBAAR,CAA0B;AACtCre,OAAG,KAAK2T,KAAL,CAAW2gB,OADwB;AAEtCxrB,OAAG,KAAK6K,KAAL,CAAW4gB;AAFwB,IAA1B,EAGVkJ,aAHU,CADd;;AAMA,OAAIE,gBAAiBz8B,KAAKE,EAAL,GAAU,CAAX,GAAe,KAAKuS,KAAL,CAAWic,WAA9C;AAAA,OACCgO,aAAa18B,KAAKwH,KAAL,CAAW,CAACg1B,WAAW/e,KAAX,GAAmBzd,KAAKE,EAAL,GAAU,GAA9B,IAAqCu8B,aAAhD,CADd;AAAA,OAECH,yBAAyB,EAF1B;;AAIA;AACA,OAAII,cAAc,KAAKjqB,KAAL,CAAWic,WAAzB,IAAwCgO,aAAa,CAAzD,EAA2D;AAC1DA,iBAAa,CAAb;AACA;;AAED,OAAIF,WAAW7e,QAAX,IAAuB,KAAKlL,KAAL,CAAWud,WAAtC,EAAkD;AACjD9Y,YAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA4B,UAASgB,OAAT,EAAiB;AAC5CqU,4BAAuBv3B,IAAvB,CAA4BkjB,QAAQb,MAAR,CAAesV,UAAf,CAA5B;AACA,KAFD;AAGA;;AAED,UAAOJ,sBAAP;AACA,GA3JgB;;AA6JjBxE,cAAa,oBAASxzB,IAAT,EAAc;AAC1B,QAAKmO,KAAL,GAAa,IAAI+D,MAAM6a,WAAV,CAAsB;AAClCroB,aAAS,KAAKuM,OAAL,CAAaiC,SADY;AAElC6M,eAAW,KAAK9O,OAAL,CAAa8C,cAFU;AAGlCxF,cAAU,KAAK0C,OAAL,CAAa6C,aAHW;AAIlCkM,gBAAY,KAAK/O,OAAL,CAAa4C,eAJS;AAKlC2b,eAAW,KAAKve,OAAL,CAAa+C,cALU;AAMlCiW,gBAAY,KAAKhZ,OAAL,CAAawC,eANS;AAOlC4b,uBAAmB,KAAKpe,OAAL,CAAasmB,sBAPE;AAQlCjI,mBAAe,KAAKre,OAAL,CAAaumB,kBARM;AASlC3H,sBAAkB,KAAK5e,OAAL,CAAaonB,qBATG;AAUlCpL,sBAAmB,KAAKhc,OAAL,CAAawmB,qBAVE;AAWlClI,sBAAkB,KAAKte,OAAL,CAAaymB,qBAXG;AAYlC7Q,eAAY,KAAK5V,OAAL,CAAa0mB,aAAd,GAA+B,KAAK1mB,OAAL,CAAauC,cAA5C,GAA6D,CAZtC;AAalCkZ,eAAW,KAAKzb,OAAL,CAAasC,cAbU;AAclCmc,oBAAiB,KAAKze,OAAL,CAAaye,cAdI;AAelCD,oBAAkB,KAAKxe,OAAL,CAAa8mB,gBAAd,GAAkC,KAAK9mB,OAAL,CAAawe,cAA/C,GAAgE,CAf/C;AAgBlC;AACAU,yBAAsB,KAAKlf,OAAL,CAAakf,mBAjBD;AAkBlC5C,wBAAqB,KAAKtc,OAAL,CAAasc,kBAlBA;AAmBlCe,0BAAuB,KAAKrd,OAAL,CAAaqd,oBAnBF;AAoBlCD,yBAAsB,KAAKpd,OAAL,CAAaod,mBApBD;AAqBlC1c,YAAS,KAAKS,KAAL,CAAWT,MArBc;AAsBlCe,WAAO,KAAKN,KAAL,CAAWM,KAtBgB;AAuBlCoc,aAAS,KAAK1c,KAAL,CAAWM,KAAX,GAAiB,CAvBQ;AAwBlCqc,aAAS,KAAK3c,KAAL,CAAWT,MAAX,GAAkB,CAxBO;AAyBlCW,SAAM,KAAKF,KAAL,CAAWE,GAzBiB;AA0BlCmJ,oBAAgB,KAAKxK,OAAL,CAAayC,UA1BK;AA2BlCkR,YAAQ5kB,KAAK4kB,MA3BqB;AA4BlCwF,iBAAapqB,KAAK2iB,QAAL,CAAc,CAAd,EAAiB3iB,IAAjB,CAAsBjB;AA5BD,IAAtB,CAAb;;AA+BA,QAAKoP,KAAL,CAAWif,YAAX;AACA,QAAKwK,gBAAL,CAAsB53B,KAAK2iB,QAA3B;AACA,QAAKxU,KAAL,CAAWyb,YAAX;AACA,GAhMgB;AAiMjBgO,oBAAkB,0BAASjV,QAAT,EAAkB;AACnC,OAAIrI,cAAe,YAAU;AAC5B,QAAIge,iBAAiB,EAArB;AACA1lB,YAAQpU,IAAR,CAAamkB,QAAb,EAAsB,UAASgB,OAAT,EAAiB;AACtC,SAAIA,QAAQ3jB,IAAZ,EAAiB;AAChBs4B,uBAAiBA,eAAej0B,MAAf,CAAsBsf,QAAQ3jB,IAA9B,CAAjB;AACA,MAFD,MAGK;AACJ4S,cAAQpU,IAAR,CAAamlB,QAAQb,MAArB,EAA6B,UAAS6T,KAAT,EAAe;AAC3C2B,sBAAe73B,IAAf,CAAoBk2B,MAAMtgB,KAA1B;AACA,OAFD;AAGA;AACD,KATD;AAUA,WAAOiiB,cAAP;AACA,IAbiB,EAAlB;;AAgBA,OAAIR,aAAc,KAAK7mB,OAAL,CAAakC,aAAd,GAChB;AACCoI,WAAO,KAAKtK,OAAL,CAAamC,UADrB;AAECiI,eAAW,KAAKpK,OAAL,CAAaoC,cAFzB;AAGCxP,SAAK,KAAKoN,OAAL,CAAaqC,eAHnB;AAICxP,SAAK,KAAKmN,OAAL,CAAaqC,eAAb,GAAgC,KAAKrC,OAAL,CAAamC,UAAb,GAA0B,KAAKnC,OAAL,CAAaoC;AAJ7E,IADgB,GAOhBT,QAAQyH,mBAAR,CACCC,WADD,EAEC1H,QAAQ/O,GAAR,CAAY,CAAC,KAAKuO,KAAL,CAAWM,KAAZ,EAAmB,KAAKN,KAAL,CAAWT,MAA9B,CAAZ,IAAmD,CAFpD,EAGC,KAAKV,OAAL,CAAa6C,aAHd,EAIC,KAAK7C,OAAL,CAAa2C,gBAJd,EAKC,KAAK3C,OAAL,CAAa0C,iBALd,CAPD;;AAeAf,WAAQvY,MAAR,CACC,KAAK8T,KADN,EAEC2pB,UAFD;AAKA,GAtOgB;AAuOjB5D,WAAU,iBAAS5Z,WAAT,EAAqBkP,KAArB,EAA2B;AACpC;AACA,QAAKrb,KAAL,CAAWic,WAAX;AACAxX,WAAQpU,IAAR,CAAa8b,WAAb,EAAyB,UAASjE,KAAT,EAAegc,YAAf,EAA4B;AACpD,QAAI7E,gBAAgB,KAAKrf,KAAL,CAAWogB,gBAAX,CAA4B,KAAKpgB,KAAL,CAAWic,WAAvC,EAAoD,KAAKjc,KAAL,CAAW+e,qBAAX,CAAiC7W,KAAjC,CAApD,CAApB;AACA,SAAKsM,QAAL,CAAc0P,YAAd,EAA4BvP,MAA5B,CAAmCriB,IAAnC,CAAwC,IAAI,KAAK81B,UAAT,CAAoB;AAC3DlgB,YAAQA,KADmD;AAE3DmT,YAAQA,KAFmD;AAG3D+J,mBAAc,KAAK5Q,QAAL,CAAc0P,YAAd,EAA4B7I,KAHiB;AAI3DhvB,QAAGgzB,cAAchzB,CAJ0C;AAK3D8I,QAAGkqB,cAAclqB,CAL0C;AAM3D2gB,kBAAc,KAAKtB,QAAL,CAAc0P,YAAd,EAA4ByE,gBANiB;AAO3D/S,gBAAY,KAAKpB,QAAL,CAAc0P,YAAd,EAA4BwE;AAPmB,KAApB,CAAxC;AASA,IAXD,EAWE,IAXF;;AAaA,QAAK1oB,KAAL,CAAWyW,MAAX,CAAkBnkB,IAAlB,CAAuB+oB,KAAvB;;AAEA,QAAKhI,MAAL;;AAEA,QAAKyE,MAAL;AACA,GA5PgB;AA6PjB9lB,cAAa,sBAAU;AACtB,QAAKgO,KAAL,CAAWic,WAAX;AACA,QAAKjc,KAAL,CAAWyW,MAAX,CAAkBjkB,KAAlB;AACAiS,WAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA2B,UAASgB,OAAT,EAAiB;AAC3CA,YAAQb,MAAR,CAAeniB,KAAf;AACA,IAFD,EAEE,IAFF;AAGA,QAAK6gB,MAAL;AACA,QAAKyE,MAAL;AACA,GArQgB;AAsQjBA,UAAS,kBAAU;AAClB,QAAKyQ,UAAL,CAAgB,UAASC,KAAT,EAAe;AAC9BA,UAAM7Q,IAAN;AACA,IAFD;AAGA,QAAKtE,MAAL;AACA,QAAKC,MAAL;AACA,GA5QgB;AA6QjBD,UAAQ,kBAAU;AACjB5O,WAAQvY,MAAR,CAAe,KAAK8T,KAApB,EAA2B;AAC1BuE,WAAQ,KAAKN,KAAL,CAAWM,KADO;AAE1Bf,YAAQ,KAAKS,KAAL,CAAWT,MAFO;AAG1Bqb,UAAOpa,QAAQ/O,GAAR,CAAY,CAAC,KAAKuO,KAAL,CAAWM,KAAZ,EAAmB,KAAKN,KAAL,CAAWT,MAA9B,CAAZ,CAHmB;AAI1Bmd,aAAS,KAAK1c,KAAL,CAAWM,KAAX,GAAiB,CAJA;AAK1Bqc,aAAS,KAAK3c,KAAL,CAAWT,MAAX,GAAkB;AALD,IAA3B;AAOA,QAAKimB,gBAAL,CAAsB,KAAKjV,QAA3B;AACA,QAAKxU,KAAL,CAAWif,YAAX;AACA,QAAKjf,KAAL,CAAWyb,YAAX;AACA,GAxRgB;AAyRjB/H,QAAO,cAASuE,IAAT,EAAc;AACpB,OAAI/I,cAAc+I,QAAQ,CAA1B;AAAA,OACC9T,MAAM,KAAKF,KAAL,CAAWE,GADlB;AAEA,QAAKqN,KAAL;AACA,QAAKxR,KAAL,CAAW0T,IAAX;;AAEAjP,WAAQpU,IAAR,CAAa,KAAKmkB,QAAlB,EAA2B,UAASgB,OAAT,EAAiB;;AAE3C;AACA/Q,YAAQpU,IAAR,CAAamlB,QAAQb,MAArB,EAA4B,UAAS6T,KAAT,EAAe3a,KAAf,EAAqB;AAChD,SAAI2a,MAAM/S,QAAN,EAAJ,EAAqB;AACpB+S,YAAMxQ,UAAN,CAAiB,KAAKhY,KAAL,CAAWogB,gBAAX,CAA4BvS,KAA5B,EAAmC,KAAK7N,KAAL,CAAW+e,qBAAX,CAAiCyJ,MAAMtgB,KAAvC,CAAnC,CAAjB,EAAoGgH,WAApG;AACA;AACD,KAJD,EAIE,IAJF;;AAQA;AACA/K,QAAIuU,SAAJ,GAAgB,KAAK5V,OAAL,CAAaolB,kBAA7B;AACA/jB,QAAIsU,WAAJ,GAAkBjD,QAAQM,WAA1B;AACA3R,QAAIoO,SAAJ;AACA9N,YAAQpU,IAAR,CAAamlB,QAAQb,MAArB,EAA4B,UAAS6T,KAAT,EAAe3a,KAAf,EAAqB;AAChD,SAAIA,UAAU,CAAd,EAAgB;AACf1J,UAAIqO,MAAJ,CAAWgW,MAAMn8B,CAAjB,EAAmBm8B,MAAMrzB,CAAzB;AACA,MAFD,MAGI;AACHgP,UAAIsO,MAAJ,CAAW+V,MAAMn8B,CAAjB,EAAmBm8B,MAAMrzB,CAAzB;AACA;AACD,KAPD,EAOE,IAPF;AAQAgP,QAAIwO,SAAJ;AACAxO,QAAI0R,MAAJ;;AAEA1R,QAAIyU,SAAJ,GAAgBpD,QAAQI,SAAxB;AACA,QAAG,KAAK9S,OAAL,CAAaqlB,WAAhB,EAA4B;AAC3BhkB,SAAIuR,IAAJ;AACA;AACD;AACA;AACA;AACAjR,YAAQpU,IAAR,CAAamlB,QAAQb,MAArB,EAA4B,UAAS6T,KAAT,EAAe;AAC1C,SAAIA,MAAM/S,QAAN,EAAJ,EAAqB;AACpB+S,YAAM9U,IAAN;AACA;AACD,KAJD;AAMA,IAvCD,EAuCE,IAvCF;AAyCA;;AAxUgB,EAAlB;AAgVA,CAzVD,EAyVGriB,IAzVH;AA0VA;;AAEA,CAAC,YAAW;AACV,KAAI+4B,gBAAJ;AAAA,KAAsBC,IAAtB;AAAA,KAA4BC,OAA5B;AAAA,KAAqCjrB,gBAArC;AAAA,KAAuDkrB,kBAAvD;AAAA,KACEC,OAAO,SAAPA,IAAO,CAASv5B,EAAT,EAAaw5B,EAAb,EAAgB;AAAE,SAAO,YAAU;AAAE,UAAOx5B,GAAGW,KAAH,CAAS64B,EAAT,EAAax4B,SAAb,CAAP;AAAiC,GAApD;AAAuD,EADlF;AAAA,KAEEwW,UAAU,GAAGA,OAAH,IAAc,UAASX,IAAT,EAAe;AAAE,OAAK,IAAI1W,IAAI,CAAR,EAAWc,IAAI,KAAKtB,MAAzB,EAAiCQ,IAAIc,CAArC,EAAwCd,GAAxC,EAA6C;AAAE,OAAIA,KAAK,IAAL,IAAa,KAAKA,CAAL,MAAY0W,IAA7B,EAAmC,OAAO1W,CAAP;AAAW,GAAC,OAAO,CAAC,CAAR;AAAY,EAFrJ;;AAIAi5B,QAAQ,YAAW;AACjB,WAASA,IAAT,GAAgB,CAAE;;AAElBA,OAAK14B,SAAL,CAAezF,MAAf,GAAwB,UAAS2qB,MAAT,EAAiB1gB,QAAjB,EAA2B;AACjD,OAAIgS,GAAJ,EAASD,KAAT;AACA,QAAKC,GAAL,IAAYhS,QAAZ,EAAsB;AACpB+R,YAAQ/R,SAASgS,GAAT,CAAR;AACA,QAAI0O,OAAO1O,GAAP,KAAe,IAAnB,EAAyB;AACvB0O,YAAO1O,GAAP,IAAcD,KAAd;AACD;AACF;AACD,UAAO2O,MAAP;AACD,GATD;;AAWAwT,OAAK14B,SAAL,CAAeoI,QAAf,GAA0B,UAAS2wB,KAAT,EAAgB;AACxC,UAAO,kEAAiEh3B,IAAjE,CAAsEg3B,KAAtE;AAAP;AACD,GAFD;;AAIAL,OAAK14B,SAAL,CAAeg5B,WAAf,GAA6B,UAASC,KAAT,EAAgBC,MAAhB,EAAwBC,MAAxB,EAAgCC,MAAhC,EAAwC;AACnE,OAAIC,WAAJ;AACA,OAAIH,UAAU,IAAd,EAAoB;AAClBA,aAAS,KAAT;AACD;AACD,OAAIC,UAAU,IAAd,EAAoB;AAClBA,aAAS,KAAT;AACD;AACD,OAAIC,UAAU,IAAd,EAAoB;AAClBA,aAAS,IAAT;AACD;AACD,OAAI/3B,SAAS23B,WAAT,IAAwB,IAA5B,EAAkC;AAChCK,kBAAch4B,SAAS23B,WAAT,CAAqB,aAArB,CAAd;AACAK,gBAAYC,eAAZ,CAA4BL,KAA5B,EAAmCC,MAAnC,EAA2CC,MAA3C,EAAmDC,MAAnD;AACD,IAHD,MAGO,IAAI/3B,SAASk4B,iBAAT,IAA8B,IAAlC,EAAwC;AAC7CF,kBAAch4B,SAASk4B,iBAAT,EAAd;AACAF,gBAAYhb,SAAZ,GAAwB4a,KAAxB;AACD,IAHM,MAGA;AACLI,gBAAYta,SAAZ,GAAwBka,KAAxB;AACD;AACD,UAAOI,WAAP;AACD,GArBD;;AAuBAX,OAAK14B,SAAL,CAAew5B,SAAf,GAA2B,UAASC,IAAT,EAAeR,KAAf,EAAsB;AAC/C,OAAIQ,KAAKC,aAAL,IAAsB,IAA1B,EAAgC;AAC9B,WAAOD,KAAKC,aAAL,CAAmBT,KAAnB,CAAP;AACD,IAFD,MAEO,IAAIA,UAAUQ,QAAQ,IAAlB,CAAJ,EAA6B;AAClC,WAAOA,KAAKR,KAAL,GAAP;AACD,IAFM,MAEA,IAAK,OAAOA,KAAR,KAAmBQ,QAAQ,IAA3B,CAAJ,EAAsC;AAC3C,WAAOA,KAAK,OAAOR,KAAZ,GAAP;AACD;AACF,GARD;;AAUAP,OAAK14B,SAAL,CAAeme,QAAf,GAA0B,UAASsb,IAAT,EAAeR,KAAf,EAAsB35B,EAAtB,EAA0B;AAClD,OAAIm6B,KAAK7nB,gBAAL,IAAyB,IAA7B,EAAmC;AACjC,WAAO6nB,KAAK7nB,gBAAL,CAAsBqnB,KAAtB,EAA6B35B,EAA7B,EAAiC,KAAjC,CAAP;AACD,IAFD,MAEO,IAAIm6B,KAAKlb,WAAL,IAAoB,IAAxB,EAA8B;AACnC,WAAOkb,KAAKlb,WAAL,CAAiB,OAAO0a,KAAxB,EAA+B35B,EAA/B,CAAP;AACD,IAFM,MAEA;AACL,WAAOm6B,KAAKR,KAAL,IAAc35B,EAArB;AACD;AACF,GARD;;AAUAo5B,OAAK14B,SAAL,CAAewe,WAAf,GAA6B,UAASib,IAAT,EAAeR,KAAf,EAAsB35B,EAAtB,EAA0B;AACrD,OAAIm6B,KAAK/a,mBAAL,IAA4B,IAAhC,EAAsC;AACpC,WAAO+a,KAAK/a,mBAAL,CAAyBua,KAAzB,EAAgC35B,EAAhC,EAAoC,KAApC,CAAP;AACD,IAFD,MAEO,IAAIm6B,KAAK9a,WAAL,IAAoB,IAAxB,EAA8B;AACnC,WAAO8a,KAAK9a,WAAL,CAAiB,OAAOsa,KAAxB,EAA+B35B,EAA/B,CAAP;AACD,IAFM,MAEA;AACL,WAAO,OAAOm6B,KAAKR,KAAL,CAAd;AACD;AACF,GARD;;AAUAP,OAAK14B,SAAL,CAAe0P,WAAf,GAA6B,YAAW;AACtC,OAAI,iBAAiBjS,MAArB,EAA6B;AAC3B,WAAOA,OAAOiS,WAAd;AACD,IAFD,MAEO;AACL,WAAOrO,SAASyI,eAAT,CAAyByV,YAAhC;AACD;AACF,GAND;;AAQA,SAAOmZ,IAAP;AAED,EAjFM,EAAP;;AAmFAC,WAAU,KAAKA,OAAL,IAAgB,KAAKgB,UAArB,KAAoChB,UAAW,YAAW;AAClE,WAASA,OAAT,GAAmB;AACjB,QAAKiB,IAAL,GAAY,EAAZ;AACA,QAAK5e,MAAL,GAAc,EAAd;AACD;;AAED2d,UAAQ34B,SAAR,CAAkB65B,GAAlB,GAAwB,UAASrjB,GAAT,EAAc;AACpC,OAAI/W,CAAJ,EAAO0W,IAAP,EAAajR,CAAb,EAAgB40B,GAAhB,EAAqBC,GAArB;AACAA,SAAM,KAAKH,IAAX;AACA,QAAKn6B,IAAIyF,IAAI,CAAR,EAAW40B,MAAMC,IAAI96B,MAA1B,EAAkCiG,IAAI40B,GAAtC,EAA2Cr6B,IAAI,EAAEyF,CAAjD,EAAoD;AAClDiR,WAAO4jB,IAAIt6B,CAAJ,CAAP;AACA,QAAI0W,SAASK,GAAb,EAAkB;AAChB,YAAO,KAAKwE,MAAL,CAAYvb,CAAZ,CAAP;AACD;AACF;AACF,GATD;;AAWAk5B,UAAQ34B,SAAR,CAAkBg6B,GAAlB,GAAwB,UAASxjB,GAAT,EAAcD,KAAd,EAAqB;AAC3C,OAAI9W,CAAJ,EAAO0W,IAAP,EAAajR,CAAb,EAAgB40B,GAAhB,EAAqBC,GAArB;AACAA,SAAM,KAAKH,IAAX;AACA,QAAKn6B,IAAIyF,IAAI,CAAR,EAAW40B,MAAMC,IAAI96B,MAA1B,EAAkCiG,IAAI40B,GAAtC,EAA2Cr6B,IAAI,EAAEyF,CAAjD,EAAoD;AAClDiR,WAAO4jB,IAAIt6B,CAAJ,CAAP;AACA,QAAI0W,SAASK,GAAb,EAAkB;AAChB,UAAKwE,MAAL,CAAYvb,CAAZ,IAAiB8W,KAAjB;AACA;AACD;AACF;AACD,QAAKqjB,IAAL,CAAUj5B,IAAV,CAAe6V,GAAf;AACA,UAAO,KAAKwE,MAAL,CAAYra,IAAZ,CAAiB4V,KAAjB,CAAP;AACD,GAZD;;AAcA,SAAOoiB,OAAP;AAED,EAjCuD,EAA9C,CAAV;;AAmCAF,oBAAmB,KAAKA,gBAAL,IAAyB,KAAKwB,sBAA9B,IAAwD,KAAKC,mBAA7D,KAAqFzB,mBAAoB,YAAW;AACrI,WAASA,gBAAT,GAA4B;AAC1B,OAAI,OAAO35B,OAAP,KAAmB,WAAnB,IAAkCA,YAAY,IAAlD,EAAwD;AACtDA,YAAQmZ,IAAR,CAAa,oDAAb;AACD;AACD,OAAI,OAAOnZ,OAAP,KAAmB,WAAnB,IAAkCA,YAAY,IAAlD,EAAwD;AACtDA,YAAQmZ,IAAR,CAAa,oFAAb;AACD;AACF;;AAEDwgB,mBAAiB0B,YAAjB,GAAgC,IAAhC;;AAEA1B,mBAAiBz4B,SAAjB,CAA2Bo6B,OAA3B,GAAqC,YAAW,CAAE,CAAlD;;AAEA,SAAO3B,gBAAP;AAED,EAhB0H,EAAxG,CAAnB;;AAkBA/qB,oBAAmB,KAAKA,gBAAL,IAAyB,UAAS8R,EAAT,EAAa6a,MAAb,EAAqB;AAC/D,OAAK9sB,gBAAL,GAAwB,UAAS+sB,IAAT,EAAe;AACrC,OAAIP,GAAJ;AACA,OAAIO,SAAS,OAAb,EAAsB;AACpBA,WAAO,YAAP;AACD;AACD,OAAI1B,mBAAmB72B,IAAnB,CAAwBu4B,IAAxB,CAAJ,EAAmC;AACjCA,SAAKzuB,OAAL,CAAa+sB,kBAAb,EAAiC,UAAS2B,CAAT,EAAYC,KAAZ,EAAmB;AAClD,YAAOA,MAAM5tB,WAAN,EAAP;AACD,KAFD;AAGD;AACD,UAAO,CAAC,CAACmtB,MAAMva,GAAGE,YAAV,KAA2B,IAA3B,GAAkCqa,IAAIO,IAAJ,CAAlC,GAA8C,KAAK,CAApD,KAA0D,IAAjE;AACD,GAXD;AAYA,SAAO,IAAP;AACD,EAdD;;AAgBA1B,sBAAqB,iBAArB;;AAEA,MAAK6B,GAAL,GAAY,YAAW;AACrBA,MAAIz6B,SAAJ,CAAcwE,QAAd,GAAyB;AACvBk2B,aAAU,KADa;AAEvBC,iBAAc,UAFS;AAGvB35B,WAAQ,CAHe;AAIvB45B,WAAQ,IAJe;AAKvBC,SAAM,IALiB;AAMvB7kB,aAAU,IANa;AAOvB8kB,oBAAiB;AAPM,GAAzB;;AAUA,WAASL,GAAT,CAAatpB,OAAb,EAAsB;AACpB,OAAIA,WAAW,IAAf,EAAqB;AACnBA,cAAU,EAAV;AACD;AACD,QAAK4pB,cAAL,GAAsBlC,KAAK,KAAKkC,cAAV,EAA0B,IAA1B,CAAtB;AACA,QAAKC,aAAL,GAAqBnC,KAAK,KAAKmC,aAAV,EAAyB,IAAzB,CAArB;AACA,QAAKC,cAAL,GAAsBpC,KAAK,KAAKoC,cAAV,EAA0B,IAA1B,CAAtB;AACA,QAAKC,KAAL,GAAarC,KAAK,KAAKqC,KAAV,EAAiB,IAAjB,CAAb;AACA,QAAKC,QAAL,GAAgB,IAAhB;AACA,QAAKrV,MAAL,GAAc,KAAKsV,IAAL,GAAY7gC,MAAZ,CAAmB4W,OAAnB,EAA4B,KAAK3M,QAAjC,CAAd;AACA,OAAI2M,QAAQ2pB,eAAR,IAA2B,IAA/B,EAAqC;AACnC,SAAKhV,MAAL,CAAYgV,eAAZ,GAA8Bz5B,SAASg6B,aAAT,CAAuBlqB,QAAQ2pB,eAA/B,CAA9B;AACD;AACD,QAAKQ,kBAAL,GAA0B,IAAI3C,OAAJ,EAA1B;AACA,QAAK4C,QAAL,GAAgB,KAAKH,IAAL,GAAYpC,WAAZ,CAAwB,KAAKlT,MAAL,CAAY4U,QAApC,CAAhB;AACD;;AAEDD,MAAIz6B,SAAJ,CAAcT,IAAd,GAAqB,YAAW;AAC9B,OAAIw6B,GAAJ;AACA,QAAK57B,OAAL,GAAeV,OAAO4D,QAAP,CAAgByI,eAA/B;AACA,OAAI,CAACiwB,MAAM14B,SAASm6B,UAAhB,MAAgC,aAAhC,IAAiDzB,QAAQ,UAA7D,EAAyE;AACvE,SAAKmB,KAAL;AACD,IAFD,MAEO;AACL,SAAKE,IAAL,GAAYjd,QAAZ,CAAqB9c,QAArB,EAA+B,kBAA/B,EAAmD,KAAK65B,KAAxD;AACD;AACD,UAAO,KAAKO,QAAL,GAAgB,EAAvB;AACD,GATD;;AAWAhB,MAAIz6B,SAAJ,CAAck7B,KAAd,GAAsB,YAAW;AAC/B,OAAIQ,GAAJ,EAASx2B,CAAT,EAAY40B,GAAZ,EAAiBC,GAAjB;AACA,QAAK4B,OAAL,GAAe,KAAf;AACA,QAAKC,KAAL,GAAc,YAAW;AACvB,QAAI12B,CAAJ,EAAO40B,GAAP,EAAYC,GAAZ,EAAiB8B,OAAjB;AACA9B,UAAM,KAAK57B,OAAL,CAAa29B,gBAAb,CAA8B,MAAM,KAAKhW,MAAL,CAAY4U,QAAhD,CAAN;AACAmB,cAAU,EAAV;AACA,SAAK32B,IAAI,CAAJ,EAAO40B,MAAMC,IAAI96B,MAAtB,EAA8BiG,IAAI40B,GAAlC,EAAuC50B,GAAvC,EAA4C;AAC1Cw2B,WAAM3B,IAAI70B,CAAJ,CAAN;AACA22B,aAAQl7B,IAAR,CAAa+6B,GAAb;AACD;AACD,WAAOG,OAAP;AACD,IATY,CASVn8B,IATU,CASL,IATK,CAAb;AAUA,QAAKq8B,GAAL,GAAY,YAAW;AACrB,QAAI72B,CAAJ,EAAO40B,GAAP,EAAYC,GAAZ,EAAiB8B,OAAjB;AACA9B,UAAM,KAAK6B,KAAX;AACAC,cAAU,EAAV;AACA,SAAK32B,IAAI,CAAJ,EAAO40B,MAAMC,IAAI96B,MAAtB,EAA8BiG,IAAI40B,GAAlC,EAAuC50B,GAAvC,EAA4C;AAC1Cw2B,WAAM3B,IAAI70B,CAAJ,CAAN;AACA22B,aAAQl7B,IAAR,CAAa+6B,GAAb;AACD;AACD,WAAOG,OAAP;AACD,IATU,CASRn8B,IATQ,CASH,IATG,CAAX;AAUA,OAAI,KAAKk8B,KAAL,CAAW38B,MAAf,EAAuB;AACrB,QAAI,KAAK+8B,QAAL,EAAJ,EAAqB;AACnB,UAAKC,UAAL;AACD,KAFD,MAEO;AACLlC,WAAM,KAAK6B,KAAX;AACA,UAAK12B,IAAI,CAAJ,EAAO40B,MAAMC,IAAI96B,MAAtB,EAA8BiG,IAAI40B,GAAlC,EAAuC50B,GAAvC,EAA4C;AAC1Cw2B,YAAM3B,IAAI70B,CAAJ,CAAN;AACA,WAAKg3B,UAAL,CAAgBR,GAAhB,EAAqB,IAArB;AACD;AACF;AACF;AACD,OAAI,CAAC,KAAKM,QAAL,EAAL,EAAsB;AACpB,SAAKZ,IAAL,GAAYjd,QAAZ,CAAqB,KAAK2H,MAAL,CAAYgV,eAAZ,IAA+Br9B,MAApD,EAA4D,QAA5D,EAAsE,KAAKu9B,aAA3E;AACA,SAAKI,IAAL,GAAYjd,QAAZ,CAAqB1gB,MAArB,EAA6B,QAA7B,EAAuC,KAAKu9B,aAA5C;AACA,SAAKmB,QAAL,GAAgBC,YAAY,KAAKrB,cAAjB,EAAiC,EAAjC,CAAhB;AACD;AACD,OAAI,KAAKjV,MAAL,CAAY+U,IAAhB,EAAsB;AACpB,WAAO,IAAIpC,gBAAJ,CAAsB,UAAS4D,KAAT,EAAgB;AAC3C,YAAO,UAASC,OAAT,EAAkB;AACvB,UAAIv3B,CAAJ,EAAOw3B,IAAP,EAAane,IAAb,EAAmBoe,MAAnB,EAA2BX,OAA3B;AACAA,gBAAU,EAAV;AACA,WAAK92B,IAAI,CAAJ,EAAOw3B,OAAOD,QAAQr9B,MAA3B,EAAmC8F,IAAIw3B,IAAvC,EAA6Cx3B,GAA7C,EAAkD;AAChDy3B,gBAASF,QAAQv3B,CAAR,CAAT;AACA82B,eAAQl7B,IAAR,CAAc,YAAW;AACvB,YAAIJ,CAAJ,EAAOk8B,IAAP,EAAaC,IAAb,EAAmBC,QAAnB;AACAD,eAAOF,OAAOI,UAAP,IAAqB,EAA5B;AACAD,mBAAW,EAAX;AACA,aAAKp8B,IAAI,CAAJ,EAAOk8B,OAAOC,KAAKz9B,MAAxB,EAAgCsB,IAAIk8B,IAApC,EAA0Cl8B,GAA1C,EAA+C;AAC7C6d,gBAAOse,KAAKn8B,CAAL,CAAP;AACAo8B,kBAASh8B,IAAT,CAAc,KAAKk8B,MAAL,CAAYze,IAAZ,CAAd;AACD;AACD,eAAOue,QAAP;AACD,QATY,CASVj9B,IATU,CASL28B,KATK,CAAb;AAUD;AACD,aAAOR,OAAP;AACD,MAjBD;AAkBD,KAnB2B,CAmBzB,IAnByB,CAArB,EAmBGzB,OAnBH,CAmBW/4B,SAAS0I,IAnBpB,EAmB0B;AAC/B+yB,gBAAW,IADoB;AAE/BC,cAAS;AAFsB,KAnB1B,CAAP;AAuBD;AACF,GAhED;;AAkEAtC,MAAIz6B,SAAJ,CAAcqhB,IAAd,GAAqB,YAAW;AAC9B,QAAKsa,OAAL,GAAe,IAAf;AACA,QAAKP,IAAL,GAAY5c,WAAZ,CAAwB,KAAKsH,MAAL,CAAYgV,eAAZ,IAA+Br9B,MAAvD,EAA+D,QAA/D,EAAyE,KAAKu9B,aAA9E;AACA,QAAKI,IAAL,GAAY5c,WAAZ,CAAwB/gB,MAAxB,EAAgC,QAAhC,EAA0C,KAAKu9B,aAA/C;AACA,OAAI,KAAKmB,QAAL,IAAiB,IAArB,EAA2B;AACzB,WAAOa,cAAc,KAAKb,QAAnB,CAAP;AACD;AACF,GAPD;;AASA1B,MAAIz6B,SAAJ,CAAci9B,IAAd,GAAqB,UAAS9+B,OAAT,EAAkB;AACrC,OAAIs6B,iBAAiB0B,YAArB,EAAmC;AACjC,WAAO,KAAK0C,MAAL,CAAY,KAAK1+B,OAAjB,CAAP;AACD;AACF,GAJD;;AAMAs8B,MAAIz6B,SAAJ,CAAc68B,MAAd,GAAuB,UAAS1+B,OAAT,EAAkB;AACvC,OAAIu9B,GAAJ,EAASx2B,CAAT,EAAY40B,GAAZ,EAAiBC,GAAjB,EAAsB8B,OAAtB;AACA,OAAI19B,WAAW,IAAf,EAAqB;AACnBA,cAAU,KAAKA,OAAf;AACD;AACD,OAAIA,QAAQkB,QAAR,KAAqB,CAAzB,EAA4B;AAC1B;AACD;AACDlB,aAAUA,QAAQ6L,UAAR,IAAsB7L,OAAhC;AACA47B,SAAM57B,QAAQ29B,gBAAR,CAAyB,MAAM,KAAKhW,MAAL,CAAY4U,QAA3C,CAAN;AACAmB,aAAU,EAAV;AACA,QAAK32B,IAAI,CAAJ,EAAO40B,MAAMC,IAAI96B,MAAtB,EAA8BiG,IAAI40B,GAAlC,EAAuC50B,GAAvC,EAA4C;AAC1Cw2B,UAAM3B,IAAI70B,CAAJ,CAAN;AACA,QAAI4R,QAAQpX,IAAR,CAAa,KAAKq8B,GAAlB,EAAuBL,GAAvB,IAA8B,CAAlC,EAAqC;AACnC,UAAKE,KAAL,CAAWj7B,IAAX,CAAgB+6B,GAAhB;AACA,UAAKK,GAAL,CAASp7B,IAAT,CAAc+6B,GAAd;AACA,SAAI,KAAKC,OAAL,IAAgB,KAAKK,QAAL,EAApB,EAAqC;AACnC,WAAKC,UAAL;AACD,MAFD,MAEO;AACL,WAAKC,UAAL,CAAgBR,GAAhB,EAAqB,IAArB;AACD;AACDG,aAAQl7B,IAAR,CAAa,KAAKw6B,QAAL,GAAgB,IAA7B;AACD,KATD,MASO;AACLU,aAAQl7B,IAAR,CAAa,KAAK,CAAlB;AACD;AACF;AACD,UAAOk7B,OAAP;AACD,GA3BD;;AA6BApB,MAAIz6B,SAAJ,CAAck9B,IAAd,GAAqB,UAASxB,GAAT,EAAc;AACjC,QAAKQ,UAAL,CAAgBR,GAAhB;AACAA,OAAIruB,SAAJ,GAAgBquB,IAAIruB,SAAJ,GAAgB,GAAhB,GAAsB,KAAKyY,MAAL,CAAY6U,YAAlD;AACA,OAAI,KAAK7U,MAAL,CAAY9P,QAAZ,IAAwB,IAA5B,EAAkC;AAChC,SAAK8P,MAAL,CAAY9P,QAAZ,CAAqB0lB,GAArB;AACD;AACD,QAAKN,IAAL,GAAY5B,SAAZ,CAAsBkC,GAAtB,EAA2B,KAAKH,QAAhC;AACA,QAAKH,IAAL,GAAYjd,QAAZ,CAAqBud,GAArB,EAA0B,cAA1B,EAA0C,KAAKT,cAA/C;AACA,QAAKG,IAAL,GAAYjd,QAAZ,CAAqBud,GAArB,EAA0B,eAA1B,EAA2C,KAAKT,cAAhD;AACA,QAAKG,IAAL,GAAYjd,QAAZ,CAAqBud,GAArB,EAA0B,oBAA1B,EAAgD,KAAKT,cAArD;AACA,QAAKG,IAAL,GAAYjd,QAAZ,CAAqBud,GAArB,EAA0B,gBAA1B,EAA4C,KAAKT,cAAjD;AACA,UAAOS,GAAP;AACD,GAZD;;AAcAjB,MAAIz6B,SAAJ,CAAck8B,UAAd,GAA2B,UAASR,GAAT,EAAc/pB,MAAd,EAAsB;AAC/C,OAAIzK,KAAJ,EAAWvC,QAAX,EAAqBw4B,SAArB;AACAx4B,cAAW+2B,IAAI9tB,YAAJ,CAAiB,mBAAjB,CAAX;AACA1G,WAAQw0B,IAAI9tB,YAAJ,CAAiB,gBAAjB,CAAR;AACAuvB,eAAYzB,IAAI9tB,YAAJ,CAAiB,oBAAjB,CAAZ;AACA,UAAO,KAAKzF,OAAL,CAAc,UAASk0B,KAAT,EAAgB;AACnC,WAAO,YAAW;AAChB,YAAOA,MAAMe,WAAN,CAAkB1B,GAAlB,EAAuB/pB,MAAvB,EAA+BhN,QAA/B,EAAyCuC,KAAzC,EAAgDi2B,SAAhD,CAAP;AACD,KAFD;AAGD,IAJmB,CAIjB,IAJiB,CAAb,CAAP;AAKD,GAVD;;AAYA1C,MAAIz6B,SAAJ,CAAcmI,OAAd,GAAyB,YAAW;AAClC,OAAI,2BAA2B1K,MAA/B,EAAuC;AACrC,WAAO,UAASuY,QAAT,EAAmB;AACxB,YAAOvY,OAAOiU,qBAAP,CAA6BsE,QAA7B,CAAP;AACD,KAFD;AAGD,IAJD,MAIO;AACL,WAAO,UAASA,QAAT,EAAmB;AACxB,YAAOA,UAAP;AACD,KAFD;AAGD;AACF,GAVuB,EAAxB;;AAYAykB,MAAIz6B,SAAJ,CAAci8B,UAAd,GAA2B,YAAW;AACpC,OAAIP,GAAJ,EAASx2B,CAAT,EAAY40B,GAAZ,EAAiBC,GAAjB,EAAsB8B,OAAtB;AACA9B,SAAM,KAAK6B,KAAX;AACAC,aAAU,EAAV;AACA,QAAK32B,IAAI,CAAJ,EAAO40B,MAAMC,IAAI96B,MAAtB,EAA8BiG,IAAI40B,GAAlC,EAAuC50B,GAAvC,EAA4C;AAC1Cw2B,UAAM3B,IAAI70B,CAAJ,CAAN;AACA22B,YAAQl7B,IAAR,CAAa+6B,IAAI55B,KAAJ,CAAUgD,UAAV,GAAuB,SAApC;AACD;AACD,UAAO+2B,OAAP;AACD,GATD;;AAWApB,MAAIz6B,SAAJ,CAAci7B,cAAd,GAA+B,UAAShC,KAAT,EAAgB;AAC7C,OAAIoE,MAAJ;AACA,OAAIpE,MAAM95B,IAAN,CAAW0C,WAAX,GAAyBiV,OAAzB,CAAiC,cAAjC,KAAoD,CAAxD,EAA2D;AACzDumB,aAASpE,MAAMoE,MAAN,IAAgBpE,MAAMnb,UAA/B;AACA,WAAOuf,OAAOhwB,SAAP,GAAmBgwB,OAAOhwB,SAAP,CAAiBxB,OAAjB,CAAyB,KAAKia,MAAL,CAAY6U,YAArC,EAAmD,EAAnD,EAAuD2C,IAAvD,EAA1B;AACD;AACF,GAND;;AAQA7C,MAAIz6B,SAAJ,CAAco9B,WAAd,GAA4B,UAAS1B,GAAT,EAAc/pB,MAAd,EAAsBhN,QAAtB,EAAgCuC,KAAhC,EAAuCi2B,SAAvC,EAAkD;AAC5E,OAAIxrB,MAAJ,EAAY;AACV,SAAK4rB,kBAAL,CAAwB7B,GAAxB;AACD;AACDA,OAAI55B,KAAJ,CAAUgD,UAAV,GAAuB6M,SAAS,QAAT,GAAoB,SAA3C;AACA,OAAIhN,QAAJ,EAAc;AACZ,SAAK64B,SAAL,CAAe9B,IAAI55B,KAAnB,EAA0B;AACxB27B,wBAAmB94B;AADK,KAA1B;AAGD;AACD,OAAIuC,KAAJ,EAAW;AACT,SAAKs2B,SAAL,CAAe9B,IAAI55B,KAAnB,EAA0B;AACxB47B,qBAAgBx2B;AADQ,KAA1B;AAGD;AACD,OAAIi2B,SAAJ,EAAe;AACb,SAAKK,SAAL,CAAe9B,IAAI55B,KAAnB,EAA0B;AACxB67B,8BAAyBR;AADD,KAA1B;AAGD;AACD,QAAKK,SAAL,CAAe9B,IAAI55B,KAAnB,EAA0B;AACxB87B,mBAAejsB,SAAS,MAAT,GAAkB,KAAKksB,mBAAL,CAAyBnC,GAAzB;AADT,IAA1B;AAGA,UAAOA,GAAP;AACD,GAxBD;;AA0BAjB,MAAIz6B,SAAJ,CAAc89B,OAAd,GAAwB,CAAC,KAAD,EAAQ,QAAR,CAAxB;;AAEArD,MAAIz6B,SAAJ,CAAcw9B,SAAd,GAA0B,UAAS/D,IAAT,EAAezoB,UAAf,EAA2B;AACnD,OAAI2U,IAAJ,EAAUkW,OAAV,EAAmBtlB,KAAnB,EAA0BwnB,MAA1B;AACAlC,aAAU,EAAV;AACA,QAAKlW,IAAL,IAAa3U,UAAb,EAAyB;AACvBuF,YAAQvF,WAAW2U,IAAX,CAAR;AACA8T,SAAK,KAAK9T,IAAV,IAAkBpP,KAAlB;AACAslB,YAAQl7B,IAAR,CAAc,YAAW;AACvB,SAAIuE,CAAJ,EAAO40B,GAAP,EAAYC,GAAZ,EAAiB4C,QAAjB;AACA5C,WAAM,KAAK+D,OAAX;AACAnB,gBAAW,EAAX;AACA,UAAKz3B,IAAI,CAAJ,EAAO40B,MAAMC,IAAI96B,MAAtB,EAA8BiG,IAAI40B,GAAlC,EAAuC50B,GAAvC,EAA4C;AAC1C64B,eAAShE,IAAI70B,CAAJ,CAAT;AACAy3B,eAASh8B,IAAT,CAAc84B,KAAK,KAAKsE,MAAL,GAAepY,KAAKqY,MAAL,CAAY,CAAZ,EAAepxB,WAAf,EAAf,GAAgD+Y,KAAKzZ,MAAL,CAAY,CAAZ,CAArD,IAAwEqK,KAAtF;AACD;AACD,YAAOomB,QAAP;AACD,KATY,CASVj9B,IATU,CASL,IATK,CAAb;AAUD;AACD,UAAOm8B,OAAP;AACD,GAlBD;;AAoBApB,MAAIz6B,SAAJ,CAAci+B,SAAd,GAA0B,UAASxE,IAAT,EAAeha,QAAf,EAAyB;AACjD,OAAIva,CAAJ,EAAO40B,GAAP,EAAYC,GAAZ,EAAiBmE,MAAjB,EAAyBp8B,KAAzB,EAAgCi8B,MAAhC;AACAj8B,WAAQ4L,iBAAiB+rB,IAAjB,CAAR;AACAyE,YAASp8B,MAAMq8B,mBAAN,CAA0B1e,QAA1B,CAAT;AACAsa,SAAM,KAAK+D,OAAX;AACA,QAAK54B,IAAI,CAAJ,EAAO40B,MAAMC,IAAI96B,MAAtB,EAA8BiG,IAAI40B,GAAlC,EAAuC50B,GAAvC,EAA4C;AAC1C64B,aAAShE,IAAI70B,CAAJ,CAAT;AACAg5B,aAASA,UAAUp8B,MAAMq8B,mBAAN,CAA0B,MAAMJ,MAAN,GAAe,GAAf,GAAqBte,QAA/C,CAAnB;AACD;AACD,UAAOye,MAAP;AACD,GAVD;;AAYAzD,MAAIz6B,SAAJ,CAAc49B,aAAd,GAA8B,UAASlC,GAAT,EAAc;AAC1C,OAAIkC,aAAJ;AACA,OAAI;AACFA,oBAAgB,KAAKK,SAAL,CAAevC,GAAf,EAAoB,gBAApB,EAAsC0C,OAAtD;AACD,IAFD,CAEE,OAAOC,MAAP,EAAe;AACfT,oBAAgBlwB,iBAAiBguB,GAAjB,EAAsBnuB,gBAAtB,CAAuC,gBAAvC,CAAhB;AACD;AACD,OAAIqwB,kBAAkB,MAAtB,EAA8B;AAC5B,WAAO,EAAP;AACD,IAFD,MAEO;AACL,WAAOA,aAAP;AACD;AACF,GAZD;;AAcAnD,MAAIz6B,SAAJ,CAAcu9B,kBAAd,GAAmC,UAAS7B,GAAT,EAAc;AAC/C,UAAO,KAAKJ,kBAAL,CAAwBtB,GAAxB,CAA4B0B,GAA5B,EAAiC,KAAKkC,aAAL,CAAmBlC,GAAnB,CAAjC,CAAP;AACD,GAFD;;AAIAjB,MAAIz6B,SAAJ,CAAc69B,mBAAd,GAAoC,UAASnC,GAAT,EAAc;AAChD,UAAO,KAAKJ,kBAAL,CAAwBzB,GAAxB,CAA4B6B,GAA5B,CAAP;AACD,GAFD;;AAIAjB,MAAIz6B,SAAJ,CAAcg7B,aAAd,GAA8B,YAAW;AACvC,UAAO,KAAKG,QAAL,GAAgB,IAAvB;AACD,GAFD;;AAIAV,MAAIz6B,SAAJ,CAAc+6B,cAAd,GAA+B,YAAW;AACxC,OAAIW,GAAJ;AACA,OAAI,KAAKP,QAAT,EAAmB;AACjB,SAAKA,QAAL,GAAgB,KAAhB;AACA,SAAKS,KAAL,GAAc,YAAW;AACvB,SAAI12B,CAAJ,EAAO40B,GAAP,EAAYC,GAAZ,EAAiB8B,OAAjB;AACA9B,WAAM,KAAK6B,KAAX;AACAC,eAAU,EAAV;AACA,UAAK32B,IAAI,CAAJ,EAAO40B,MAAMC,IAAI96B,MAAtB,EAA8BiG,IAAI40B,GAAlC,EAAuC50B,GAAvC,EAA4C;AAC1Cw2B,YAAM3B,IAAI70B,CAAJ,CAAN;AACA,UAAI,CAAEw2B,GAAN,EAAY;AACV;AACD;AACD,UAAI,KAAK4C,SAAL,CAAe5C,GAAf,CAAJ,EAAyB;AACvB,YAAKwB,IAAL,CAAUxB,GAAV;AACA;AACD;AACDG,cAAQl7B,IAAR,CAAa+6B,GAAb;AACD;AACD,YAAOG,OAAP;AACD,KAhBY,CAgBVn8B,IAhBU,CAgBL,IAhBK,CAAb;AAiBA,QAAI,EAAE,KAAKk8B,KAAL,CAAW38B,MAAX,IAAqB,KAAK6mB,MAAL,CAAY+U,IAAnC,CAAJ,EAA8C;AAC5C,YAAO,KAAKxZ,IAAL,EAAP;AACD;AACF;AACF,GAzBD;;AA2BAoZ,MAAIz6B,SAAJ,CAAcu+B,SAAd,GAA0B,UAASpgC,OAAT,EAAkB;AAC1C,OAAI+C,GAAJ;AACA,UAAO/C,QAAQogC,SAAR,KAAsB,KAAK,CAAlC,EAAqC;AACnCpgC,cAAUA,QAAQ6L,UAAlB;AACD;AACD9I,SAAM/C,QAAQogC,SAAd;AACA,UAAOpgC,UAAUA,QAAQyD,YAAzB,EAAuC;AACrCV,WAAO/C,QAAQogC,SAAf;AACD;AACD,UAAOr9B,GAAP;AACD,GAVD;;AAYAu5B,MAAIz6B,SAAJ,CAAcs+B,SAAd,GAA0B,UAAS5C,GAAT,EAAc;AACtC,OAAI8C,MAAJ,EAAYx9B,MAAZ,EAAoBE,GAApB,EAAyBu9B,UAAzB,EAAqCC,OAArC;AACA19B,YAAS06B,IAAI9tB,YAAJ,CAAiB,iBAAjB,KAAuC,KAAKkY,MAAL,CAAY9kB,MAA5D;AACA09B,aAAW,KAAK5Y,MAAL,CAAYgV,eAAZ,IAA+B,KAAKhV,MAAL,CAAYgV,eAAZ,CAA4Bx5B,SAA5D,IAA0E7D,OAAO2D,WAA3F;AACAq9B,gBAAaC,UAAU9iC,KAAKmI,GAAL,CAAS,KAAK5F,OAAL,CAAaohB,YAAtB,EAAoC,KAAK6b,IAAL,GAAY1rB,WAAZ,EAApC,CAAV,GAA2E1O,MAAxF;AACAE,SAAM,KAAKq9B,SAAL,CAAe7C,GAAf,CAAN;AACA8C,YAASt9B,MAAMw6B,IAAInc,YAAnB;AACA,UAAOre,OAAOu9B,UAAP,IAAqBD,UAAUE,OAAtC;AACD,GARD;;AAUAjE,MAAIz6B,SAAJ,CAAco7B,IAAd,GAAqB,YAAW;AAC9B,UAAO,KAAKuD,KAAL,IAAc,IAAd,GAAqB,KAAKA,KAA1B,GAAkC,KAAKA,KAAL,GAAa,IAAIjG,IAAJ,EAAtD;AACD,GAFD;;AAIA+B,MAAIz6B,SAAJ,CAAcg8B,QAAd,GAAyB,YAAW;AAClC,UAAO,CAAC,KAAKlW,MAAL,CAAY8U,MAAb,IAAuB,KAAKQ,IAAL,GAAYhzB,QAAZ,CAAqBC,UAAUC,SAA/B,CAA9B;AACD,GAFD;;AAIA,SAAOmyB,GAAP;AAED,EA/VU,EAAX;AAiWD,CAhgBD,EAggBG/6B,IAhgBH,Y,CAggBc;AACd;AACArB,EAAEZ,MAAF,EAAUqS,MAAV,CAAiB,YAAY;AAC7B,KAAIzR,EAAE,SAAF,EAAa2C,MAAb,EAAJ,EAA2B;AACvB,MAAI3C,EAAE,SAAF,EAAa2C,MAAb,GAAsBE,GAAtB,GAA4B,EAAhC,EAAoC;AAChC7C,KAAE,mBAAF,EAAuB8O,QAAvB,CAAgC,kBAAhC;AACH,GAFD,MAEO;AACH9O,KAAE,mBAAF,EAAuByI,WAAvB,CAAmC,kBAAnC;AACH;AACJ;AAEA,CATD;;AAWA;AACAzI,EAAE,YAAY;AACVA,GAAE,eAAF,EAAmBw6B,IAAnB,CAAwB,OAAxB,EAAiC,UAAUI,KAAV,EAAiB;AAC9C,MAAI2F,UAAUvgC,EAAE,IAAF,CAAd;AACAA,IAAE,YAAF,EAAgBgjB,IAAhB,GAAuBlZ,OAAvB,CAA+B;AAC3B7G,cAAWjD,EAAEugC,QAAQC,IAAR,CAAa,MAAb,CAAF,EAAwB79B,MAAxB,GAAiCE;AADjB,GAA/B,EAEG,IAFH,EAES,eAFT;AAGA+3B,QAAM6F,cAAN;AACH,EAND;AAOH,CARD;AASA;;;;;;;;;AASA;AACA,CAAC,UAAUrhC,MAAV,EAAkBshC,OAAlB,EAA2B;AACxB;;AAEA;AACA;;AACA,KAAI,OAAOl8B,MAAP,KAAkB,UAAlB,IAAgCA,OAAOC,GAA3C,EAAgD;AAC5CD,SAAO,EAAP,EAAW,YAAY;AACnB,UAAOk8B,QAAQ9+B,KAAR,CAAcxC,MAAd,CAAP;AACH,GAFD;AAGH;;AAED;AACA;AAPA,MAQK,IAAI,QAAOmF,OAAP,yCAAOA,OAAP,OAAmB,QAAvB,EAAiC;AAClCD,UAAOC,OAAP,GAAiBm8B,QAAQr/B,IAAR,CAAajC,MAAb,CAAjB;AACH;;AAED;AAJK,OAKA;AACDA,WAAOuhC,KAAP,GAAeD,QAAQr/B,IAAR,CAAajC,MAAb,CAAf;AACH;AACJ,CArBD,EAqBG,QAAOuV,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,GAA6BA,MAA7B,YArBH,EAqB+C,YAAY;AACvD;;AAEA,KAAIgsB,QAAQA,SAAS,EAArB;AACA,KAAIC,KAAK59B,SAASy6B,gBAAT,CAA0BjD,IAA1B,CAA+Bx3B,QAA/B,CAAT;AACA,KAAIrD,WAAW0C,OAAOV,SAAP,CAAiBhC,QAAhC;AACA,KAAIkhC,mBAAmB,kBAAkBzhC,MAAzC;;AAGA;AACA,UAAS2B,QAAT,CAAkBiX,GAAlB,EAAuB;AACnB,SAAOA,QAAQ,IAAR,IAAgBA,QAAQA,IAAI5Y,MAAnC;AACH;;AAED,UAAS0hC,SAAT,CAAmB1F,IAAnB,EAAyB;AACrB,SAAOr6B,SAASq6B,IAAT,IAAiBA,IAAjB,GAAwBA,KAAKp6B,QAAL,KAAkB,CAAlB,IAAuBo6B,KAAK9mB,WAA3D;AACH;;AAED,UAASysB,QAAT,CAAkB7oB,KAAlB,EAAyB;AACrB,MAAIpX,cAAcoX,KAAd,yCAAcA,KAAd,CAAJ;AACA,SAAOpX,SAAS,UAAT,IAAuBA,SAAS,QAAT,IAAqB,CAAC,CAACoX,KAArD;AACH;;AAED,UAAS8oB,SAAT,CAAmBhpB,GAAnB,EAAwB;AACpB,SAAO+oB,SAAS/oB,GAAT,KAAiBA,IAAIhX,QAAJ,GAAe,CAAvC;AACH;;AAED,UAASigC,gBAAT,CAA0BC,KAA1B,EAAiC;AAC7B,MAAIC,aAAaxhC,SAAS0B,IAAT,CAAc6/B,KAAd,CAAjB;;AAEA,MAAIC,eAAe,iBAAnB,EAAsC;AAClC,UAAOP,GAAGM,KAAH,CAAP;AACH,GAFD,MAEO,IAAIH,SAASG,KAAT,KAAmB,sDAAsDx9B,IAAtD,CAA2Dy9B,UAA3D,CAAnB,IAA6FD,MAAM/8B,cAAN,CAAqB,QAArB,CAAjG,EAAiI;AACpI,UAAO+8B,KAAP;AACH,GAFM,MAEA,IAAIF,UAAUE,KAAV,CAAJ,EAAsB;AACzB,UAAO,CAACA,KAAD,CAAP;AACH;;AAED,SAAO,EAAP;AACH;;AAED,UAASv+B,MAAT,CAAgBy4B,IAAhB,EAAsB;AAClB,MAAIgG,OAAJ;AAAA,MAAaC,GAAb;AAAA,MACIhE,MAAM;AACFx6B,QAAK,CADH;AAEFC,SAAM;AAFJ,GADV;AAAA,MAKIw+B,MAAMlG,QAAQA,KAAKmG,aALvB;;AAOAH,YAAUE,IAAI71B,eAAd;;AAEA,MAAI,QAAO2vB,KAAKx4B,qBAAZ,cAA6C9D,SAA7C,yCAA6CA,SAA7C,EAAJ,EAA4D;AACxDu+B,SAAMjC,KAAKx4B,qBAAL,EAAN;AACH;AACDy+B,QAAMP,UAAUQ,GAAV,CAAN;AACA,SAAO;AACHz+B,QAAKw6B,IAAIx6B,GAAJ,GAAUw+B,IAAIt+B,WAAd,GAA4Bq+B,QAAQl+B,SADtC;AAEHJ,SAAMu6B,IAAIv6B,IAAJ,GAAWu+B,IAAIl+B,WAAf,GAA6Bi+B,QAAQ/9B;AAFxC,GAAP;AAIH;;AAED,UAASm+B,YAAT,CAAsBC,QAAtB,EAAgC;AAC5B,MAAIh+B,QAAQ,EAAZ;;AAEA,OAAK,IAAIw4B,IAAT,IAAiBwF,QAAjB,EAA2B;AACvB,OAAIA,SAASt9B,cAAT,CAAwB83B,IAAxB,CAAJ,EAAmC;AAC/Bx4B,aAAUw4B,OAAO,GAAP,GAAawF,SAASxF,IAAT,CAAb,GAA8B,GAAxC;AACH;AACJ;;AAED,SAAOx4B,KAAP;AACH;;AAED,KAAIi+B,SAAS;;AAET;AACAp7B,YAAU,GAHD;;AAKT;AACAuC,SAAO,GANE;;AAQTg2B,QAAM,cAAUl+B,CAAV,EAAab,OAAb,EAAsB+J,QAAtB,EAAgC;;AAElC;AACA,OAAIlJ,EAAEghC,MAAF,KAAa,CAAjB,EAAoB;AAChB,WAAO,KAAP;AACH;;AAED7hC,aAAUA,WAAW,IAArB;;AAEA;AACA,OAAI8hC,SAAS5+B,SAAS+F,aAAT,CAAuB,KAAvB,CAAb;AACA64B,UAAO5yB,SAAP,GAAmB,6BAAnB;AACAlP,WAAQiR,WAAR,CAAoB6wB,MAApB;;AAEA;AACA,OAAIC,MAAMl/B,OAAO7C,OAAP,CAAV;AACA,OAAIgiC,YAAY,CAAhB;AACA,OAAIC,YAAY,CAAhB;AACA;AACA,OAAI,aAAaphC,CAAb,IAAkBA,EAAEgf,OAAF,CAAU/e,MAAhC,EAAwC;AACpCkhC,gBAAanhC,EAAEgf,OAAF,CAAU,CAAV,EAAaqiB,KAAb,GAAqBH,IAAIh/B,GAAtC;AACAk/B,gBAAaphC,EAAEgf,OAAF,CAAU,CAAV,EAAasiB,KAAb,GAAqBJ,IAAI/+B,IAAtC;AACH;AACD;AAJA,QAKK;AACDg/B,iBAAanhC,EAAEqhC,KAAF,GAAUH,IAAIh/B,GAA3B;AACAk/B,iBAAaphC,EAAEshC,KAAF,GAAUJ,IAAI/+B,IAA3B;AACH;AACD;AACAi/B,eAAYA,aAAa,CAAb,GAAiBA,SAAjB,GAA6B,CAAzC;AACAD,eAAYA,aAAa,CAAb,GAAiBA,SAAjB,GAA6B,CAAzC;;AAEA,OAAI9xB,QAAQ,WAAalQ,QAAQkhB,WAAR,GAAsB,GAAvB,GAA8B,CAA1C,GAA+C,GAA3D;AACA,OAAInR,YAAY,gBAAhB;;AAEA,OAAIhG,QAAJ,EAAc;AACVgG,gBAAY,eAAgBhG,SAASxN,CAAzB,GAA8B,MAA9B,GAAwCwN,SAAS1E,CAAjD,GAAsD,KAAlE;AACH;;AAED;AACAy8B,UAAOhyB,YAAP,CAAoB,WAApB,EAAiC3L,KAAK6uB,GAAL,EAAjC;AACA8O,UAAOhyB,YAAP,CAAoB,QAApB,EAA8BmyB,SAA9B;AACAH,UAAOhyB,YAAP,CAAoB,QAApB,EAA8BkyB,SAA9B;AACAF,UAAOhyB,YAAP,CAAoB,YAApB,EAAkCI,KAAlC;AACA4xB,UAAOhyB,YAAP,CAAoB,gBAApB,EAAsCC,SAAtC;;AAEA;AACA,OAAIqyB,cAAc;AACdr/B,SAAKi/B,YAAY,IADH;AAEdh/B,UAAMi/B,YAAY;AAFJ,IAAlB;;AAKAH,UAAO7yB,SAAP,CAAiB7O,GAAjB,CAAqB,oBAArB;AACA0hC,UAAOhyB,YAAP,CAAoB,OAApB,EAA6B4xB,aAAaU,WAAb,CAA7B;AACAN,UAAO7yB,SAAP,CAAiBE,MAAjB,CAAwB,oBAAxB;;AAEA;AACAizB,eAAY,mBAAZ,IAAmClyB,QAAQ,GAAR,GAAcH,SAAjD;AACAqyB,eAAY,gBAAZ,IAAgClyB,QAAQ,GAAR,GAAcH,SAA9C;AACAqyB,eAAY,eAAZ,IAA+BlyB,QAAQ,GAAR,GAAcH,SAA7C;AACAqyB,eAAY,cAAZ,IAA8BlyB,QAAQ,GAAR,GAAcH,SAA5C;AACAqyB,eAAYC,SAAZ,GAAwBnyB,QAAQ,GAAR,GAAcH,SAAtC;AACAqyB,eAAYx0B,OAAZ,GAAsB,GAAtB;;AAEA,OAAIpH,WAAW3F,EAAEG,IAAF,KAAW,WAAX,GAAyB,IAAzB,GAAgC4gC,OAAOp7B,QAAtD;AACA47B,eAAY,6BAAZ,IAA6C57B,WAAW,IAAxD;AACA47B,eAAY,0BAAZ,IAA0C57B,WAAW,IAArD;AACA47B,eAAY,wBAAZ,IAAwC57B,WAAW,IAAnD;AACA47B,eAAY,qBAAZ,IAAqC57B,WAAW,IAAhD;;AAEAs7B,UAAOhyB,YAAP,CAAoB,OAApB,EAA6B4xB,aAAaU,WAAb,CAA7B;AACH,GA/EQ;;AAiFTE,QAAM,cAAUzhC,CAAV,EAAab,OAAb,EAAsB;AACxBA,aAAUA,WAAW,IAArB;;AAEA,OAAIuiC,UAAUviC,QAAQwiC,sBAAR,CAA+B,gBAA/B,CAAd;;AAEA,QAAK,IAAIlhC,IAAI,CAAR,EAAWq6B,MAAM4G,QAAQzhC,MAA9B,EAAsCQ,IAAIq6B,GAA1C,EAA+Cr6B,GAA/C,EAAoD;AAChDmhC,iBAAa5hC,CAAb,EAAgBb,OAAhB,EAAyBuiC,QAAQjhC,CAAR,CAAzB;AACH;AACJ;AAzFQ,EAAb;;AA4FA;;;;AAIA,KAAIohC,aAAa;;AAEb;AACAC,SAAO,eAAU3iC,OAAV,EAAmB;;AAEtB,OAAIuZ,SAASvZ,QAAQ6L,UAArB;;AAEA;AACA,OAAI0N,OAAOxK,OAAP,CAAerL,WAAf,OAAiC,GAAjC,IAAwC6V,OAAOtK,SAAP,CAAiB2zB,QAAjB,CAA0B,cAA1B,CAA5C,EAAuF;AACnF;AACH;;AAED;AACA,OAAIC,UAAU3/B,SAAS+F,aAAT,CAAuB,GAAvB,CAAd;AACA45B,WAAQ3zB,SAAR,GAAoBlP,QAAQkP,SAAR,GAAoB,sBAAxC;AACAlP,WAAQkP,SAAR,GAAoB,oBAApB;;AAEA;AACAqK,UAAOupB,YAAP,CAAoBD,OAApB,EAA6B7iC,OAA7B;AACA6iC,WAAQ5xB,WAAR,CAAoBjR,OAApB;;AAEA;AACA,OAAI+iC,eAAezjC,OAAOiQ,gBAAP,CAAwBvP,OAAxB,EAAiC,IAAjC,CAAnB;AACA,OAAIi3B,QAAQ8L,aAAa9L,KAAzB;AACA,OAAI+L,kBAAkBD,aAAaC,eAAnC;;AAEAH,WAAQ/yB,YAAR,CAAqB,OAArB,EAA8B,WAAWmnB,KAAX,GAAmB,cAAnB,GAAoC+L,eAAlE;AACAhjC,WAAQ8P,YAAR,CAAqB,OAArB,EAA8B,iCAA9B;AAEH,GA7BY;;AA+Bb;AACAmzB,OAAK,aAAUjjC,OAAV,EAAmB;;AAEpB,OAAIuZ,SAASvZ,QAAQ6L,UAArB;;AAEA;AACA,OAAI0N,OAAOxK,OAAP,CAAerL,WAAf,OAAiC,GAAjC,IAAwC6V,OAAOtK,SAAP,CAAiB2zB,QAAjB,CAA0B,cAA1B,CAA5C,EAAuF;AACnF;AACH;;AAED;AACA,OAAIC,UAAU3/B,SAAS+F,aAAT,CAAuB,GAAvB,CAAd;AACAsQ,UAAOupB,YAAP,CAAoBD,OAApB,EAA6B7iC,OAA7B;AACA6iC,WAAQ5xB,WAAR,CAAoBjR,OAApB;AAEH;AA9CY,EAAjB;;AAiDA;;;;AAIA,UAASyiC,YAAT,CAAsB5hC,CAAtB,EAAyBwgB,EAAzB,EAA6BygB,MAA7B,EAAqC;;AAEjC;AACA,MAAI,CAACA,MAAL,EAAa;AACT;AACH;;AAEDA,SAAO7yB,SAAP,CAAiBE,MAAjB,CAAwB,gBAAxB;;AAEA,MAAI8yB,YAAYH,OAAOryB,YAAP,CAAoB,QAApB,CAAhB;AACA,MAAIuyB,YAAYF,OAAOryB,YAAP,CAAoB,QAApB,CAAhB;AACA,MAAIS,QAAQ4xB,OAAOryB,YAAP,CAAoB,YAApB,CAAZ;AACA,MAAIM,YAAY+xB,OAAOryB,YAAP,CAAoB,gBAApB,CAAhB;;AAEA;AACA,MAAIyzB,OAAO/+B,KAAK6uB,GAAL,KAAamQ,OAAOrB,OAAOryB,YAAP,CAAoB,WAApB,CAAP,CAAxB;AACA,MAAI1G,QAAQ,MAAMm6B,IAAlB;;AAEA,MAAIn6B,QAAQ,CAAZ,EAAe;AACXA,WAAQ,CAAR;AACH;;AAED,MAAIlI,EAAEG,IAAF,KAAW,WAAf,EAA4B;AACxB+H,WAAQ,GAAR;AACH;;AAED;AACA,MAAIvC,WAAW3F,EAAEG,IAAF,KAAW,WAAX,GAAyB,IAAzB,GAAgC4gC,OAAOp7B,QAAtD;;AAEAqC,aAAW,YAAY;;AAEnB,OAAIlF,QAAQ;AACRZ,SAAKi/B,YAAY,IADT;AAERh/B,UAAMi/B,YAAY,IAFV;AAGRr0B,aAAS,GAHD;;AAKR;AACA,mCAA+BpH,WAAW,IANlC;AAOR,gCAA4BA,WAAW,IAP/B;AAQR,8BAA0BA,WAAW,IAR7B;AASR,2BAAuBA,WAAW,IAT1B;AAUR,yBAAqB0J,QAAQ,GAAR,GAAcH,SAV3B;AAWR,sBAAkBG,QAAQ,GAAR,GAAcH,SAXxB;AAYR,qBAAiBG,QAAQ,GAAR,GAAcH,SAZvB;AAaR,oBAAgBG,QAAQ,GAAR,GAAcH,SAbtB;AAcR,iBAAaG,QAAQ,GAAR,GAAcH;AAdnB,IAAZ;;AAiBA+xB,UAAOhyB,YAAP,CAAoB,OAApB,EAA6B4xB,aAAa/9B,KAAb,CAA7B;;AAEAkF,cAAW,YAAY;AACnB,QAAI;AACAwY,QAAGnQ,WAAH,CAAe4wB,MAAf;AACH,KAFD,CAEE,OAAOjhC,CAAP,EAAU;AACR,YAAO,KAAP;AACH;AACJ,IAND,EAMG2F,QANH;AAQH,GA7BD,EA6BGuC,KA7BH;AA8BH;;AAGD;;;AAGA,KAAIq6B,eAAe;;AAEf;;;;AAIAvjB,WAAS,CANM;;AAQfwjB,cAAY,oBAAUxiC,CAAV,EAAa;;AAErB,OAAIyiC,QAAQ,IAAZ;;AAEA,OAAI,0BAA0B1/B,IAA1B,CAA+B/C,EAAEG,IAAjC,KAA0CoiC,aAAavjB,OAA3D,EAAoE;AAChEyjB,YAAQ,KAAR;AACH;;AAED,UAAOA,KAAP;AACH,GAjBc;AAkBfC,iBAAe,uBAAU1iC,CAAV,EAAa;AACxB,OAAI2iC,QAAQ3iC,EAAEG,IAAd;;AAEA,OAAIwiC,UAAU,YAAd,EAA4B;;AAExBJ,iBAAavjB,OAAb,IAAwB,CAAxB,CAFwB,CAEG;AAE9B,IAJD,MAIO,IAAI,2BAA2Bjc,IAA3B,CAAgC4/B,KAAhC,CAAJ,EAA4C;;AAE/C36B,eAAW,YAAY;AACnB,SAAIu6B,aAAavjB,OAAjB,EAA0B;AACtBujB,mBAAavjB,OAAb,IAAwB,CAAxB,CADsB,CACK;AAC9B;AACJ,KAJD,EAIG,GAJH;AAMH;AACJ;AAlCc,EAAnB;;AAsCA;;;;AAIA,UAAS4jB,qBAAT,CAA+B5iC,CAA/B,EAAkC;;AAE9B,MAAIuiC,aAAaC,UAAb,CAAwBxiC,CAAxB,MAA+B,KAAnC,EAA0C;AACtC,UAAO,IAAP;AACH;;AAED,MAAIb,UAAU,IAAd;AACA,MAAIk/B,SAASr+B,EAAEq+B,MAAF,IAAYr+B,EAAE8e,UAA3B;;AAEA,SAAOuf,OAAOwE,aAAP,KAAyB,IAAhC,EAAsC;AAClC,OAAIxE,OAAOjwB,SAAP,CAAiB2zB,QAAjB,CAA0B,cAA1B,KAA8C,EAAE1D,kBAAkBr1B,UAApB,CAAlD,EAAoF;AAChF7J,cAAUk/B,MAAV;AACA;AACH;AACDA,YAASA,OAAOwE,aAAhB;AACH;;AAED,SAAO1jC,OAAP;AACH;;AAED;;;AAGA,UAAS2jC,UAAT,CAAoB9iC,CAApB,EAAuB;;AAEnB;AACA;AACA;AACA;AACA;;AAEA,MAAIb,UAAUyjC,sBAAsB5iC,CAAtB,CAAd;;AAEA,MAAIb,YAAY,IAAhB,EAAsB;;AAElB;AACA,OAAIA,QAAQ69B,QAAR,IAAoB79B,QAAQyP,YAAR,CAAqB,UAArB,CAApB,IAAwDzP,QAAQiP,SAAR,CAAkB2zB,QAAlB,CAA2B,UAA3B,CAA5D,EAAoG;AAChG;AACH;;AAEDQ,gBAAaG,aAAb,CAA2B1iC,CAA3B;;AAEA,OAAIA,EAAEG,IAAF,KAAW,YAAX,IAA2B4gC,OAAO74B,KAAtC,EAA6C;;AAEzC,QAAIyK,SAAS,KAAb;;AAEA,QAAIowB,QAAQ/6B,WAAW,YAAY;AAC/B+6B,aAAQ,IAAR;AACAhC,YAAO7C,IAAP,CAAYl+B,CAAZ,EAAeb,OAAf;AACH,KAHW,EAGT4hC,OAAO74B,KAHE,CAAZ;;AAKA,QAAI86B,aAAa,SAAbA,UAAa,CAAUC,SAAV,EAAqB;;AAElC;AACA,SAAIF,KAAJ,EAAW;AACP1wB,mBAAa0wB,KAAb;AACAA,cAAQ,IAAR;AACAhC,aAAO7C,IAAP,CAAYl+B,CAAZ,EAAeb,OAAf;AACH;AACD,SAAI,CAACwT,MAAL,EAAa;AACTA,eAAS,IAAT;AACAouB,aAAOU,IAAP,CAAYwB,SAAZ,EAAuB9jC,OAAvB;AACH;AACJ,KAZD;;AAcA,QAAI+jC,YAAY,SAAZA,SAAY,CAAUC,SAAV,EAAqB;AACjC,SAAIJ,KAAJ,EAAW;AACP1wB,mBAAa0wB,KAAb;AACAA,cAAQ,IAAR;AACH;AACDC,gBAAWG,SAAX;AACH,KAND;;AAQAhkC,YAAQyT,gBAAR,CAAyB,WAAzB,EAAsCswB,SAAtC,EAAiD,KAAjD;AACA/jC,YAAQyT,gBAAR,CAAyB,UAAzB,EAAqCowB,UAArC,EAAiD,KAAjD;AACA7jC,YAAQyT,gBAAR,CAAyB,aAAzB,EAAwCowB,UAAxC,EAAoD,KAApD;AAEH,IAnCD,MAmCO;;AAEHjC,WAAO7C,IAAP,CAAYl+B,CAAZ,EAAeb,OAAf;;AAEA,QAAI+gC,gBAAJ,EAAsB;AAClB/gC,aAAQyT,gBAAR,CAAyB,UAAzB,EAAqCmuB,OAAOU,IAA5C,EAAkD,KAAlD;AACAtiC,aAAQyT,gBAAR,CAAyB,aAAzB,EAAwCmuB,OAAOU,IAA/C,EAAqD,KAArD;AACH;;AAEDtiC,YAAQyT,gBAAR,CAAyB,SAAzB,EAAoCmuB,OAAOU,IAA3C,EAAiD,KAAjD;AACAtiC,YAAQyT,gBAAR,CAAyB,YAAzB,EAAuCmuB,OAAOU,IAA9C,EAAoD,KAApD;AACH;AACJ;AACJ;;AAEDzB,OAAMz/B,IAAN,GAAa,UAAU4R,OAAV,EAAmB;AAC5B,MAAIpH,OAAO1I,SAAS0I,IAApB;;AAEAoH,YAAUA,WAAW,EAArB;;AAEA,MAAI,cAAcA,OAAlB,EAA2B;AACvB4uB,UAAOp7B,QAAP,GAAkBwM,QAAQxM,QAA1B;AACH;;AAED,MAAI,WAAWwM,OAAf,EAAwB;AACpB4uB,UAAO74B,KAAP,GAAeiK,QAAQjK,KAAvB;AACH;;AAED,MAAIg4B,gBAAJ,EAAsB;AAClBn1B,QAAK6H,gBAAL,CAAsB,YAAtB,EAAoCkwB,UAApC,EAAgD,KAAhD;AACA/3B,QAAK6H,gBAAL,CAAsB,aAAtB,EAAqC2vB,aAAaG,aAAlD,EAAiE,KAAjE;AACA33B,QAAK6H,gBAAL,CAAsB,UAAtB,EAAkC2vB,aAAaG,aAA/C,EAA8D,KAA9D;AACH;;AAED33B,OAAK6H,gBAAL,CAAsB,WAAtB,EAAmCkwB,UAAnC,EAA+C,KAA/C;AACH,EApBD;;AAuBA;;;;;AAKA9C,OAAMoD,MAAN,GAAe,UAAUlxB,QAAV,EAAoBmxB,OAApB,EAA6B;;AAExCnxB,aAAWouB,iBAAiBpuB,QAAjB,CAAX;;AAEA,MAAIlT,SAAS0B,IAAT,CAAc2iC,OAAd,MAA2B,gBAA/B,EAAiD;AAC7CA,aAAUA,QAAQ72B,IAAR,CAAa,GAAb,CAAV;AACH;;AAED62B,YAAUA,UAAU,MAAMA,OAAhB,GAA0B,EAApC;;AAEA,MAAIlkC,OAAJ,EAAa+O,OAAb;;AAEA,OAAK,IAAIzN,IAAI,CAAR,EAAWq6B,MAAM5oB,SAASjS,MAA/B,EAAuCQ,IAAIq6B,GAA3C,EAAgDr6B,GAAhD,EAAqD;;AAEjDtB,aAAU+S,SAASzR,CAAT,CAAV;AACAyN,aAAU/O,QAAQ+O,OAAR,CAAgBrL,WAAhB,EAAV;;AAEA,OAAI,CAAC,OAAD,EAAU,KAAV,EAAiBiV,OAAjB,CAAyB5J,OAAzB,MAAsC,CAAC,CAA3C,EAA8C;AAC1C2zB,eAAW3zB,OAAX,EAAoB/O,OAApB;AACAA,cAAUA,QAAQ0jC,aAAlB;AACH;;AAED,OAAI1jC,QAAQkP,SAAR,CAAkByJ,OAAlB,CAA0B,cAA1B,MAA8C,CAAC,CAAnD,EAAsD;AAClD3Y,YAAQkP,SAAR,IAAqB,kBAAkBg1B,OAAvC;AACH;AACJ;AACJ,EA1BD;;AA6BA;;;AAGArD,OAAMiB,MAAN,GAAe,UAAU/uB,QAAV,EAAoBC,OAApB,EAA6B;AACxCD,aAAWouB,iBAAiBpuB,QAAjB,CAAX;AACA,MAAIoxB,cAAcpxB,SAASjS,MAA3B;;AAEAkS,YAAUA,WAAW,EAArB;AACAA,UAAQoxB,IAAR,GAAepxB,QAAQoxB,IAAR,IAAgB,CAA/B;AACApxB,UAAQxP,QAAR,GAAmBwP,QAAQxP,QAAR,IAAoB,IAAvC,CANwC,CAMK;;;AAG7C,MAAI2gC,WAAJ,EAAiB;AACb,OAAInkC,OAAJ;AAAA,OAAa+hC,GAAb;AAAA,OAAkBsC,GAAlB;AAAA,OAAuBC,SAAS,EAAhC;AAAA,OACIhjC,IAAI,CADR;AAEA,OAAIijC,YAAY;AACZvjC,UAAM,WADM;AAEZ6gC,YAAQ;AAFI,IAAhB;AAIA,OAAI2C,aAAa,SAAbA,UAAa,CAAUC,OAAV,EAAmBzkC,OAAnB,EAA4B;AACzC,WAAO,YAAY;AACf4hC,YAAOU,IAAP,CAAYmC,OAAZ,EAAqBzkC,OAArB;AACH,KAFD;AAGH,IAJD;;AAMA,UAAOsB,IAAI6iC,WAAX,EAAwB7iC,GAAxB,EAA6B;AACzBtB,cAAU+S,SAASzR,CAAT,CAAV;AACAygC,UAAM/uB,QAAQxP,QAAR,IAAoB;AACtBjH,QAAGyD,QAAQkhB,WAAR,GAAsB,CADH;AAEtB7b,QAAGrF,QAAQohB,YAAR,GAAuB;AAFJ,KAA1B;;AAKAijB,UAAMxhC,OAAO7C,OAAP,CAAN;AACAskC,WAAO/nC,CAAP,GAAW8nC,IAAIrhC,IAAJ,GAAW++B,IAAIxlC,CAA1B;AACA+nC,WAAOj/B,CAAP,GAAWg/B,IAAIthC,GAAJ,GAAUg/B,IAAI18B,CAAzB;;AAEAk/B,cAAUpC,KAAV,GAAkBmC,OAAO/nC,CAAzB;AACAgoC,cAAUrC,KAAV,GAAkBoC,OAAOj/B,CAAzB;;AAEAu8B,WAAO7C,IAAP,CAAYwF,SAAZ,EAAuBvkC,OAAvB;;AAEA,QAAIgT,QAAQoxB,IAAR,IAAgB,CAAhB,IAAqBpxB,QAAQoxB,IAAR,KAAiB,IAA1C,EAAgD;AAC5C,SAAIK,UAAU;AACVzjC,YAAM,SADI;AAEV6gC,cAAQ;AAFE,MAAd;;AAKAh5B,gBAAW27B,WAAWC,OAAX,EAAoBzkC,OAApB,CAAX,EAAyCgT,QAAQoxB,IAAjD;AACH;AACJ;AACJ;AACJ,EAhDD;;AAkDA;;;AAGAvD,OAAM6D,IAAN,GAAa,UAAU3xB,QAAV,EAAoB;AAC7BA,aAAWouB,iBAAiBpuB,QAAjB,CAAX;AACA,MAAI0xB,UAAU;AACVzjC,SAAM,SADI;AAEV6gC,WAAQ;AAFE,GAAd;;AAKA,OAAK,IAAIvgC,IAAI,CAAR,EAAWq6B,MAAM5oB,SAASjS,MAA/B,EAAuCQ,IAAIq6B,GAA3C,EAAgDr6B,GAAhD,EAAqD;AACjDsgC,UAAOU,IAAP,CAAYmC,OAAZ,EAAqB1xB,SAASzR,CAAT,CAArB;AACH;AACJ,EAVD;;AAYA;;;AAGAu/B,OAAM8D,aAAN,GAAsB,UAAU3xB,OAAV,EAAmB;AACrCrS,UAAQikC,KAAR,CAAc,qIAAd;AACA/D,QAAMz/B,IAAN,CAAW4R,OAAX;AACH,EAHD;;AAKA,QAAO6tB,KAAP;AACH,CAhkBD;;AAkkBA;AACAA,MAAMoD,MAAN,CAAa,qBAAb,EAAoC,CAAC,aAAD,CAApC;AACApD,MAAMoD,MAAN,CAAa,aAAb,EAA4B,CAAC,aAAD,CAA5B;AACApD,MAAMoD,MAAN,CAAa,cAAb,EAA6B,CAAC,aAAD,CAA7B;AACApD,MAAMoD,MAAN,CAAa,mEAAb,EAAkF,CAAC,aAAD,CAAlF;AACApD,MAAMoD,MAAN,CAAa,eAAb,EAA8B,CAAC,aAAD,CAA9B;AACApD,MAAMoD,MAAN,CAAa,aAAb,EAA4B,CAAC,aAAD,CAA5B;AACApD,MAAMoD,MAAN,CAAa,mCAAb,EAAkD,CAAC,cAAD,CAAlD;AACApD,MAAMz/B,IAAN,G,CAAa;;AAEZ,WAAUlB,CAAV,EAAa;AACVA,GAAEgD,QAAF,EAAY2hC,KAAZ,CAAkB,YAAY;;AAE1B;AACArlC,cAAYslC,gBAAZ,GAA+B,YAAY;AACvC,OAAIC,iBAAiB,+IAArB;AACA7kC,KAAE6kC,cAAF,EAAkBxkC,IAAlB,CAAuB,UAAUwd,KAAV,EAAiB/d,OAAjB,EAA0B;AAC7C,QAAIE,EAAEF,OAAF,EAAWkc,GAAX,GAAiBpb,MAAjB,GAA0B,CAA1B,IAA+BZ,EAAE,IAAF,EAAQwgC,IAAR,CAAa,aAAb,MAAgC1hC,SAA/D,IAA4EkB,EAAEF,OAAF,EAAW,CAAX,EAAcglC,QAAd,CAAuBC,QAAvB,KAAoC,IAApH,EAA0H;AACtH/kC,OAAE,IAAF,EAAQglC,QAAR,CAAiB,UAAjB,EAA6Bl2B,QAA7B,CAAsC,QAAtC;AACH,KAFD,MAEO;AACH9O,OAAE,IAAF,EAAQglC,QAAR,CAAiB,UAAjB,EAA6Bv8B,WAA7B,CAAyC,QAAzC;AACH;AACJ,IAND;AAOH,GATD;;AAWA;AACA,MAAIo8B,iBAAiB,+IAArB;;AAEA;AACA7kC,IAAE,kBAAF,EAAsBglC,QAAtB,CAA+B,UAA/B,EAA2Cl2B,QAA3C,CAAoD,QAApD;;AAEA;AACA9O,IAAEgD,QAAF,EAAYiiC,EAAZ,CAAe,QAAf,EAAyBJ,cAAzB,EAAyC,YAAY;AACjD,OAAI7kC,EAAE,IAAF,EAAQgc,GAAR,GAAcpb,MAAd,KAAyB,CAAzB,IAA8BZ,EAAE,IAAF,EAAQwgC,IAAR,CAAa,aAAb,MAAgC1hC,SAAlE,EAA6E;AACzEkB,MAAE,IAAF,EAAQglC,QAAR,CAAiB,UAAjB,EAA6Bl2B,QAA7B,CAAsC,QAAtC;AACH;AACDo2B,kBAAellC,EAAE,IAAF,CAAf;AACH,GALD;;AAOA;AACAA,IAAEgD,QAAF,EAAY2hC,KAAZ,CAAkB,YAAY;AAC1BrlC,eAAYslC,gBAAZ;AACH,GAFD;;AAIA;AACA5kC,IAAEgD,QAAF,EAAYiiC,EAAZ,CAAe,OAAf,EAAwB,UAAUtkC,CAAV,EAAa;AACjC,OAAIwkC,YAAYnlC,EAAEW,EAAEq+B,MAAJ,CAAhB;AACA,OAAImG,UAAUC,EAAV,CAAa,MAAb,CAAJ,EAA0B;AACtBD,cAAUE,IAAV,CAAeR,cAAf,EAA+Bp8B,WAA/B,CAA2C,OAA3C,EAAoDA,WAApD,CAAgE,SAAhE;AACA08B,cAAUE,IAAV,CAAeR,cAAf,EAA+BxkC,IAA/B,CAAoC,YAAY;AAC5C,SAAIL,EAAE,IAAF,EAAQwgC,IAAR,CAAa,OAAb,MAA0B,EAA9B,EAAkC;AAC9BxgC,QAAE,IAAF,EAAQglC,QAAR,CAAiB,UAAjB,EAA6Bv8B,WAA7B,CAAyC,QAAzC;AACH;AACJ,KAJD;;AAMA;AACA08B,cAAUE,IAAV,CAAe,oBAAf,EAAqChlC,IAArC,CAA0C,YAAY;AAClD,SAAIilC,aAAaH,UAAUE,IAAV,CAAe,kBAAf,EAAmCne,IAAnC,EAAjB;AACAie,eAAUH,QAAV,CAAmB,uBAAnB,EAA4ChpB,GAA5C,CAAgDspB,UAAhD;AACH,KAHD;AAIH;AACJ,GAhBD;;AAkBA;AACAtlC,IAAEgD,QAAF,EAAYiiC,EAAZ,CAAe,OAAf,EAAwBJ,cAAxB,EAAwC,YAAY;AAChD7kC,KAAE,IAAF,EAAQglC,QAAR,CAAiB,UAAjB,EAA6Bl2B,QAA7B,CAAsC,QAAtC;AACH,GAFD;;AAIA9O,IAAEgD,QAAF,EAAYiiC,EAAZ,CAAe,MAAf,EAAuBJ,cAAvB,EAAuC,YAAY;AAC/C,OAAIU,gBAAgBvlC,EAAE,IAAF,CAApB;AACA,OAAIulC,cAAcvpB,GAAd,GAAoBpb,MAApB,KAA+B,CAA/B,IAAoC2kC,cAAc,CAAd,EAAiBT,QAAjB,CAA0BC,QAA1B,KAAuC,IAA3E,IAAmFQ,cAAc/E,IAAd,CAAmB,aAAnB,MAAsC1hC,SAA7H,EAAwI;AACpIymC,kBAAcP,QAAd,CAAuB,UAAvB,EAAmCv8B,WAAnC,CAA+C,QAA/C;AACH;AACDy8B,kBAAeK,aAAf;AACH,GAND;;AAQAL,mBAAiB,wBAAUM,MAAV,EAAkB;AAC/B,OAAIC,YAAYD,OAAOhF,IAAP,CAAY,QAAZ,MAA0B1hC,SAA1C;AACA,OAAI4mC,UAAU93B,SAAS43B,OAAOhF,IAAP,CAAY,QAAZ,CAAT,CAAd;AACA,OAAI/E,MAAM+J,OAAOxpB,GAAP,GAAapb,MAAvB;;AAEA,OAAI4kC,OAAOxpB,GAAP,GAAapb,MAAb,KAAwB,CAAxB,IAA6B4kC,OAAO,CAAP,EAAUV,QAAV,CAAmBC,QAAnB,KAAgC,KAAjE,EAAwE;AACpE,QAAIS,OAAOG,QAAP,CAAgB,UAAhB,CAAJ,EAAiC;AAC7BH,YAAO/8B,WAAP,CAAmB,OAAnB;AACA+8B,YAAO/8B,WAAP,CAAmB,SAAnB;AACH;AACJ,IALD,MAKO;AACH,QAAI+8B,OAAOG,QAAP,CAAgB,UAAhB,CAAJ,EAAiC;AAC7B;AACA,SAAKH,OAAOJ,EAAP,CAAU,QAAV,KAAuBK,SAAvB,IAAqChK,MAAMiK,OAA5C,IAA0DF,OAAOJ,EAAP,CAAU,QAAV,KAAuB,CAACK,SAAtF,EAAkG;AAC9FD,aAAO/8B,WAAP,CAAmB,SAAnB;AACA+8B,aAAO12B,QAAP,CAAgB,OAAhB;AACH,MAHD,MAGO;AACH02B,aAAO/8B,WAAP,CAAmB,OAAnB;AACA+8B,aAAO12B,QAAP,CAAgB,SAAhB;AACH;AACJ;AACJ;AACJ,GAtBD;;AAyBA;AACA,MAAI82B,YAAY5lC,EAAE,YAAF,EAAgB6lC,KAAhB,EAAhB;AACA,MAAI,CAACD,UAAUhlC,MAAf,EAAuB;AACnBglC,eAAY5lC,EAAE,sCAAF,CAAZ;AACAA,KAAE,MAAF,EAAU8lC,MAAV,CAAiBF,SAAjB;AACH;AACD,MAAIG,qBAAqB,uBAAzB;;AAEA,WAASC,kBAAT,CAA4BC,SAA5B,EAAuC;AACnC;;AAEA,OAAIpkB,aAAaokB,UAAU3lC,GAAV,CAAc,aAAd,CAAjB;AACA,OAAI8P,WAAW61B,UAAU3lC,GAAV,CAAc,WAAd,CAAf;;AAEA,OAAI8P,QAAJ,EAAc;AACVw1B,cAAUtlC,GAAV,CAAc,WAAd,EAA2B8P,QAA3B;AACH;AACD,OAAIyR,UAAJ,EAAgB;AACZ+jB,cAAUtlC,GAAV,CAAc,aAAd,EAA6BuhB,UAA7B;AACH;;AAED,OAAIokB,UAAUzF,IAAV,CAAe,MAAf,MAA2B,KAA/B,EAAsC;AAClCoF,cAAUtlC,GAAV,CAAc,eAAd,EAA+B,QAA/B,EACKA,GADL,CACS,aADT,EACwB,KADxB;AAEH;;AAKDslC,aAAU1e,IAAV,CAAe+e,UAAUjqB,GAAV,KAAkB,IAAjC;AACA,OAAIkqB,UAAUN,UAAUO,IAAV,GAAiB34B,OAAjB,CAAyB,KAAzB,EAAgC,MAAhC,CAAd;AACAo4B,aAAUO,IAAV,CAAeD,OAAf;;AAGA;AACA;;AAEA,OAAID,UAAUb,EAAV,CAAa,UAAb,CAAJ,EAA8B;AAC1BQ,cAAUtlC,GAAV,CAAc,OAAd,EAAuB2lC,UAAU1xB,KAAV,EAAvB;AACH,IAFD,MAEO;AACHqxB,cAAUtlC,GAAV,CAAc,OAAd,EAAuBN,EAAEZ,MAAF,EAAUmV,KAAV,KAAoB,CAA3C;AACH;;AAED0xB,aAAU3lC,GAAV,CAAc,QAAd,EAAwBslC,UAAUpyB,MAAV,EAAxB;AACH;;AAEDxT,IAAE+lC,kBAAF,EAAsB1lC,IAAtB,CAA2B,YAAY;AACnC,OAAI4lC,YAAYjmC,EAAE,IAAF,CAAhB;AACA,OAAIimC,UAAUjqB,GAAV,GAAgBpb,MAApB,EAA4B;AACxBolC,uBAAmBC,SAAnB;AACH;AACJ,GALD;;AAOAjmC,IAAE,MAAF,EAAUilC,EAAV,CAAa,eAAb,EAA8Bc,kBAA9B,EAAkD,YAAY;AAC1DC,sBAAmBhmC,EAAE,IAAF,CAAnB;AACH,GAFD;AASH,EAxJD,EADU,CAyJN;AAEP,CA3JA,EA2JChE,MA3JD,CAAD","file":"mdb.js","sourcesContent":["/*!\r\n * Material Design for Bootstrap 4\r\n * Version: MDB FREE: 4.2.0\r\n *\r\n *\r\n * Copyright: Material Design for Bootstrap\r\n * http://mdbootstrap.com/\r\n *\r\n * Read the license: http://mdbootstrap.com/license/\r\n *\r\n *\r\n * Documentation: http://mdbootstrap.com/\r\n *\r\n * Getting started: http://mdbootstrap.com/getting-started/\r\n *\r\n * Tutorials: http://mdbootstrap.com/bootstrap-tutorial/\r\n *\r\n * Templates: http://mdbootstrap.com/templates/\r\n *\r\n * Support: http://mdbootstrap.com/forums/forum/support/\r\n *\r\n * Contact: office@mdbootstrap.com\r\n *\r\n * Atribution: Animate CSS, Twitter Bootstrap, Materialize CSS, Normalize CSS, Waves JS, WOW JS, Toastr, Chart.js , Hammer.js\r\n *\r\n */\r\n\r\n\r\n/*\r\n\r\njquery-easing.js\r\nglobal.js\r\nvelocity.js\r\n\r\nchart.js\r\nwow.js\r\nscrolling-nav.js\r\nwaves.js\r\nforms-basic.js\r\n\r\n*//*\r\n * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/\r\n *\r\n * Uses the built in easing capabilities added In jQuery 1.1\r\n * to offer multiple easing options\r\n *\r\n * TERMS OF USE - jQuery Easing\r\n *\r\n * Open source under the BSD License.\r\n *\r\n * Copyright © 2008 George McGinley Smith\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are permitted provided that the following conditions are met:\r\n *\r\n * Redistributions of source code must retain the above copyright notice, this list of\r\n * conditions and the following disclaimer.\r\n * Redistributions in binary form must reproduce the above copyright notice, this list\r\n * of conditions and the following disclaimer in the documentation and/or other materials\r\n * provided with the distribution.\r\n *\r\n * Neither the name of the author nor the names of contributors may be used to endorse\r\n * or promote products derived from this software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\r\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\r\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\r\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\r\n * OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n*/\r\n\r\n// t: current time, b: begInnIng value, c: change In value, d: duration\r\njQuery.easing['jswing'] = jQuery.easing['swing'];\r\n\r\njQuery.extend( jQuery.easing,\r\n{\r\n\tdef: 'easeOutQuad',\r\n\tswing: function (x, t, b, c, d) {\r\n\t\t//alert(jQuery.easing.default);\r\n\t\treturn jQuery.easing[jQuery.easing.def](x, t, b, c, d);\r\n\t},\r\n\teaseInQuad: function (x, t, b, c, d) {\r\n\t\treturn c*(t/=d)*t + b;\r\n\t},\r\n\teaseOutQuad: function (x, t, b, c, d) {\r\n\t\treturn -c *(t/=d)*(t-2) + b;\r\n\t},\r\n\teaseInOutQuad: function (x, t, b, c, d) {\r\n\t\tif ((t/=d/2) < 1) return c/2*t*t + b;\r\n\t\treturn -c/2 * ((--t)*(t-2) - 1) + b;\r\n\t},\r\n\teaseInCubic: function (x, t, b, c, d) {\r\n\t\treturn c*(t/=d)*t*t + b;\r\n\t},\r\n\teaseOutCubic: function (x, t, b, c, d) {\r\n\t\treturn c*((t=t/d-1)*t*t + 1) + b;\r\n\t},\r\n\teaseInOutCubic: function (x, t, b, c, d) {\r\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t + b;\r\n\t\treturn c/2*((t-=2)*t*t + 2) + b;\r\n\t},\r\n\teaseInQuart: function (x, t, b, c, d) {\r\n\t\treturn c*(t/=d)*t*t*t + b;\r\n\t},\r\n\teaseOutQuart: function (x, t, b, c, d) {\r\n\t\treturn -c * ((t=t/d-1)*t*t*t - 1) + b;\r\n\t},\r\n\teaseInOutQuart: function (x, t, b, c, d) {\r\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t + b;\r\n\t\treturn -c/2 * ((t-=2)*t*t*t - 2) + b;\r\n\t},\r\n\teaseInQuint: function (x, t, b, c, d) {\r\n\t\treturn c*(t/=d)*t*t*t*t + b;\r\n\t},\r\n\teaseOutQuint: function (x, t, b, c, d) {\r\n\t\treturn c*((t=t/d-1)*t*t*t*t + 1) + b;\r\n\t},\r\n\teaseInOutQuint: function (x, t, b, c, d) {\r\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t*t + b;\r\n\t\treturn c/2*((t-=2)*t*t*t*t + 2) + b;\r\n\t},\r\n\teaseInSine: function (x, t, b, c, d) {\r\n\t\treturn -c * Math.cos(t/d * (Math.PI/2)) + c + b;\r\n\t},\r\n\teaseOutSine: function (x, t, b, c, d) {\r\n\t\treturn c * Math.sin(t/d * (Math.PI/2)) + b;\r\n\t},\r\n\teaseInOutSine: function (x, t, b, c, d) {\r\n\t\treturn -c/2 * (Math.cos(Math.PI*t/d) - 1) + b;\r\n\t},\r\n\teaseInExpo: function (x, t, b, c, d) {\r\n\t\treturn (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\r\n\t},\r\n\teaseOutExpo: function (x, t, b, c, d) {\r\n\t\treturn (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\r\n\t},\r\n\teaseInOutExpo: function (x, t, b, c, d) {\r\n\t\tif (t==0) return b;\r\n\t\tif (t==d) return b+c;\r\n\t\tif ((t/=d/2) < 1) return c/2 * Math.pow(2, 10 * (t - 1)) + b;\r\n\t\treturn c/2 * (-Math.pow(2, -10 * --t) + 2) + b;\r\n\t},\r\n\teaseInCirc: function (x, t, b, c, d) {\r\n\t\treturn -c * (Math.sqrt(1 - (t/=d)*t) - 1) + b;\r\n\t},\r\n\teaseOutCirc: function (x, t, b, c, d) {\r\n\t\treturn c * Math.sqrt(1 - (t=t/d-1)*t) + b;\r\n\t},\r\n\teaseInOutCirc: function (x, t, b, c, d) {\r\n\t\tif ((t/=d/2) < 1) return -c/2 * (Math.sqrt(1 - t*t) - 1) + b;\r\n\t\treturn c/2 * (Math.sqrt(1 - (t-=2)*t) + 1) + b;\r\n\t},\r\n\teaseInElastic: function (x, t, b, c, d) {\r\n\t\tvar s=1.70158;var p=0;var a=c;\r\n\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\r\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\r\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\r\n\t\treturn -(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\r\n\t},\r\n\teaseOutElastic: function (x, t, b, c, d) {\r\n\t\tvar s=1.70158;var p=0;var a=c;\r\n\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\r\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\r\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\r\n\t\treturn a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;\r\n\t},\r\n\teaseInOutElastic: function (x, t, b, c, d) {\r\n\t\tvar s=1.70158;var p=0;var a=c;\r\n\t\tif (t==0) return b;  if ((t/=d/2)==2) return b+c;  if (!p) p=d*(.3*1.5);\r\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\r\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\r\n\t\tif (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\r\n\t\treturn a*Math.pow(2,-10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )*.5 + c + b;\r\n\t},\r\n\teaseInBack: function (x, t, b, c, d, s) {\r\n\t\tif (s == undefined) s = 1.70158;\r\n\t\treturn c*(t/=d)*t*((s+1)*t - s) + b;\r\n\t},\r\n\teaseOutBack: function (x, t, b, c, d, s) {\r\n\t\tif (s == undefined) s = 1.70158;\r\n\t\treturn c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\r\n\t},\r\n\teaseInOutBack: function (x, t, b, c, d, s) {\r\n\t\tif (s == undefined) s = 1.70158;\r\n\t\tif ((t/=d/2) < 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;\r\n\t\treturn c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;\r\n\t},\r\n\teaseInBounce: function (x, t, b, c, d) {\r\n\t\treturn c - jQuery.easing.easeOutBounce (x, d-t, 0, c, d) + b;\r\n\t},\r\n\teaseOutBounce: function (x, t, b, c, d) {\r\n\t\tif ((t/=d) < (1/2.75)) {\r\n\t\t\treturn c*(7.5625*t*t) + b;\r\n\t\t} else if (t < (2/2.75)) {\r\n\t\t\treturn c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\r\n\t\t} else if (t < (2.5/2.75)) {\r\n\t\t\treturn c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\r\n\t\t} else {\r\n\t\t\treturn c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\r\n\t\t}\r\n\t},\r\n\teaseInOutBounce: function (x, t, b, c, d) {\r\n\t\tif (t < d/2) return jQuery.easing.easeInBounce (x, t*2, 0, c, d) * .5 + b;\r\n\t\treturn jQuery.easing.easeOutBounce (x, t*2-d, 0, c, d) * .5 + c*.5 + b;\r\n\t}\r\n});\r\n\r\n/*\r\n *\r\n * TERMS OF USE - EASING EQUATIONS\r\n *\r\n * Open source under the BSD License.\r\n *\r\n * Copyright © 2001 Robert Penner\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are permitted provided that the following conditions are met:\r\n *\r\n * Redistributions of source code must retain the above copyright notice, this list of\r\n * conditions and the following disclaimer.\r\n * Redistributions in binary form must reproduce the above copyright notice, this list\r\n * of conditions and the following disclaimer in the documentation and/or other materials\r\n * provided with the distribution.\r\n *\r\n * Neither the name of the author nor the names of contributors may be used to endorse\r\n * or promote products derived from this software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\r\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\r\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\r\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\r\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\r\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\r\n * OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n */// Required for Meteor package, the use of window prevents export by Meteor\r\n(function(window){\r\n  if(window.Package){\r\n    Materialize = {};\r\n  } else {\r\n    window.Materialize = {};\r\n  }\r\n})(window);\r\n\r\n\r\n// Unique ID\r\nMaterialize.guid = (function() {\r\n  function s4() {\r\n    return Math.floor((1 + Math.random()) * 0x10000)\r\n      .toString(16)\r\n      .substring(1);\r\n  }\r\n  return function() {\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n           s4() + '-' + s4() + s4() + s4();\r\n  };\r\n})();\r\n\r\nMaterialize.elementOrParentIsFixed = function(element) {\r\n    var $element = $(element);\r\n    var $checkElements = $element.add($element.parents());\r\n    var isFixed = false;\r\n    $checkElements.each(function(){\r\n        if ($(this).css(\"position\") === \"fixed\") {\r\n            isFixed = true;\r\n            return false;\r\n        }\r\n    });\r\n    return isFixed;\r\n};\r\n\r\n// Velocity has conflicts when loaded with jQuery, this will check for it\r\nvar Vel;\r\nif ($) {\r\n  Vel = $.Velocity;\r\n} else if (jQuery) {\r\n  Vel = jQuery.Velocity;\r\n} else {\r\n  Vel = Velocity;\r\n}\r\n/*! VelocityJS.org (1.2.3). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */\r\n/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */\r\n/*! Note that this has been modified by Materialize to confirm that Velocity is not already being imported. */\r\njQuery.Velocity?console.log(\"Velocity is already loaded. You may be needlessly importing Velocity again; note that Materialize includes Velocity.\"):(!function(e){function t(e){var t=e.length,a=r.type(e);return\"function\"===a||r.isWindow(e)?!1:1===e.nodeType&&t?!0:\"array\"===a||0===t||\"number\"==typeof t&&t>0&&t-1 in e}if(!e.jQuery){var r=function(e,t){return new r.fn.init(e,t)};r.isWindow=function(e){return null!=e&&e==e.window},r.type=function(e){return null==e?e+\"\":\"object\"==typeof e||\"function\"==typeof e?n[i.call(e)]||\"object\":typeof e},r.isArray=Array.isArray||function(e){return\"array\"===r.type(e)},r.isPlainObject=function(e){var t;if(!e||\"object\"!==r.type(e)||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!o.call(e,\"constructor\")&&!o.call(e.constructor.prototype,\"isPrototypeOf\"))return!1}catch(a){return!1}for(t in e);return void 0===t||o.call(e,t)},r.each=function(e,r,a){var n,o=0,i=e.length,s=t(e);if(a){if(s)for(;i>o&&(n=r.apply(e[o],a),n!==!1);o++);else for(o in e)if(n=r.apply(e[o],a),n===!1)break}else if(s)for(;i>o&&(n=r.call(e[o],o,e[o]),n!==!1);o++);else for(o in e)if(n=r.call(e[o],o,e[o]),n===!1)break;return e},r.data=function(e,t,n){if(void 0===n){var o=e[r.expando],i=o&&a[o];if(void 0===t)return i;if(i&&t in i)return i[t]}else if(void 0!==t){var o=e[r.expando]||(e[r.expando]=++r.uuid);return a[o]=a[o]||{},a[o][t]=n,n}},r.removeData=function(e,t){var n=e[r.expando],o=n&&a[n];o&&r.each(t,function(e,t){delete o[t]})},r.extend=function(){var e,t,a,n,o,i,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for(\"boolean\"==typeof s&&(c=s,s=arguments[l]||{},l++),\"object\"!=typeof s&&\"function\"!==r.type(s)&&(s={}),l===u&&(s=this,l--);u>l;l++)if(null!=(o=arguments[l]))for(n in o)e=s[n],a=o[n],s!==a&&(c&&a&&(r.isPlainObject(a)||(t=r.isArray(a)))?(t?(t=!1,i=e&&r.isArray(e)?e:[]):i=e&&r.isPlainObject(e)?e:{},s[n]=r.extend(c,i,a)):void 0!==a&&(s[n]=a));return s},r.queue=function(e,a,n){function o(e,r){var a=r||[];return null!=e&&(t(Object(e))?!function(e,t){for(var r=+t.length,a=0,n=e.length;r>a;)e[n++]=t[a++];if(r!==r)for(;void 0!==t[a];)e[n++]=t[a++];return e.length=n,e}(a,\"string\"==typeof e?[e]:e):[].push.call(a,e)),a}if(e){a=(a||\"fx\")+\"queue\";var i=r.data(e,a);return n?(!i||r.isArray(n)?i=r.data(e,a,o(n)):i.push(n),i):i||[]}},r.dequeue=function(e,t){r.each(e.nodeType?[e]:e,function(e,a){t=t||\"fx\";var n=r.queue(a,t),o=n.shift();\"inprogress\"===o&&(o=n.shift()),o&&(\"fx\"===t&&n.unshift(\"inprogress\"),o.call(a,function(){r.dequeue(a,t)}))})},r.fn=r.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error(\"Not a DOM node.\")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&\"html\"===!e.nodeType.toLowerCase&&\"static\"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),a=this.offset(),n=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:r(e).offset();return a.top-=parseFloat(t.style.marginTop)||0,a.left-=parseFloat(t.style.marginLeft)||0,e.style&&(n.top+=parseFloat(e.style.borderTopWidth)||0,n.left+=parseFloat(e.style.borderLeftWidth)||0),{top:a.top-n.top,left:a.left-n.left}}};var a={};r.expando=\"velocity\"+(new Date).getTime(),r.uuid=0;for(var n={},o=n.hasOwnProperty,i=n.toString,s=\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),l=0;l<s.length;l++)n[\"[object \"+s[l]+\"]\"]=s[l].toLowerCase();r.fn.init.prototype=r.fn,e.Velocity={Utilities:r}}}(window),function(e){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=e():\"function\"==typeof define&&define.amd?define(e):e()}(function(){return function(e,t,r,a){function n(e){for(var t=-1,r=e?e.length:0,a=[];++t<r;){var n=e[t];n&&a.push(n)}return a}function o(e){return m.isWrapped(e)?e=[].slice.call(e):m.isNode(e)&&(e=[e]),e}function i(e){var t=f.data(e,\"velocity\");return null===t?a:t}function s(e){return function(t){return Math.round(t*e)*(1/e)}}function l(e,r,a,n){function o(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function s(e){return 3*e}function l(e,t,r){return((o(t,r)*e+i(t,r))*e+s(t))*e}function u(e,t,r){return 3*o(t,r)*e*e+2*i(t,r)*e+s(t)}function c(t,r){for(var n=0;m>n;++n){var o=u(r,e,a);if(0===o)return r;var i=l(r,e,a)-t;r-=i/o}return r}function p(){for(var t=0;b>t;++t)w[t]=l(t*x,e,a)}function f(t,r,n){var o,i,s=0;do i=r+(n-r)/2,o=l(i,e,a)-t,o>0?n=i:r=i;while(Math.abs(o)>h&&++s<v);return i}function d(t){for(var r=0,n=1,o=b-1;n!=o&&w[n]<=t;++n)r+=x;--n;var i=(t-w[n])/(w[n+1]-w[n]),s=r+i*x,l=u(s,e,a);return l>=y?c(t,s):0==l?s:f(t,r,r+x)}function g(){V=!0,(e!=r||a!=n)&&p()}var m=4,y=.001,h=1e-7,v=10,b=11,x=1/(b-1),S=\"Float32Array\"in t;if(4!==arguments.length)return!1;for(var P=0;4>P;++P)if(\"number\"!=typeof arguments[P]||isNaN(arguments[P])||!isFinite(arguments[P]))return!1;e=Math.min(e,1),a=Math.min(a,1),e=Math.max(e,0),a=Math.max(a,0);var w=S?new Float32Array(b):new Array(b),V=!1,C=function(t){return V||g(),e===r&&a===n?t:0===t?0:1===t?1:l(d(t),r,n)};C.getControlPoints=function(){return[{x:e,y:r},{x:a,y:n}]};var T=\"generateBezier(\"+[e,r,a,n]+\")\";return C.toString=function(){return T},C}function u(e,t){var r=e;return m.isString(e)?b.Easings[e]||(r=!1):r=m.isArray(e)&&1===e.length?s.apply(null,e):m.isArray(e)&&2===e.length?x.apply(null,e.concat([t])):m.isArray(e)&&4===e.length?l.apply(null,e):!1,r===!1&&(r=b.Easings[b.defaults.easing]?b.defaults.easing:v),r}function c(e){if(e){var t=(new Date).getTime(),r=b.State.calls.length;r>1e4&&(b.State.calls=n(b.State.calls));for(var o=0;r>o;o++)if(b.State.calls[o]){var s=b.State.calls[o],l=s[0],u=s[2],d=s[3],g=!!d,y=null;d||(d=b.State.calls[o][3]=t-16);for(var h=Math.min((t-d)/u.duration,1),v=0,x=l.length;x>v;v++){var P=l[v],V=P.element;if(i(V)){var C=!1;if(u.display!==a&&null!==u.display&&\"none\"!==u.display){if(\"flex\"===u.display){var T=[\"-webkit-box\",\"-moz-box\",\"-ms-flexbox\",\"-webkit-flex\"];f.each(T,function(e,t){S.setPropertyValue(V,\"display\",t)})}S.setPropertyValue(V,\"display\",u.display)}u.visibility!==a&&\"hidden\"!==u.visibility&&S.setPropertyValue(V,\"visibility\",u.visibility);for(var k in P)if(\"element\"!==k){var A,F=P[k],j=m.isString(F.easing)?b.Easings[F.easing]:F.easing;if(1===h)A=F.endValue;else{var E=F.endValue-F.startValue;if(A=F.startValue+E*j(h,u,E),!g&&A===F.currentValue)continue}if(F.currentValue=A,\"tween\"===k)y=A;else{if(S.Hooks.registered[k]){var H=S.Hooks.getRoot(k),N=i(V).rootPropertyValueCache[H];N&&(F.rootPropertyValue=N)}var L=S.setPropertyValue(V,k,F.currentValue+(0===parseFloat(A)?\"\":F.unitType),F.rootPropertyValue,F.scrollData);S.Hooks.registered[k]&&(i(V).rootPropertyValueCache[H]=S.Normalizations.registered[H]?S.Normalizations.registered[H](\"extract\",null,L[1]):L[1]),\"transform\"===L[0]&&(C=!0)}}u.mobileHA&&i(V).transformCache.translate3d===a&&(i(V).transformCache.translate3d=\"(0px, 0px, 0px)\",C=!0),C&&S.flushTransformCache(V)}}u.display!==a&&\"none\"!==u.display&&(b.State.calls[o][2].display=!1),u.visibility!==a&&\"hidden\"!==u.visibility&&(b.State.calls[o][2].visibility=!1),u.progress&&u.progress.call(s[1],s[1],h,Math.max(0,d+u.duration-t),d,y),1===h&&p(o)}}b.State.isTicking&&w(c)}function p(e,t){if(!b.State.calls[e])return!1;for(var r=b.State.calls[e][0],n=b.State.calls[e][1],o=b.State.calls[e][2],s=b.State.calls[e][4],l=!1,u=0,c=r.length;c>u;u++){var p=r[u].element;if(t||o.loop||(\"none\"===o.display&&S.setPropertyValue(p,\"display\",o.display),\"hidden\"===o.visibility&&S.setPropertyValue(p,\"visibility\",o.visibility)),o.loop!==!0&&(f.queue(p)[1]===a||!/\\.velocityQueueEntryFlag/i.test(f.queue(p)[1]))&&i(p)){i(p).isAnimating=!1,i(p).rootPropertyValueCache={};var d=!1;f.each(S.Lists.transforms3D,function(e,t){var r=/^scale/.test(t)?1:0,n=i(p).transformCache[t];i(p).transformCache[t]!==a&&new RegExp(\"^\\\\(\"+r+\"[^.]\").test(n)&&(d=!0,delete i(p).transformCache[t])}),o.mobileHA&&(d=!0,delete i(p).transformCache.translate3d),d&&S.flushTransformCache(p),S.Values.removeClass(p,\"velocity-animating\")}if(!t&&o.complete&&!o.loop&&u===c-1)try{o.complete.call(n,n)}catch(g){setTimeout(function(){throw g},1)}s&&o.loop!==!0&&s(n),i(p)&&o.loop===!0&&!t&&(f.each(i(p).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&\"%\"===t.unitType&&(t.endValue=0,t.startValue=100)}),b(p,\"reverse\",{loop:!0,delay:o.delay})),o.queue!==!1&&f.dequeue(p,o.queue)}b.State.calls[e]=!1;for(var m=0,y=b.State.calls.length;y>m;m++)if(b.State.calls[m]!==!1){l=!0;break}l===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var f,d=function(){if(r.documentMode)return r.documentMode;for(var e=7;e>4;e--){var t=r.createElement(\"div\");if(t.innerHTML=\"<!--[if IE \"+e+\"]><span></span><![endif]-->\",t.getElementsByTagName(\"span\").length)return t=null,e}return a}(),g=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var r,a=(new Date).getTime();return r=Math.max(0,16-(a-e)),e=a+r,setTimeout(function(){t(a+r)},r)}}(),m={isString:function(e){return\"string\"==typeof e},isArray:Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},isFunction:function(e){return\"[object Function]\"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return\"object\"==typeof e&&/^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(Object.prototype.toString.call(e))&&e.length!==a&&(0===e.length||\"object\"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},y=!1;if(e.fn&&e.fn.jquery?(f=e,y=!0):f=t.Velocity.Utilities,8>=d&&!y)throw new Error(\"Velocity: IE8 and below require jQuery to be loaded before Velocity.\");if(7>=d)return void(jQuery.fn.velocity=jQuery.fn.animate);var h=400,v=\"swing\",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\\.3\\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:r.createElement(\"div\"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:f,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:\"\",duration:h,easing:v,begin:a,complete:a,progress:a,display:a,visibility:a,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){f.data(e,\"velocity\",{isSVG:m.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};t.pageYOffset!==a?(b.State.scrollAnchor=t,b.State.scrollPropertyLeft=\"pageXOffset\",b.State.scrollPropertyTop=\"pageYOffset\"):(b.State.scrollAnchor=r.documentElement||r.body.parentNode||r.body,b.State.scrollPropertyLeft=\"scrollLeft\",b.State.scrollPropertyTop=\"scrollTop\");var x=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,a){var n={x:t.x+a.dx*r,v:t.v+a.dv*r,tension:t.tension,friction:t.friction};return{dx:n.v,dv:e(n)}}function r(r,a){var n={dx:r.v,dv:e(r)},o=t(r,.5*a,n),i=t(r,.5*a,o),s=t(r,a,i),l=1/6*(n.dx+2*(o.dx+i.dx)+s.dx),u=1/6*(n.dv+2*(o.dv+i.dv)+s.dv);return r.x=r.x+l*a,r.v=r.v+u*a,r}return function a(e,t,n){var o,i,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,p=1e-4,f=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,n=n||null,l.tension=e,l.friction=t,o=null!==n,o?(c=a(e,t),i=c/n*f):i=f;s=r(s||l,i),u.push(1+s.x),c+=16,Math.abs(s.x)>p&&Math.abs(s.v)>p;);return o?function(e){return u[e*(u.length-1)|0]}:c}}();b.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},f.each([[\"ease\",[.25,.1,.25,1]],[\"ease-in\",[.42,0,1,1]],[\"ease-out\",[0,0,.58,1]],[\"ease-in-out\",[.42,0,.58,1]],[\"easeInSine\",[.47,0,.745,.715]],[\"easeOutSine\",[.39,.575,.565,1]],[\"easeInOutSine\",[.445,.05,.55,.95]],[\"easeInQuad\",[.55,.085,.68,.53]],[\"easeOutQuad\",[.25,.46,.45,.94]],[\"easeInOutQuad\",[.455,.03,.515,.955]],[\"easeInCubic\",[.55,.055,.675,.19]],[\"easeOutCubic\",[.215,.61,.355,1]],[\"easeInOutCubic\",[.645,.045,.355,1]],[\"easeInQuart\",[.895,.03,.685,.22]],[\"easeOutQuart\",[.165,.84,.44,1]],[\"easeInOutQuart\",[.77,0,.175,1]],[\"easeInQuint\",[.755,.05,.855,.06]],[\"easeOutQuint\",[.23,1,.32,1]],[\"easeInOutQuint\",[.86,0,.07,1]],[\"easeInExpo\",[.95,.05,.795,.035]],[\"easeOutExpo\",[.19,1,.22,1]],[\"easeInOutExpo\",[1,0,0,1]],[\"easeInCirc\",[.6,.04,.98,.335]],[\"easeOutCirc\",[.075,.82,.165,1]],[\"easeInOutCirc\",[.785,.135,.15,.86]]],function(e,t){b.Easings[t[0]]=l.apply(null,t[1])});var S=b.CSS={RegEx:{isHex:/^#([A-f\\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\\((.*)\\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\\(.+\\))|(([A-z0-9#-.]+?)(?=\\s|$))/gi},Lists:{colors:[\"fill\",\"stroke\",\"stopColor\",\"color\",\"backgroundColor\",\"borderColor\",\"borderTopColor\",\"borderRightColor\",\"borderBottomColor\",\"borderLeftColor\",\"outlineColor\"],transformsBase:[\"translateX\",\"translateY\",\"scale\",\"scaleX\",\"scaleY\",\"skewX\",\"skewY\",\"rotateZ\"],transforms3D:[\"transformPerspective\",\"translateZ\",\"scaleZ\",\"rotateX\",\"rotateY\"]},Hooks:{templates:{textShadow:[\"Color X Y Blur\",\"black 0px 0px 0px\"],boxShadow:[\"Color X Y Blur Spread\",\"black 0px 0px 0px 0px\"],clip:[\"Top Right Bottom Left\",\"0px 0px 0px 0px\"],backgroundPosition:[\"X Y\",\"0% 0%\"],transformOrigin:[\"X Y Z\",\"50% 50% 0px\"],perspectiveOrigin:[\"X Y\",\"50% 50%\"]},registered:{},register:function(){for(var e=0;e<S.Lists.colors.length;e++){var t=\"color\"===S.Lists.colors[e]?\"0 0 0 1\":\"255 255 255 1\";S.Hooks.templates[S.Lists.colors[e]]=[\"Red Green Blue Alpha\",t]}var r,a,n;if(d)for(r in S.Hooks.templates){a=S.Hooks.templates[r],n=a[0].split(\" \");var o=a[1].match(S.RegEx.valueSplit);\"Color\"===n[0]&&(n.push(n.shift()),o.push(o.shift()),S.Hooks.templates[r]=[n.join(\" \"),o.join(\" \")])}for(r in S.Hooks.templates){a=S.Hooks.templates[r],n=a[0].split(\" \");for(var e in n){var i=r+n[e],s=e;S.Hooks.registered[i]=[r,s]}}},getRoot:function(e){var t=S.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return S.RegEx.valueUnwrap.test(t)&&(t=t.match(S.RegEx.valueUnwrap)[1]),S.Values.isCSSNullValue(t)&&(t=S.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=S.Hooks.registered[e];if(r){var a=r[0],n=r[1];return t=S.Hooks.cleanRootPropertyValue(a,t),t.toString().match(S.RegEx.valueSplit)[n]}return t},injectValue:function(e,t,r){var a=S.Hooks.registered[e];if(a){var n,o,i=a[0],s=a[1];return r=S.Hooks.cleanRootPropertyValue(i,r),n=r.toString().match(S.RegEx.valueSplit),n[s]=t,o=n.join(\" \")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case\"name\":return\"clip\";case\"extract\":var a;return S.RegEx.wrappedValueAlreadyExtracted.test(r)?a=r:(a=r.toString().match(S.RegEx.valueUnwrap),a=a?a[1].replace(/,(\\s+)?/g,\" \"):r),a;case\"inject\":return\"rect(\"+r+\")\"}},blur:function(e,t,r){switch(e){case\"name\":return b.State.isFirefox?\"filter\":\"-webkit-filter\";case\"extract\":var a=parseFloat(r);if(!a&&0!==a){var n=r.toString().match(/blur\\(([0-9]+[A-z]+)\\)/i);a=n?n[1]:0}return a;case\"inject\":return parseFloat(r)?\"blur(\"+r+\")\":\"none\"}},opacity:function(e,t,r){if(8>=d)switch(e){case\"name\":return\"filter\";case\"extract\":var a=r.toString().match(/alpha\\(opacity=(.*)\\)/i);return r=a?a[1]/100:1;case\"inject\":return t.style.zoom=1,parseFloat(r)>=1?\"\":\"alpha(opacity=\"+parseInt(100*parseFloat(r),10)+\")\"}else switch(e){case\"name\":return\"opacity\";case\"extract\":return r;case\"inject\":return r}}},register:function(){9>=d||b.State.isGingerbread||(S.Lists.transformsBase=S.Lists.transformsBase.concat(S.Lists.transforms3D));for(var e=0;e<S.Lists.transformsBase.length;e++)!function(){var t=S.Lists.transformsBase[e];S.Normalizations.registered[t]=function(e,r,n){switch(e){case\"name\":return\"transform\";case\"extract\":return i(r)===a||i(r).transformCache[t]===a?/^scale/i.test(t)?1:0:i(r).transformCache[t].replace(/[()]/g,\"\");case\"inject\":var o=!1;switch(t.substr(0,t.length-1)){case\"translate\":o=!/(%|px|em|rem|vw|vh|\\d)$/i.test(n);break;case\"scal\":case\"scale\":b.State.isAndroid&&i(r).transformCache[t]===a&&1>n&&(n=1),o=!/(\\d)$/i.test(n);break;case\"skew\":o=!/(deg|\\d)$/i.test(n);break;case\"rotate\":o=!/(deg|\\d)$/i.test(n)}return o||(i(r).transformCache[t]=\"(\"+n+\")\"),i(r).transformCache[t]}}}();for(var e=0;e<S.Lists.colors.length;e++)!function(){var t=S.Lists.colors[e];S.Normalizations.registered[t]=function(e,r,n){switch(e){case\"name\":return t;case\"extract\":var o;if(S.RegEx.wrappedValueAlreadyExtracted.test(n))o=n;else{var i,s={black:\"rgb(0, 0, 0)\",blue:\"rgb(0, 0, 255)\",gray:\"rgb(128, 128, 128)\",green:\"rgb(0, 128, 0)\",red:\"rgb(255, 0, 0)\",white:\"rgb(255, 255, 255)\"};/^[A-z]+$/i.test(n)?i=s[n]!==a?s[n]:s.black:S.RegEx.isHex.test(n)?i=\"rgb(\"+S.Values.hexToRgb(n).join(\" \")+\")\":/^rgba?\\(/i.test(n)||(i=s.black),o=(i||n).toString().match(S.RegEx.valueUnwrap)[1].replace(/,(\\s+)?/g,\" \")}return 8>=d||3!==o.split(\" \").length||(o+=\" 1\"),o;case\"inject\":return 8>=d?4===n.split(\" \").length&&(n=n.split(/\\s+/).slice(0,3).join(\" \")):3===n.split(\" \").length&&(n+=\" 1\"),(8>=d?\"rgb\":\"rgba\")+\"(\"+n.replace(/\\s+/g,\",\").replace(/\\.(\\d)+(?=,)/g,\"\")+\")\"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t=\"width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2\";return(d||b.State.isAndroid&&!b.State.isChrome)&&(t+=\"|transform\"),new RegExp(\"^(\"+t+\")$\",\"i\").test(e)},prefixCheck:function(e){if(b.State.prefixMatches[e])return[b.State.prefixMatches[e],!0];for(var t=[\"\",\"Webkit\",\"Moz\",\"ms\",\"O\"],r=0,a=t.length;a>r;r++){var n;if(n=0===r?e:t[r]+e.replace(/^\\w/,function(e){return e.toUpperCase()}),m.isString(b.State.prefixElement.style[n]))return b.State.prefixMatches[e]=n,[n,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,r=/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,a=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;return e=e.replace(r,function(e,t,r,a){return t+t+r+r+a+a}),t=a.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\\(0, ?0, ?0, ?0\\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?\"deg\":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?\"\":\"px\"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?\"inline\":/^(li)$/i.test(t)?\"list-item\":/^(tr)$/i.test(t)?\"table-row\":/^(table)$/i.test(t)?\"table\":/^(tbody)$/i.test(t)?\"table-row-group\":\"block\"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?\" \":\"\")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp(\"(^|\\\\s)\"+t.split(\" \").join(\"|\")+\"(\\\\s|$)\",\"gi\"),\" \")}},getPropertyValue:function(e,r,n,o){function s(e,r){function n(){u&&S.setPropertyValue(e,\"display\",\"none\")}var l=0;if(8>=d)l=f.css(e,r);else{var u=!1;if(/^(width|height)$/.test(r)&&0===S.getPropertyValue(e,\"display\")&&(u=!0,S.setPropertyValue(e,\"display\",S.Values.getDisplayType(e))),!o){if(\"height\"===r&&\"border-box\"!==S.getPropertyValue(e,\"boxSizing\").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(S.getPropertyValue(e,\"borderTopWidth\"))||0)-(parseFloat(S.getPropertyValue(e,\"borderBottomWidth\"))||0)-(parseFloat(S.getPropertyValue(e,\"paddingTop\"))||0)-(parseFloat(S.getPropertyValue(e,\"paddingBottom\"))||0);return n(),c}if(\"width\"===r&&\"border-box\"!==S.getPropertyValue(e,\"boxSizing\").toString().toLowerCase()){var p=e.offsetWidth-(parseFloat(S.getPropertyValue(e,\"borderLeftWidth\"))||0)-(parseFloat(S.getPropertyValue(e,\"borderRightWidth\"))||0)-(parseFloat(S.getPropertyValue(e,\"paddingLeft\"))||0)-(parseFloat(S.getPropertyValue(e,\"paddingRight\"))||0);return n(),p}}var g;g=i(e)===a?t.getComputedStyle(e,null):i(e).computedStyle?i(e).computedStyle:i(e).computedStyle=t.getComputedStyle(e,null),\"borderColor\"===r&&(r=\"borderTopColor\"),l=9===d&&\"filter\"===r?g.getPropertyValue(r):g[r],(\"\"===l||null===l)&&(l=e.style[r]),n()}if(\"auto\"===l&&/^(top|right|bottom|left)$/i.test(r)){var m=s(e,\"position\");(\"fixed\"===m||\"absolute\"===m&&/top|left/i.test(r))&&(l=f(e).position()[r]+\"px\")}return l}var l;if(S.Hooks.registered[r]){var u=r,c=S.Hooks.getRoot(u);n===a&&(n=S.getPropertyValue(e,S.Names.prefixCheck(c)[0])),S.Normalizations.registered[c]&&(n=S.Normalizations.registered[c](\"extract\",e,n)),l=S.Hooks.extractValue(u,n)}else if(S.Normalizations.registered[r]){var p,g;p=S.Normalizations.registered[r](\"name\",e),\"transform\"!==p&&(g=s(e,S.Names.prefixCheck(p)[0]),S.Values.isCSSNullValue(g)&&S.Hooks.templates[r]&&(g=S.Hooks.templates[r][1])),l=S.Normalizations.registered[r](\"extract\",e,g)}if(!/^[\\d-]/.test(l))if(i(e)&&i(e).isSVG&&S.Names.SVGAttribute(r))if(/^(height|width)$/i.test(r))try{l=e.getBBox()[r]}catch(m){l=0}else l=e.getAttribute(r);else l=s(e,S.Names.prefixCheck(r)[0]);return S.Values.isCSSNullValue(l)&&(l=0),b.debug>=2&&console.log(\"Get \"+r+\": \"+l),l},setPropertyValue:function(e,r,a,n,o){var s=r;if(\"scroll\"===r)o.container?o.container[\"scroll\"+o.direction]=a:\"Left\"===o.direction?t.scrollTo(a,o.alternateValue):t.scrollTo(o.alternateValue,a);else if(S.Normalizations.registered[r]&&\"transform\"===S.Normalizations.registered[r](\"name\",e))S.Normalizations.registered[r](\"inject\",e,a),s=\"transform\",a=i(e).transformCache[r];else{if(S.Hooks.registered[r]){var l=r,u=S.Hooks.getRoot(r);n=n||S.getPropertyValue(e,u),a=S.Hooks.injectValue(l,a,n),r=u}if(S.Normalizations.registered[r]&&(a=S.Normalizations.registered[r](\"inject\",e,a),r=S.Normalizations.registered[r](\"name\",e)),s=S.Names.prefixCheck(r)[0],8>=d)try{e.style[s]=a}catch(c){b.debug&&console.log(\"Browser does not support [\"+a+\"] for [\"+s+\"]\")}else i(e)&&i(e).isSVG&&S.Names.SVGAttribute(r)?e.setAttribute(r,a):e.style[s]=a;b.debug>=2&&console.log(\"Set \"+r+\" (\"+s+\"): \"+a)}return[s,a]},flushTransformCache:function(e){function t(t){return parseFloat(S.getPropertyValue(e,t))}var r=\"\";if((d||b.State.isAndroid&&!b.State.isChrome)&&i(e).isSVG){var a={translate:[t(\"translateX\"),t(\"translateY\")],skewX:[t(\"skewX\")],skewY:[t(\"skewY\")],scale:1!==t(\"scale\")?[t(\"scale\"),t(\"scale\")]:[t(\"scaleX\"),t(\"scaleY\")],rotate:[t(\"rotateZ\"),0,0]};f.each(i(e).transformCache,function(e){/^translate/i.test(e)?e=\"translate\":/^scale/i.test(e)?e=\"scale\":/^rotate/i.test(e)&&(e=\"rotate\"),a[e]&&(r+=e+\"(\"+a[e].join(\" \")+\") \",delete a[e])})}else{var n,o;f.each(i(e).transformCache,function(t){return n=i(e).transformCache[t],\"transformPerspective\"===t?(o=n,!0):(9===d&&\"rotateZ\"===t&&(t=\"rotate\"),void(r+=t+n+\" \"))}),o&&(r=\"perspective\"+o+\" \"+r)}S.setPropertyValue(e,\"transform\",r)}};S.Hooks.register(),S.Normalizations.register(),b.hook=function(e,t,r){var n=a;return e=o(e),f.each(e,function(e,o){if(i(o)===a&&b.init(o),r===a)n===a&&(n=b.CSS.getPropertyValue(o,t));else{var s=b.CSS.setPropertyValue(o,t,r);\"transform\"===s[0]&&b.CSS.flushTransformCache(o),n=s}}),n};var P=function(){function e(){return s?k.promise||null:l}function n(){function e(e){function p(e,t){var r=a,n=a,i=a;return m.isArray(e)?(r=e[0],!m.isArray(e[1])&&/^[\\d-]/.test(e[1])||m.isFunction(e[1])||S.RegEx.isHex.test(e[1])?i=e[1]:(m.isString(e[1])&&!S.RegEx.isHex.test(e[1])||m.isArray(e[1]))&&(n=t?e[1]:u(e[1],s.duration),e[2]!==a&&(i=e[2]))):r=e,t||(n=n||s.easing),m.isFunction(r)&&(r=r.call(o,V,w)),m.isFunction(i)&&(i=i.call(o,V,w)),[r||0,n,i]}function d(e,t){var r,a;return a=(t||\"0\").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return r=e,\"\"}),r||(r=S.Values.getUnitType(e)),[a,r]}function h(){var e={myParent:o.parentNode||r.body,position:S.getPropertyValue(o,\"position\"),fontSize:S.getPropertyValue(o,\"fontSize\")},a=e.position===L.lastPosition&&e.myParent===L.lastParent,n=e.fontSize===L.lastFontSize;L.lastParent=e.myParent,L.lastPosition=e.position,L.lastFontSize=e.fontSize;var s=100,l={};if(n&&a)l.emToPx=L.lastEmToPx,l.percentToPxWidth=L.lastPercentToPxWidth,l.percentToPxHeight=L.lastPercentToPxHeight;else{var u=i(o).isSVG?r.createElementNS(\"http://www.w3.org/2000/svg\",\"rect\"):r.createElement(\"div\");b.init(u),e.myParent.appendChild(u),f.each([\"overflow\",\"overflowX\",\"overflowY\"],function(e,t){b.CSS.setPropertyValue(u,t,\"hidden\")}),b.CSS.setPropertyValue(u,\"position\",e.position),b.CSS.setPropertyValue(u,\"fontSize\",e.fontSize),b.CSS.setPropertyValue(u,\"boxSizing\",\"content-box\"),f.each([\"minWidth\",\"maxWidth\",\"width\",\"minHeight\",\"maxHeight\",\"height\"],function(e,t){b.CSS.setPropertyValue(u,t,s+\"%\")}),b.CSS.setPropertyValue(u,\"paddingLeft\",s+\"em\"),l.percentToPxWidth=L.lastPercentToPxWidth=(parseFloat(S.getPropertyValue(u,\"width\",null,!0))||1)/s,l.percentToPxHeight=L.lastPercentToPxHeight=(parseFloat(S.getPropertyValue(u,\"height\",null,!0))||1)/s,l.emToPx=L.lastEmToPx=(parseFloat(S.getPropertyValue(u,\"paddingLeft\"))||1)/s,e.myParent.removeChild(u)}return null===L.remToPx&&(L.remToPx=parseFloat(S.getPropertyValue(r.body,\"fontSize\"))||16),null===L.vwToPx&&(L.vwToPx=parseFloat(t.innerWidth)/100,L.vhToPx=parseFloat(t.innerHeight)/100),l.remToPx=L.remToPx,l.vwToPx=L.vwToPx,l.vhToPx=L.vhToPx,b.debug>=1&&console.log(\"Unit ratios: \"+JSON.stringify(l),o),l}if(s.begin&&0===V)try{s.begin.call(g,g)}catch(x){setTimeout(function(){throw x},1)}if(\"scroll\"===A){var P,C,T,F=/^x$/i.test(s.axis)?\"Left\":\"Top\",j=parseFloat(s.offset)||0;s.container?m.isWrapped(s.container)||m.isNode(s.container)?(s.container=s.container[0]||s.container,P=s.container[\"scroll\"+F],T=P+f(o).position()[F.toLowerCase()]+j):s.container=null:(P=b.State.scrollAnchor[b.State[\"scrollProperty\"+F]],C=b.State.scrollAnchor[b.State[\"scrollProperty\"+(\"Left\"===F?\"Top\":\"Left\")]],T=f(o).offset()[F.toLowerCase()]+j),l={scroll:{rootPropertyValue:!1,startValue:P,currentValue:P,endValue:T,unitType:\"\",easing:s.easing,scrollData:{container:s.container,direction:F,alternateValue:C}},element:o},b.debug&&console.log(\"tweensContainer (scroll): \",l.scroll,o)}else if(\"reverse\"===A){if(!i(o).tweensContainer)return void f.dequeue(o,s.queue);\"none\"===i(o).opts.display&&(i(o).opts.display=\"auto\"),\"hidden\"===i(o).opts.visibility&&(i(o).opts.visibility=\"visible\"),i(o).opts.loop=!1,i(o).opts.begin=null,i(o).opts.complete=null,v.easing||delete s.easing,v.duration||delete s.duration,s=f.extend({},i(o).opts,s);var E=f.extend(!0,{},i(o).tweensContainer);for(var H in E)if(\"element\"!==H){var N=E[H].startValue;E[H].startValue=E[H].currentValue=E[H].endValue,E[H].endValue=N,m.isEmptyObject(v)||(E[H].easing=s.easing),b.debug&&console.log(\"reverse tweensContainer (\"+H+\"): \"+JSON.stringify(E[H]),o)}l=E}else if(\"start\"===A){var E;i(o).tweensContainer&&i(o).isAnimating===!0&&(E=i(o).tweensContainer),f.each(y,function(e,t){if(RegExp(\"^\"+S.Lists.colors.join(\"$|^\")+\"$\").test(e)){var r=p(t,!0),n=r[0],o=r[1],i=r[2];if(S.RegEx.isHex.test(n)){for(var s=[\"Red\",\"Green\",\"Blue\"],l=S.Values.hexToRgb(n),u=i?S.Values.hexToRgb(i):a,c=0;c<s.length;c++){var f=[l[c]];o&&f.push(o),u!==a&&f.push(u[c]),y[e+s[c]]=f}delete y[e]}}});for(var z in y){var O=p(y[z]),q=O[0],$=O[1],M=O[2];z=S.Names.camelCase(z);var I=S.Hooks.getRoot(z),B=!1;if(i(o).isSVG||\"tween\"===I||S.Names.prefixCheck(I)[1]!==!1||S.Normalizations.registered[I]!==a){(s.display!==a&&null!==s.display&&\"none\"!==s.display||s.visibility!==a&&\"hidden\"!==s.visibility)&&/opacity|filter/.test(z)&&!M&&0!==q&&(M=0),s._cacheValues&&E&&E[z]?(M===a&&(M=E[z].endValue+E[z].unitType),B=i(o).rootPropertyValueCache[I]):S.Hooks.registered[z]?M===a?(B=S.getPropertyValue(o,I),M=S.getPropertyValue(o,z,B)):B=S.Hooks.templates[I][1]:M===a&&(M=S.getPropertyValue(o,z));var W,G,Y,D=!1;if(W=d(z,M),M=W[0],Y=W[1],W=d(z,q),q=W[0].replace(/^([+-\\/*])=/,function(e,t){return D=t,\"\"}),G=W[1],M=parseFloat(M)||0,q=parseFloat(q)||0,\"%\"===G&&(/^(fontSize|lineHeight)$/.test(z)?(q/=100,G=\"em\"):/^scale/.test(z)?(q/=100,G=\"\"):/(Red|Green|Blue)$/i.test(z)&&(q=q/100*255,G=\"\")),/[\\/*]/.test(D))G=Y;else if(Y!==G&&0!==M)if(0===q)G=Y;else{n=n||h();var Q=/margin|padding|left|right|width|text|word|letter/i.test(z)||/X$/.test(z)||\"x\"===z?\"x\":\"y\";switch(Y){case\"%\":M*=\"x\"===Q?n.percentToPxWidth:n.percentToPxHeight;break;case\"px\":break;default:M*=n[Y+\"ToPx\"]}switch(G){case\"%\":M*=1/(\"x\"===Q?n.percentToPxWidth:n.percentToPxHeight);break;case\"px\":break;default:M*=1/n[G+\"ToPx\"]}}switch(D){case\"+\":q=M+q;break;case\"-\":q=M-q;break;case\"*\":q=M*q;break;case\"/\":q=M/q}l[z]={rootPropertyValue:B,startValue:M,currentValue:M,endValue:q,unitType:G,easing:$},b.debug&&console.log(\"tweensContainer (\"+z+\"): \"+JSON.stringify(l[z]),o)}else b.debug&&console.log(\"Skipping [\"+I+\"] due to a lack of browser support.\")}l.element=o}l.element&&(S.Values.addClass(o,\"velocity-animating\"),R.push(l),\"\"===s.queue&&(i(o).tweensContainer=l,i(o).opts=s),i(o).isAnimating=!0,V===w-1?(b.State.calls.push([R,g,s,null,k.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,c())):V++)}var n,o=this,s=f.extend({},b.defaults,v),l={};switch(i(o)===a&&b.init(o),parseFloat(s.delay)&&s.queue!==!1&&f.queue(o,s.queue,function(e){b.velocityQueueEntryFlag=!0,i(o).delayTimer={setTimeout:setTimeout(e,parseFloat(s.delay)),next:e}}),s.duration.toString().toLowerCase()){case\"fast\":s.duration=200;break;case\"normal\":s.duration=h;break;case\"slow\":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}b.mock!==!1&&(b.mock===!0?s.duration=s.delay=1:(s.duration*=parseFloat(b.mock)||1,s.delay*=parseFloat(b.mock)||1)),s.easing=u(s.easing,s.duration),s.begin&&!m.isFunction(s.begin)&&(s.begin=null),s.progress&&!m.isFunction(s.progress)&&(s.progress=null),s.complete&&!m.isFunction(s.complete)&&(s.complete=null),s.display!==a&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),\"auto\"===s.display&&(s.display=b.CSS.Values.getDisplayType(o))),s.visibility!==a&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,s.queue===!1?s.delay?setTimeout(e,s.delay):e():f.queue(o,s.queue,function(t,r){return r===!0?(k.promise&&k.resolver(g),!0):(b.velocityQueueEntryFlag=!0,void e(t))}),\"\"!==s.queue&&\"fx\"!==s.queue||\"inprogress\"===f.queue(o)[0]||f.dequeue(o)}var s,l,d,g,y,v,x=arguments[0]&&(arguments[0].p||f.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));if(m.isWrapped(this)?(s=!1,d=0,g=this,l=this):(s=!0,d=1,g=x?arguments[0].elements||arguments[0].e:arguments[0]),g=o(g)){x?(y=arguments[0].properties||arguments[0].p,v=arguments[0].options||arguments[0].o):(y=arguments[d],v=arguments[d+1]);var w=g.length,V=0;if(!/^(stop|finish)$/i.test(y)&&!f.isPlainObject(v)){var C=d+1;v={};for(var T=C;T<arguments.length;T++)m.isArray(arguments[T])||!/^(fast|normal|slow)$/i.test(arguments[T])&&!/^\\d/.test(arguments[T])?m.isString(arguments[T])||m.isArray(arguments[T])?v.easing=arguments[T]:m.isFunction(arguments[T])&&(v.complete=arguments[T]):v.duration=arguments[T]}var k={promise:null,resolver:null,rejecter:null};s&&b.Promise&&(k.promise=new b.Promise(function(e,t){k.resolver=e,k.rejecter=t}));var A;switch(y){case\"scroll\":A=\"scroll\";break;case\"reverse\":A=\"reverse\";break;case\"finish\":case\"stop\":f.each(g,function(e,t){i(t)&&i(t).delayTimer&&(clearTimeout(i(t).delayTimer.setTimeout),i(t).delayTimer.next&&i(t).delayTimer.next(),delete i(t).delayTimer)});var F=[];return f.each(b.State.calls,function(e,t){t&&f.each(t[1],function(r,n){var o=v===a?\"\":v;return o===!0||t[2].queue===o||v===a&&t[2].queue===!1?void f.each(g,function(r,a){a===n&&((v===!0||m.isString(v))&&(f.each(f.queue(a,m.isString(v)?v:\"\"),function(e,t){\r\nm.isFunction(t)&&t(null,!0)}),f.queue(a,m.isString(v)?v:\"\",[])),\"stop\"===y?(i(a)&&i(a).tweensContainer&&o!==!1&&f.each(i(a).tweensContainer,function(e,t){t.endValue=t.currentValue}),F.push(e)):\"finish\"===y&&(t[2].duration=1))}):!0})}),\"stop\"===y&&(f.each(F,function(e,t){p(t,!0)}),k.promise&&k.resolver(g)),e();default:if(!f.isPlainObject(y)||m.isEmptyObject(y)){if(m.isString(y)&&b.Redirects[y]){var j=f.extend({},v),E=j.duration,H=j.delay||0;return j.backwards===!0&&(g=f.extend(!0,[],g).reverse()),f.each(g,function(e,t){parseFloat(j.stagger)?j.delay=H+parseFloat(j.stagger)*e:m.isFunction(j.stagger)&&(j.delay=H+j.stagger.call(t,e,w)),j.drag&&(j.duration=parseFloat(E)||(/^(callout|transition)/.test(y)?1e3:h),j.duration=Math.max(j.duration*(j.backwards?1-e/w:(e+1)/w),.75*j.duration,200)),b.Redirects[y].call(t,t,j||{},e,w,g,k.promise?k:a)}),e()}var N=\"Velocity: First argument (\"+y+\") was not a property map, a known action, or a registered redirect. Aborting.\";return k.promise?k.rejecter(new Error(N)):console.log(N),e()}A=\"start\"}var L={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},R=[];f.each(g,function(e,t){m.isNode(t)&&n.call(t)});var z,j=f.extend({},b.defaults,v);if(j.loop=parseInt(j.loop),z=2*j.loop-1,j.loop)for(var O=0;z>O;O++){var q={delay:j.delay,progress:j.progress};O===z-1&&(q.display=j.display,q.visibility=j.visibility,q.complete=j.complete),P(g,\"reverse\",q)}return e()}};b=f.extend(P,b),b.animate=P;var w=t.requestAnimationFrame||g;return b.State.isMobile||r.hidden===a||r.addEventListener(\"visibilitychange\",function(){r.hidden?(w=function(e){return setTimeout(function(){e(!0)},16)},c()):w=t.requestAnimationFrame||g}),e.Velocity=b,e!==t&&(e.fn.velocity=P,e.fn.velocity.defaults=b.defaults),f.each([\"Down\",\"Up\"],function(e,t){b.Redirects[\"slide\"+t]=function(e,r,n,o,i,s){var l=f.extend({},r),u=l.begin,c=l.complete,p={height:\"\",marginTop:\"\",marginBottom:\"\",paddingTop:\"\",paddingBottom:\"\"},d={};l.display===a&&(l.display=\"Down\"===t?\"inline\"===b.CSS.Values.getDisplayType(e)?\"inline-block\":\"block\":\"none\"),l.begin=function(){u&&u.call(i,i);for(var r in p){d[r]=e.style[r];var a=b.CSS.getPropertyValue(e,r);p[r]=\"Down\"===t?[a,0]:[0,a]}d.overflow=e.style.overflow,e.style.overflow=\"hidden\"},l.complete=function(){for(var t in d)e.style[t]=d[t];c&&c.call(i,i),s&&s.resolver(i)},b(e,p,l)}}),f.each([\"In\",\"Out\"],function(e,t){b.Redirects[\"fade\"+t]=function(e,r,n,o,i,s){var l=f.extend({},r),u={opacity:\"In\"===t?1:0},c=l.complete;l.complete=n!==o-1?l.begin=null:function(){c&&c.call(i,i),s&&s.resolver(i)},l.display===a&&(l.display=\"In\"===t?\"auto\":\"none\"),b(this,u,l)}}),b}(window.jQuery||window.Zepto||window,window,document)}));\r\n/*!\r\n * Chart.js\r\n * http://chartjs.org/\r\n * Version: 1.0.2\r\n *\r\n * Copyright 2015 Nick Downie\r\n * Released under the MIT license\r\n * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md\r\n */\r\n\r\n\r\n(function(){\r\n\r\n\t\"use strict\";\r\n\r\n\t//Declare root variable - window in the browser, global on the server\r\n\tvar root = this,\r\n\t\tprevious = root.Chart;\r\n\r\n\t//Occupy the global variable of Chart, and create a simple base class\r\n\tvar Chart = function(context){\r\n\t\tvar chart = this;\r\n\t\tthis.canvas = context.canvas;\r\n\r\n\t\tthis.ctx = context;\r\n\r\n\t\t//Variables global to the chart\r\n\t\tvar computeDimension = function(element,dimension)\r\n\t\t{\r\n\t\t\tif (element['offset'+dimension])\r\n\t\t\t{\r\n\t\t\t\treturn element['offset'+dimension];\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treturn document.defaultView.getComputedStyle(element).getPropertyValue(dimension);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar width = this.width = computeDimension(context.canvas,'Width') || context.canvas.width;\r\n\t\tvar height = this.height = computeDimension(context.canvas,'Height') || context.canvas.height;\r\n\r\n\t\twidth = this.width = context.canvas.width;\r\n\t\theight = this.height = context.canvas.height;\r\n\t\tthis.aspectRatio = this.width / this.height;\r\n\t\t//High pixel density displays - multiply the size of the canvas height/width by the device pixel ratio, then scale.\r\n\t\thelpers.retinaScale(this);\r\n\r\n\t\treturn this;\r\n\t};\r\n\t//Globally expose the defaults to allow for user updating/changing\r\n\tChart.defaults = {\r\n\t\tglobal: {\r\n\t\t\t// Boolean - Whether to animate the chart\r\n\t\t\tanimation: true,\r\n\r\n\t\t\t// Number - Number of animation steps\r\n\t\t\tanimationSteps: 60,\r\n\r\n\t\t\t// String - Animation easing effect\r\n\t\t\tanimationEasing: \"easeOutQuart\",\r\n\r\n\t\t\t// Boolean - If we should show the scale at all\r\n\t\t\tshowScale: true,\r\n\r\n\t\t\t// Boolean - If we want to override with a hard coded scale\r\n\t\t\tscaleOverride: false,\r\n\r\n\t\t\t// ** Required if scaleOverride is true **\r\n\t\t\t// Number - The number of steps in a hard coded scale\r\n\t\t\tscaleSteps: null,\r\n\t\t\t// Number - The value jump in the hard coded scale\r\n\t\t\tscaleStepWidth: null,\r\n\t\t\t// Number - The scale starting value\r\n\t\t\tscaleStartValue: null,\r\n\r\n\t\t\t// String - Colour of the scale line\r\n\t\t\tscaleLineColor: \"rgba(0,0,0,.1)\",\r\n\r\n\t\t\t// Number - Pixel width of the scale line\r\n\t\t\tscaleLineWidth: 1,\r\n\r\n\t\t\t// Boolean - Whether to show labels on the scale\r\n\t\t\tscaleShowLabels: true,\r\n\r\n\t\t\t// Interpolated JS string - can access value\r\n\t\t\tscaleLabel: \"<%=value%>\",\r\n\r\n\t\t\t// Boolean - Whether the scale should stick to integers, and not show any floats even if drawing space is there\r\n\t\t\tscaleIntegersOnly: true,\r\n\r\n\t\t\t// Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value\r\n\t\t\tscaleBeginAtZero: false,\r\n\r\n\t\t\t// String - Scale label font declaration for the scale label\r\n\t\t\tscaleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\r\n\r\n\t\t\t// Number - Scale label font size in pixels\r\n\t\t\tscaleFontSize: 12,\r\n\r\n\t\t\t// String - Scale label font weight style\r\n\t\t\tscaleFontStyle: \"normal\",\r\n\r\n\t\t\t// String - Scale label font colour\r\n\t\t\tscaleFontColor: \"#666\",\r\n\r\n\t\t\t// Boolean - whether or not the chart should be responsive and resize when the browser does.\r\n\t\t\tresponsive: false,\r\n\r\n\t\t\t// Boolean - whether to maintain the starting aspect ratio or not when responsive, if set to false, will take up entire container\r\n\t\t\tmaintainAspectRatio: true,\r\n\r\n\t\t\t// Boolean - Determines whether to draw tooltips on the canvas or not - attaches events to touchmove & mousemove\r\n\t\t\tshowTooltips: true,\r\n\r\n\t\t\t// Boolean - Determines whether to draw built-in tooltip or call custom tooltip function\r\n\t\t\tcustomTooltips: false,\r\n\r\n\t\t\t// Array - Array of string names to attach tooltip events\r\n\t\t\ttooltipEvents: [\"mousemove\", \"touchstart\", \"touchmove\", \"mouseout\"],\r\n\r\n\t\t\t// String - Tooltip background colour\r\n\t\t\ttooltipFillColor: \"rgba(0,0,0,0.8)\",\r\n\r\n\t\t\t// String - Tooltip label font declaration for the scale label\r\n\t\t\ttooltipFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\r\n\r\n\t\t\t// Number - Tooltip label font size in pixels\r\n\t\t\ttooltipFontSize: 14,\r\n\r\n\t\t\t// String - Tooltip font weight style\r\n\t\t\ttooltipFontStyle: \"normal\",\r\n\r\n\t\t\t// String - Tooltip label font colour\r\n\t\t\ttooltipFontColor: \"#fff\",\r\n\r\n\t\t\t// String - Tooltip title font declaration for the scale label\r\n\t\t\ttooltipTitleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\r\n\r\n\t\t\t// Number - Tooltip title font size in pixels\r\n\t\t\ttooltipTitleFontSize: 14,\r\n\r\n\t\t\t// String - Tooltip title font weight style\r\n\t\t\ttooltipTitleFontStyle: \"bold\",\r\n\r\n\t\t\t// String - Tooltip title font colour\r\n\t\t\ttooltipTitleFontColor: \"#fff\",\r\n\r\n\t\t\t// String - Tooltip title template\r\n\t\t\ttooltipTitleTemplate: \"<%= label%>\",\r\n\r\n\t\t\t// Number - pixel width of padding around tooltip text\r\n\t\t\ttooltipYPadding: 6,\r\n\r\n\t\t\t// Number - pixel width of padding around tooltip text\r\n\t\t\ttooltipXPadding: 6,\r\n\r\n\t\t\t// Number - Size of the caret on the tooltip\r\n\t\t\ttooltipCaretSize: 8,\r\n\r\n\t\t\t// Number - Pixel radius of the tooltip border\r\n\t\t\ttooltipCornerRadius: 6,\r\n\r\n\t\t\t// Number - Pixel offset from point x to tooltip edge\r\n\t\t\ttooltipXOffset: 10,\r\n\r\n\t\t\t// String - Template string for single tooltips\r\n\t\t\ttooltipTemplate: \"<%if (label){%><%=label%>: <%}%><%= value %>\",\r\n\r\n\t\t\t// String - Template string for single tooltips\r\n\t\t\tmultiTooltipTemplate: \"<%= value %>\",\r\n\r\n\t\t\t// String - Colour behind the legend colour block\r\n\t\t\tmultiTooltipKeyBackground: '#fff',\r\n\r\n\t\t\t// Array - A list of colors to use as the defaults\r\n\t\t\tsegmentColorDefault: [\"#A6CEE3\", \"#1F78B4\", \"#B2DF8A\", \"#33A02C\", \"#FB9A99\", \"#E31A1C\", \"#FDBF6F\", \"#FF7F00\", \"#CAB2D6\", \"#6A3D9A\", \"#B4B482\", \"#B15928\" ],\r\n\r\n\t\t\t// Array - A list of highlight colors to use as the defaults\r\n\t\t\tsegmentHighlightColorDefaults: [ \"#CEF6FF\", \"#47A0DC\", \"#DAFFB2\", \"#5BC854\", \"#FFC2C1\", \"#FF4244\", \"#FFE797\", \"#FFA728\", \"#F2DAFE\", \"#9265C2\", \"#DCDCAA\", \"#D98150\" ],\r\n\r\n\t\t\t// Function - Will fire on animation progression.\r\n\t\t\tonAnimationProgress: function(){},\r\n\r\n\t\t\t// Function - Will fire on animation completion.\r\n\t\t\tonAnimationComplete: function(){}\r\n\r\n\t\t}\r\n\t};\r\n\r\n\t//Create a dictionary of chart types, to allow for extension of existing types\r\n\tChart.types = {};\r\n\r\n\t//Global Chart helpers object for utility methods and classes\r\n\tvar helpers = Chart.helpers = {};\r\n\r\n\t\t//-- Basic js utility methods\r\n\tvar each = helpers.each = function(loopable,callback,self){\r\n\t\t\tvar additionalArgs = Array.prototype.slice.call(arguments, 3);\r\n\t\t\t// Check to see if null or undefined firstly.\r\n\t\t\tif (loopable){\r\n\t\t\t\tif (loopable.length === +loopable.length){\r\n\t\t\t\t\tvar i;\r\n\t\t\t\t\tfor (i=0; i<loopable.length; i++){\r\n\t\t\t\t\t\tcallback.apply(self,[loopable[i], i].concat(additionalArgs));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tfor (var item in loopable){\r\n\t\t\t\t\t\tcallback.apply(self,[loopable[item],item].concat(additionalArgs));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tclone = helpers.clone = function(obj){\r\n\t\t\tvar objClone = {};\r\n\t\t\teach(obj,function(value,key){\r\n\t\t\t\tif (obj.hasOwnProperty(key)){\r\n\t\t\t\t\tobjClone[key] = value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn objClone;\r\n\t\t},\r\n\t\textend = helpers.extend = function(base){\r\n\t\t\teach(Array.prototype.slice.call(arguments,1), function(extensionObject) {\r\n\t\t\t\teach(extensionObject,function(value,key){\r\n\t\t\t\t\tif (extensionObject.hasOwnProperty(key)){\r\n\t\t\t\t\t\tbase[key] = value;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\treturn base;\r\n\t\t},\r\n\t\tmerge = helpers.merge = function(base,master){\r\n\t\t\t//Merge properties in left object over to a shallow clone of object right.\r\n\t\t\tvar args = Array.prototype.slice.call(arguments,0);\r\n\t\t\targs.unshift({});\r\n\t\t\treturn extend.apply(null, args);\r\n\t\t},\r\n\t\tindexOf = helpers.indexOf = function(arrayToSearch, item){\r\n\t\t\tif (Array.prototype.indexOf) {\r\n\t\t\t\treturn arrayToSearch.indexOf(item);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tfor (var i = 0; i < arrayToSearch.length; i++) {\r\n\t\t\t\t\tif (arrayToSearch[i] === item) return i;\r\n\t\t\t\t}\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t},\r\n\t\twhere = helpers.where = function(collection, filterCallback){\r\n\t\t\tvar filtered = [];\r\n\r\n\t\t\thelpers.each(collection, function(item){\r\n\t\t\t\tif (filterCallback(item)){\r\n\t\t\t\t\tfiltered.push(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn filtered;\r\n\t\t},\r\n\t\tfindNextWhere = helpers.findNextWhere = function(arrayToSearch, filterCallback, startIndex){\r\n\t\t\t// Default to start of the array\r\n\t\t\tif (!startIndex){\r\n\t\t\t\tstartIndex = -1;\r\n\t\t\t}\r\n\t\t\tfor (var i = startIndex + 1; i < arrayToSearch.length; i++) {\r\n\t\t\t\tvar currentItem = arrayToSearch[i];\r\n\t\t\t\tif (filterCallback(currentItem)){\r\n\t\t\t\t\treturn currentItem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tfindPreviousWhere = helpers.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex){\r\n\t\t\t// Default to end of the array\r\n\t\t\tif (!startIndex){\r\n\t\t\t\tstartIndex = arrayToSearch.length;\r\n\t\t\t}\r\n\t\t\tfor (var i = startIndex - 1; i >= 0; i--) {\r\n\t\t\t\tvar currentItem = arrayToSearch[i];\r\n\t\t\t\tif (filterCallback(currentItem)){\r\n\t\t\t\t\treturn currentItem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tinherits = helpers.inherits = function(extensions){\r\n\t\t\t//Basic javascript inheritance based on the model created in Backbone.js\r\n\t\t\tvar parent = this;\r\n\t\t\tvar ChartElement = (extensions && extensions.hasOwnProperty(\"constructor\")) ? extensions.constructor : function(){ return parent.apply(this, arguments); };\r\n\r\n\t\t\tvar Surrogate = function(){ this.constructor = ChartElement;};\r\n\t\t\tSurrogate.prototype = parent.prototype;\r\n\t\t\tChartElement.prototype = new Surrogate();\r\n\r\n\t\t\tChartElement.extend = inherits;\r\n\r\n\t\t\tif (extensions) extend(ChartElement.prototype, extensions);\r\n\r\n\t\t\tChartElement.__super__ = parent.prototype;\r\n\r\n\t\t\treturn ChartElement;\r\n\t\t},\r\n\t\tnoop = helpers.noop = function(){},\r\n\t\tuid = helpers.uid = (function(){\r\n\t\t\tvar id=0;\r\n\t\t\treturn function(){\r\n\t\t\t\treturn \"chart-\" + id++;\r\n\t\t\t};\r\n\t\t})(),\r\n\t\twarn = helpers.warn = function(str){\r\n\t\t\t//Method for warning of errors\r\n\t\t\tif (window.console && typeof window.console.warn === \"function\") console.warn(str);\r\n\t\t},\r\n\t\tamd = helpers.amd = (typeof define === 'function' && define.amd),\r\n\t\t//-- Math methods\r\n\t\tisNumber = helpers.isNumber = function(n){\r\n\t\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\r\n\t\t},\r\n\t\tmax = helpers.max = function(array){\r\n\t\t\treturn Math.max.apply( Math, array );\r\n\t\t},\r\n\t\tmin = helpers.min = function(array){\r\n\t\t\treturn Math.min.apply( Math, array );\r\n\t\t},\r\n\t\tcap = helpers.cap = function(valueToCap,maxValue,minValue){\r\n\t\t\tif(isNumber(maxValue)) {\r\n\t\t\t\tif( valueToCap > maxValue ) {\r\n\t\t\t\t\treturn maxValue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(isNumber(minValue)){\r\n\t\t\t\tif ( valueToCap < minValue ){\r\n\t\t\t\t\treturn minValue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn valueToCap;\r\n\t\t},\r\n\t\tgetDecimalPlaces = helpers.getDecimalPlaces = function(num){\r\n\t\t\tif (num%1!==0 && isNumber(num)){\r\n\t\t\t\tvar s = num.toString();\r\n\t\t\t\tif(s.indexOf(\"e-\") < 0){\r\n\t\t\t\t\t// no exponent, e.g. 0.01\r\n\t\t\t\t\treturn s.split(\".\")[1].length;\r\n\t\t\t\t}\r\n\t\t\t\telse if(s.indexOf(\".\") < 0) {\r\n\t\t\t\t\t// no decimal point, e.g. 1e-9\r\n\t\t\t\t\treturn parseInt(s.split(\"e-\")[1]);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// exponent and decimal point, e.g. 1.23e-9\r\n\t\t\t\t\tvar parts = s.split(\".\")[1].split(\"e-\");\r\n\t\t\t\t\treturn parts[0].length + parseInt(parts[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\ttoRadians = helpers.radians = function(degrees){\r\n\t\t\treturn degrees * (Math.PI/180);\r\n\t\t},\r\n\t\t// Gets the angle from vertical upright to the point about a centre.\r\n\t\tgetAngleFromPoint = helpers.getAngleFromPoint = function(centrePoint, anglePoint){\r\n\t\t\tvar distanceFromXCenter = anglePoint.x - centrePoint.x,\r\n\t\t\t\tdistanceFromYCenter = anglePoint.y - centrePoint.y,\r\n\t\t\t\tradialDistanceFromCenter = Math.sqrt( distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\r\n\r\n\r\n\t\t\tvar angle = Math.PI * 2 + Math.atan2(distanceFromYCenter, distanceFromXCenter);\r\n\r\n\t\t\t//If the segment is in the top left quadrant, we need to add another rotation to the angle\r\n\t\t\tif (distanceFromXCenter < 0 && distanceFromYCenter < 0){\r\n\t\t\t\tangle += Math.PI*2;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tangle: angle,\r\n\t\t\t\tdistance: radialDistanceFromCenter\r\n\t\t\t};\r\n\t\t},\r\n\t\taliasPixel = helpers.aliasPixel = function(pixelWidth){\r\n\t\t\treturn (pixelWidth % 2 === 0) ? 0 : 0.5;\r\n\t\t},\r\n\t\tsplineCurve = helpers.splineCurve = function(FirstPoint,MiddlePoint,AfterPoint,t){\r\n\t\t\t//Props to Rob Spencer at scaled innovation for his post on splining between points\r\n\t\t\t//http://scaledinnovation.com/analytics/splines/aboutSplines.html\r\n\t\t\tvar d01=Math.sqrt(Math.pow(MiddlePoint.x-FirstPoint.x,2)+Math.pow(MiddlePoint.y-FirstPoint.y,2)),\r\n\t\t\t\td12=Math.sqrt(Math.pow(AfterPoint.x-MiddlePoint.x,2)+Math.pow(AfterPoint.y-MiddlePoint.y,2)),\r\n\t\t\t\tfa=t*d01/(d01+d12),// scaling factor for triangle Ta\r\n\t\t\t\tfb=t*d12/(d01+d12);\r\n\t\t\treturn {\r\n\t\t\t\tinner : {\r\n\t\t\t\t\tx : MiddlePoint.x-fa*(AfterPoint.x-FirstPoint.x),\r\n\t\t\t\t\ty : MiddlePoint.y-fa*(AfterPoint.y-FirstPoint.y)\r\n\t\t\t\t},\r\n\t\t\t\touter : {\r\n\t\t\t\t\tx: MiddlePoint.x+fb*(AfterPoint.x-FirstPoint.x),\r\n\t\t\t\t\ty : MiddlePoint.y+fb*(AfterPoint.y-FirstPoint.y)\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tcalculateOrderOfMagnitude = helpers.calculateOrderOfMagnitude = function(val){\r\n\t\t\treturn Math.floor(Math.log(val) / Math.LN10);\r\n\t\t},\r\n\t\tcalculateScaleRange = helpers.calculateScaleRange = function(valuesArray, drawingSize, textSize, startFromZero, integersOnly){\r\n\r\n\t\t\t//Set a minimum step of two - a point at the top of the graph, and a point at the base\r\n\t\t\tvar minSteps = 2,\r\n\t\t\t\tmaxSteps = Math.floor(drawingSize/(textSize * 1.5)),\r\n\t\t\t\tskipFitting = (minSteps >= maxSteps);\r\n\r\n\t\t\t// Filter out null values since these would min() to zero\r\n\t\t\tvar values = [];\r\n\t\t\teach(valuesArray, function( v ){\r\n\t\t\t\tv == null || values.push( v );\r\n\t\t\t});\r\n\t\t\tvar minValue = min(values),\r\n\t\t\t    maxValue = max(values);\r\n\r\n\t\t\t// We need some degree of separation here to calculate the scales if all the values are the same\r\n\t\t\t// Adding/minusing 0.5 will give us a range of 1.\r\n\t\t\tif (maxValue === minValue){\r\n\t\t\t\tmaxValue += 0.5;\r\n\t\t\t\t// So we don't end up with a graph with a negative start value if we've said always start from zero\r\n\t\t\t\tif (minValue >= 0.5 && !startFromZero){\r\n\t\t\t\t\tminValue -= 0.5;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t// Make up a whole number above the values\r\n\t\t\t\t\tmaxValue += 0.5;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar\tvalueRange = Math.abs(maxValue - minValue),\r\n\t\t\t\trangeOrderOfMagnitude = calculateOrderOfMagnitude(valueRange),\r\n\t\t\t\tgraphMax = Math.ceil(maxValue / (1 * Math.pow(10, rangeOrderOfMagnitude))) * Math.pow(10, rangeOrderOfMagnitude),\r\n\t\t\t\tgraphMin = (startFromZero) ? 0 : Math.floor(minValue / (1 * Math.pow(10, rangeOrderOfMagnitude))) * Math.pow(10, rangeOrderOfMagnitude),\r\n\t\t\t\tgraphRange = graphMax - graphMin,\r\n\t\t\t\tstepValue = Math.pow(10, rangeOrderOfMagnitude),\r\n\t\t\t\tnumberOfSteps = Math.round(graphRange / stepValue);\r\n\r\n\t\t\t//If we have more space on the graph we'll use it to give more definition to the data\r\n\t\t\twhile((numberOfSteps > maxSteps || (numberOfSteps * 2) < maxSteps) && !skipFitting) {\r\n\t\t\t\tif(numberOfSteps > maxSteps){\r\n\t\t\t\t\tstepValue *=2;\r\n\t\t\t\t\tnumberOfSteps = Math.round(graphRange/stepValue);\r\n\t\t\t\t\t// Don't ever deal with a decimal number of steps - cancel fitting and just use the minimum number of steps.\r\n\t\t\t\t\tif (numberOfSteps % 1 !== 0){\r\n\t\t\t\t\t\tskipFitting = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//We can fit in double the amount of scale points on the scale\r\n\t\t\t\telse{\r\n\t\t\t\t\t//If user has declared ints only, and the step value isn't a decimal\r\n\t\t\t\t\tif (integersOnly && rangeOrderOfMagnitude >= 0){\r\n\t\t\t\t\t\t//If the user has said integers only, we need to check that making the scale more granular wouldn't make it a float\r\n\t\t\t\t\t\tif(stepValue/2 % 1 === 0){\r\n\t\t\t\t\t\t\tstepValue /=2;\r\n\t\t\t\t\t\t\tnumberOfSteps = Math.round(graphRange/stepValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//If it would make it a float break out of the loop\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//If the scale doesn't have to be an int, make the scale more granular anyway.\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tstepValue /=2;\r\n\t\t\t\t\t\tnumberOfSteps = Math.round(graphRange/stepValue);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (skipFitting){\r\n\t\t\t\tnumberOfSteps = minSteps;\r\n\t\t\t\tstepValue = graphRange / numberOfSteps;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tsteps : numberOfSteps,\r\n\t\t\t\tstepValue : stepValue,\r\n\t\t\t\tmin : graphMin,\r\n\t\t\t\tmax\t: graphMin + (numberOfSteps * stepValue)\r\n\t\t\t};\r\n\r\n\t\t},\r\n\t\t/* jshint ignore:start */\r\n\t\t// Blows up jshint errors based on the new Function constructor\r\n\t\t//Templating methods\r\n\t\t//Javascript micro templating by John Resig - source at http://ejohn.org/blog/javascript-micro-templating/\r\n\t\ttemplate = helpers.template = function(templateString, valuesObject){\r\n\r\n\t\t\t// If templateString is function rather than string-template - call the function for valuesObject\r\n\r\n\t\t\tif(templateString instanceof Function){\r\n\t\t\t \treturn templateString(valuesObject);\r\n\t\t \t}\r\n\r\n\t\t\tvar cache = {};\r\n\t\t\tfunction tmpl(str, data){\r\n\t\t\t\t// Figure out if we're getting a template, or if we need to\r\n\t\t\t\t// load the template - and be sure to cache the result.\r\n\t\t\t\tvar fn = !/\\W/.test(str) ?\r\n\t\t\t\tcache[str] = cache[str] :\r\n\r\n\t\t\t\t// Generate a reusable function that will serve as a template\r\n\t\t\t\t// generator (and which will be cached).\r\n\t\t\t\tnew Function(\"obj\",\r\n\t\t\t\t\t\"var p=[],print=function(){p.push.apply(p,arguments);};\" +\r\n\r\n\t\t\t\t\t// Introduce the data as local variables using with(){}\r\n\t\t\t\t\t\"with(obj){p.push('\" +\r\n\r\n\t\t\t\t\t// Convert the template into pure JavaScript\r\n\t\t\t\t\tstr\r\n\t\t\t\t\t\t.replace(/[\\r\\t\\n]/g, \" \")\r\n\t\t\t\t\t\t.split(\"<%\").join(\"\\t\")\r\n\t\t\t\t\t\t.replace(/((^|%>)[^\\t]*)'/g, \"$1\\r\")\r\n\t\t\t\t\t\t.replace(/\\t=(.*?)%>/g, \"',$1,'\")\r\n\t\t\t\t\t\t.split(\"\\t\").join(\"');\")\r\n\t\t\t\t\t\t.split(\"%>\").join(\"p.push('\")\r\n\t\t\t\t\t\t.split(\"\\r\").join(\"\\\\'\") +\r\n\t\t\t\t\t\"');}return p.join('');\"\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Provide some basic currying to the user\r\n\t\t\t\treturn data ? fn( data ) : fn;\r\n\t\t\t}\r\n\t\t\treturn tmpl(templateString,valuesObject);\r\n\t\t},\r\n\t\t/* jshint ignore:end */\r\n\t\tgenerateLabels = helpers.generateLabels = function(templateString,numberOfSteps,graphMin,stepValue){\r\n\t\t\tvar labelsArray = new Array(numberOfSteps);\r\n\t\t\tif (templateString){\r\n\t\t\t\teach(labelsArray,function(val,index){\r\n\t\t\t\t\tlabelsArray[index] = template(templateString,{value: (graphMin + (stepValue*(index+1)))});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn labelsArray;\r\n\t\t},\r\n\t\t//--Animation methods\r\n\t\t//Easing functions adapted from Robert Penner's easing equations\r\n\t\t//http://www.robertpenner.com/easing/\r\n\t\teasingEffects = helpers.easingEffects = {\r\n\t\t\tlinear: function (t) {\r\n\t\t\t\treturn t;\r\n\t\t\t},\r\n\t\t\teaseInQuad: function (t) {\r\n\t\t\t\treturn t * t;\r\n\t\t\t},\r\n\t\t\teaseOutQuad: function (t) {\r\n\t\t\t\treturn -1 * t * (t - 2);\r\n\t\t\t},\r\n\t\t\teaseInOutQuad: function (t) {\r\n\t\t\t\tif ((t /= 1 / 2) < 1){\r\n\t\t\t\t\treturn 1 / 2 * t * t;\r\n\t\t\t\t}\r\n\t\t\t\treturn -1 / 2 * ((--t) * (t - 2) - 1);\r\n\t\t\t},\r\n\t\t\teaseInCubic: function (t) {\r\n\t\t\t\treturn t * t * t;\r\n\t\t\t},\r\n\t\t\teaseOutCubic: function (t) {\r\n\t\t\t\treturn 1 * ((t = t / 1 - 1) * t * t + 1);\r\n\t\t\t},\r\n\t\t\teaseInOutCubic: function (t) {\r\n\t\t\t\tif ((t /= 1 / 2) < 1){\r\n\t\t\t\t\treturn 1 / 2 * t * t * t;\r\n\t\t\t\t}\r\n\t\t\t\treturn 1 / 2 * ((t -= 2) * t * t + 2);\r\n\t\t\t},\r\n\t\t\teaseInQuart: function (t) {\r\n\t\t\t\treturn t * t * t * t;\r\n\t\t\t},\r\n\t\t\teaseOutQuart: function (t) {\r\n\t\t\t\treturn -1 * ((t = t / 1 - 1) * t * t * t - 1);\r\n\t\t\t},\r\n\t\t\teaseInOutQuart: function (t) {\r\n\t\t\t\tif ((t /= 1 / 2) < 1){\r\n\t\t\t\t\treturn 1 / 2 * t * t * t * t;\r\n\t\t\t\t}\r\n\t\t\t\treturn -1 / 2 * ((t -= 2) * t * t * t - 2);\r\n\t\t\t},\r\n\t\t\teaseInQuint: function (t) {\r\n\t\t\t\treturn 1 * (t /= 1) * t * t * t * t;\r\n\t\t\t},\r\n\t\t\teaseOutQuint: function (t) {\r\n\t\t\t\treturn 1 * ((t = t / 1 - 1) * t * t * t * t + 1);\r\n\t\t\t},\r\n\t\t\teaseInOutQuint: function (t) {\r\n\t\t\t\tif ((t /= 1 / 2) < 1){\r\n\t\t\t\t\treturn 1 / 2 * t * t * t * t * t;\r\n\t\t\t\t}\r\n\t\t\t\treturn 1 / 2 * ((t -= 2) * t * t * t * t + 2);\r\n\t\t\t},\r\n\t\t\teaseInSine: function (t) {\r\n\t\t\t\treturn -1 * Math.cos(t / 1 * (Math.PI / 2)) + 1;\r\n\t\t\t},\r\n\t\t\teaseOutSine: function (t) {\r\n\t\t\t\treturn 1 * Math.sin(t / 1 * (Math.PI / 2));\r\n\t\t\t},\r\n\t\t\teaseInOutSine: function (t) {\r\n\t\t\t\treturn -1 / 2 * (Math.cos(Math.PI * t / 1) - 1);\r\n\t\t\t},\r\n\t\t\teaseInExpo: function (t) {\r\n\t\t\t\treturn (t === 0) ? 1 : 1 * Math.pow(2, 10 * (t / 1 - 1));\r\n\t\t\t},\r\n\t\t\teaseOutExpo: function (t) {\r\n\t\t\t\treturn (t === 1) ? 1 : 1 * (-Math.pow(2, -10 * t / 1) + 1);\r\n\t\t\t},\r\n\t\t\teaseInOutExpo: function (t) {\r\n\t\t\t\tif (t === 0){\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (t === 1){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\tif ((t /= 1 / 2) < 1){\r\n\t\t\t\t\treturn 1 / 2 * Math.pow(2, 10 * (t - 1));\r\n\t\t\t\t}\r\n\t\t\t\treturn 1 / 2 * (-Math.pow(2, -10 * --t) + 2);\r\n\t\t\t},\r\n\t\t\teaseInCirc: function (t) {\r\n\t\t\t\tif (t >= 1){\r\n\t\t\t\t\treturn t;\r\n\t\t\t\t}\r\n\t\t\t\treturn -1 * (Math.sqrt(1 - (t /= 1) * t) - 1);\r\n\t\t\t},\r\n\t\t\teaseOutCirc: function (t) {\r\n\t\t\t\treturn 1 * Math.sqrt(1 - (t = t / 1 - 1) * t);\r\n\t\t\t},\r\n\t\t\teaseInOutCirc: function (t) {\r\n\t\t\t\tif ((t /= 1 / 2) < 1){\r\n\t\t\t\t\treturn -1 / 2 * (Math.sqrt(1 - t * t) - 1);\r\n\t\t\t\t}\r\n\t\t\t\treturn 1 / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1);\r\n\t\t\t},\r\n\t\t\teaseInElastic: function (t) {\r\n\t\t\t\tvar s = 1.70158;\r\n\t\t\t\tvar p = 0;\r\n\t\t\t\tvar a = 1;\r\n\t\t\t\tif (t === 0){\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\tif ((t /= 1) == 1){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (!p){\r\n\t\t\t\t\tp = 1 * 0.3;\r\n\t\t\t\t}\r\n\t\t\t\tif (a < Math.abs(1)) {\r\n\t\t\t\t\ta = 1;\r\n\t\t\t\t\ts = p / 4;\r\n\t\t\t\t} else{\r\n\t\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t\t\t}\r\n\t\t\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\r\n\t\t\t},\r\n\t\t\teaseOutElastic: function (t) {\r\n\t\t\t\tvar s = 1.70158;\r\n\t\t\t\tvar p = 0;\r\n\t\t\t\tvar a = 1;\r\n\t\t\t\tif (t === 0){\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\tif ((t /= 1) == 1){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (!p){\r\n\t\t\t\t\tp = 1 * 0.3;\r\n\t\t\t\t}\r\n\t\t\t\tif (a < Math.abs(1)) {\r\n\t\t\t\t\ta = 1;\r\n\t\t\t\t\ts = p / 4;\r\n\t\t\t\t} else{\r\n\t\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t\t\t}\r\n\t\t\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) + 1;\r\n\t\t\t},\r\n\t\t\teaseInOutElastic: function (t) {\r\n\t\t\t\tvar s = 1.70158;\r\n\t\t\t\tvar p = 0;\r\n\t\t\t\tvar a = 1;\r\n\t\t\t\tif (t === 0){\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\tif ((t /= 1 / 2) == 2){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t\t\tif (!p){\r\n\t\t\t\t\tp = 1 * (0.3 * 1.5);\r\n\t\t\t\t}\r\n\t\t\t\tif (a < Math.abs(1)) {\r\n\t\t\t\t\ta = 1;\r\n\t\t\t\t\ts = p / 4;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t\t\t}\r\n\t\t\t\tif (t < 1){\r\n\t\t\t\t\treturn -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));}\r\n\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) * 0.5 + 1;\r\n\t\t\t},\r\n\t\t\teaseInBack: function (t) {\r\n\t\t\t\tvar s = 1.70158;\r\n\t\t\t\treturn 1 * (t /= 1) * t * ((s + 1) * t - s);\r\n\t\t\t},\r\n\t\t\teaseOutBack: function (t) {\r\n\t\t\t\tvar s = 1.70158;\r\n\t\t\t\treturn 1 * ((t = t / 1 - 1) * t * ((s + 1) * t + s) + 1);\r\n\t\t\t},\r\n\t\t\teaseInOutBack: function (t) {\r\n\t\t\t\tvar s = 1.70158;\r\n\t\t\t\tif ((t /= 1 / 2) < 1){\r\n\t\t\t\t\treturn 1 / 2 * (t * t * (((s *= (1.525)) + 1) * t - s));\r\n\t\t\t\t}\r\n\t\t\t\treturn 1 / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\r\n\t\t\t},\r\n\t\t\teaseInBounce: function (t) {\r\n\t\t\t\treturn 1 - easingEffects.easeOutBounce(1 - t);\r\n\t\t\t},\r\n\t\t\teaseOutBounce: function (t) {\r\n\t\t\t\tif ((t /= 1) < (1 / 2.75)) {\r\n\t\t\t\t\treturn 1 * (7.5625 * t * t);\r\n\t\t\t\t} else if (t < (2 / 2.75)) {\r\n\t\t\t\t\treturn 1 * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75);\r\n\t\t\t\t} else if (t < (2.5 / 2.75)) {\r\n\t\t\t\t\treturn 1 * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 1 * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\teaseInOutBounce: function (t) {\r\n\t\t\t\tif (t < 1 / 2){\r\n\t\t\t\t\treturn easingEffects.easeInBounce(t * 2) * 0.5;\r\n\t\t\t\t}\r\n\t\t\t\treturn easingEffects.easeOutBounce(t * 2 - 1) * 0.5 + 1 * 0.5;\r\n\t\t\t}\r\n\t\t},\r\n\t\t//Request animation polyfill - http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n\t\trequestAnimFrame = helpers.requestAnimFrame = (function(){\r\n\t\t\treturn window.requestAnimationFrame ||\r\n\t\t\t\twindow.webkitRequestAnimationFrame ||\r\n\t\t\t\twindow.mozRequestAnimationFrame ||\r\n\t\t\t\twindow.oRequestAnimationFrame ||\r\n\t\t\t\twindow.msRequestAnimationFrame ||\r\n\t\t\t\tfunction(callback) {\r\n\t\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\r\n\t\t\t\t};\r\n\t\t})(),\r\n\t\tcancelAnimFrame = helpers.cancelAnimFrame = (function(){\r\n\t\t\treturn window.cancelAnimationFrame ||\r\n\t\t\t\twindow.webkitCancelAnimationFrame ||\r\n\t\t\t\twindow.mozCancelAnimationFrame ||\r\n\t\t\t\twindow.oCancelAnimationFrame ||\r\n\t\t\t\twindow.msCancelAnimationFrame ||\r\n\t\t\t\tfunction(callback) {\r\n\t\t\t\t\treturn window.clearTimeout(callback, 1000 / 60);\r\n\t\t\t\t};\r\n\t\t})(),\r\n\t\tanimationLoop = helpers.animationLoop = function(callback,totalSteps,easingString,onProgress,onComplete,chartInstance){\r\n\r\n\t\t\tvar currentStep = 0,\r\n\t\t\t\teasingFunction = easingEffects[easingString] || easingEffects.linear;\r\n\r\n\t\t\tvar animationFrame = function(){\r\n\t\t\t\tcurrentStep++;\r\n\t\t\t\tvar stepDecimal = currentStep/totalSteps;\r\n\t\t\t\tvar easeDecimal = easingFunction(stepDecimal);\r\n\r\n\t\t\t\tcallback.call(chartInstance,easeDecimal,stepDecimal, currentStep);\r\n\t\t\t\tonProgress.call(chartInstance,easeDecimal,stepDecimal);\r\n\t\t\t\tif (currentStep < totalSteps){\r\n\t\t\t\t\tchartInstance.animationFrame = requestAnimFrame(animationFrame);\r\n\t\t\t\t} else{\r\n\t\t\t\t\tonComplete.apply(chartInstance);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\trequestAnimFrame(animationFrame);\r\n\t\t},\r\n\t\t//-- DOM methods\r\n\t\tgetRelativePosition = helpers.getRelativePosition = function(evt){\r\n\t\t\tvar mouseX, mouseY;\r\n\t\t\tvar e = evt.originalEvent || evt,\r\n\t\t\t\tcanvas = evt.currentTarget || evt.srcElement,\r\n\t\t\t\tboundingRect = canvas.getBoundingClientRect();\r\n\r\n\t\t\tif (e.touches){\r\n\t\t\t\tmouseX = e.touches[0].clientX - boundingRect.left;\r\n\t\t\t\tmouseY = e.touches[0].clientY - boundingRect.top;\r\n\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tmouseX = e.clientX - boundingRect.left;\r\n\t\t\t\tmouseY = e.clientY - boundingRect.top;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tx : mouseX,\r\n\t\t\t\ty : mouseY\r\n\t\t\t};\r\n\r\n\t\t},\r\n\t\taddEvent = helpers.addEvent = function(node,eventType,method){\r\n\t\t\tif (node.addEventListener){\r\n\t\t\t\tnode.addEventListener(eventType,method);\r\n\t\t\t} else if (node.attachEvent){\r\n\t\t\t\tnode.attachEvent(\"on\"+eventType, method);\r\n\t\t\t} else {\r\n\t\t\t\tnode[\"on\"+eventType] = method;\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveEvent = helpers.removeEvent = function(node, eventType, handler){\r\n\t\t\tif (node.removeEventListener){\r\n\t\t\t\tnode.removeEventListener(eventType, handler, false);\r\n\t\t\t} else if (node.detachEvent){\r\n\t\t\t\tnode.detachEvent(\"on\"+eventType,handler);\r\n\t\t\t} else{\r\n\t\t\t\tnode[\"on\" + eventType] = noop;\r\n\t\t\t}\r\n\t\t},\r\n\t\tbindEvents = helpers.bindEvents = function(chartInstance, arrayOfEvents, handler){\r\n\t\t\t// Create the events object if it's not already present\r\n\t\t\tif (!chartInstance.events) chartInstance.events = {};\r\n\r\n\t\t\teach(arrayOfEvents,function(eventName){\r\n\t\t\t\tchartInstance.events[eventName] = function(){\r\n\t\t\t\t\thandler.apply(chartInstance, arguments);\r\n\t\t\t\t};\r\n\t\t\t\taddEvent(chartInstance.chart.canvas,eventName,chartInstance.events[eventName]);\r\n\t\t\t});\r\n\t\t},\r\n\t\tunbindEvents = helpers.unbindEvents = function (chartInstance, arrayOfEvents) {\r\n\t\t\teach(arrayOfEvents, function(handler,eventName){\r\n\t\t\t\tremoveEvent(chartInstance.chart.canvas, eventName, handler);\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetMaximumWidth = helpers.getMaximumWidth = function(domNode){\r\n\t\t\tvar container = domNode.parentNode,\r\n\t\t\t    padding = parseInt(getStyle(container, 'padding-left')) + parseInt(getStyle(container, 'padding-right'));\r\n\t\t\t// TODO = check cross browser stuff with this.\r\n\t\t\treturn container.clientWidth - padding;\r\n\t\t},\r\n\t\tgetMaximumHeight = helpers.getMaximumHeight = function(domNode){\r\n\t\t\tvar container = domNode.parentNode,\r\n\t\t\t    padding = parseInt(getStyle(container, 'padding-bottom')) + parseInt(getStyle(container, 'padding-top'));\r\n\t\t\t// TODO = check cross browser stuff with this.\r\n\t\t\treturn container.clientHeight - padding;\r\n\t\t},\r\n\t\tgetStyle = helpers.getStyle = function (el, property) {\r\n\t\t\treturn el.currentStyle ?\r\n\t\t\t\tel.currentStyle[property] :\r\n\t\t\t\tdocument.defaultView.getComputedStyle(el, null).getPropertyValue(property);\r\n\t\t},\r\n\t\tgetMaximumSize = helpers.getMaximumSize = helpers.getMaximumWidth, // legacy support\r\n\t\tretinaScale = helpers.retinaScale = function(chart){\r\n\t\t\tvar ctx = chart.ctx,\r\n\t\t\t\twidth = chart.canvas.width,\r\n\t\t\t\theight = chart.canvas.height;\r\n\r\n\t\t\tif (window.devicePixelRatio) {\r\n\t\t\t\tctx.canvas.style.width = width + \"px\";\r\n\t\t\t\tctx.canvas.style.height = height + \"px\";\r\n\t\t\t\tctx.canvas.height = height * window.devicePixelRatio;\r\n\t\t\t\tctx.canvas.width = width * window.devicePixelRatio;\r\n\t\t\t\tctx.scale(window.devicePixelRatio, window.devicePixelRatio);\r\n\t\t\t}\r\n\t\t},\r\n\t\t//-- Canvas methods\r\n\t\tclear = helpers.clear = function(chart){\r\n\t\t\tchart.ctx.clearRect(0,0,chart.width,chart.height);\r\n\t\t},\r\n\t\tfontString = helpers.fontString = function(pixelSize,fontStyle,fontFamily){\r\n\t\t\treturn fontStyle + \" \" + pixelSize+\"px \" + fontFamily;\r\n\t\t},\r\n\t\tlongestText = helpers.longestText = function(ctx,font,arrayOfStrings){\r\n\t\t\tctx.font = font;\r\n\t\t\tvar longest = 0;\r\n\t\t\teach(arrayOfStrings,function(string){\r\n\t\t\t\tvar textWidth = ctx.measureText(string).width;\r\n\t\t\t\tlongest = (textWidth > longest) ? textWidth : longest;\r\n\t\t\t});\r\n\t\t\treturn longest;\r\n\t\t},\r\n\t\tdrawRoundedRectangle = helpers.drawRoundedRectangle = function(ctx,x,y,width,height,radius){\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(x + radius, y);\r\n\t\t\tctx.lineTo(x + width - radius, y);\r\n\t\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\r\n\t\t\tctx.lineTo(x + width, y + height - radius);\r\n\t\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\r\n\t\t\tctx.lineTo(x + radius, y + height);\r\n\t\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n\t\t\tctx.lineTo(x, y + radius);\r\n\t\t\tctx.quadraticCurveTo(x, y, x + radius, y);\r\n\t\t\tctx.closePath();\r\n\t\t};\r\n\r\n\r\n\t//Store a reference to each instance - allowing us to globally resize chart instances on window resize.\r\n\t//Destroy method on the chart will remove the instance of the chart from this reference.\r\n\tChart.instances = {};\r\n\r\n\tChart.Type = function(data,options,chart){\r\n\t\tthis.options = options;\r\n\t\tthis.chart = chart;\r\n\t\tthis.id = uid();\r\n\t\t//Add the chart instance to the global namespace\r\n\t\tChart.instances[this.id] = this;\r\n\r\n\t\t// Initialize is always called when a chart type is created\r\n\t\t// By default it is a no op, but it should be extended\r\n\t\tif (options.responsive){\r\n\t\t\tthis.resize();\r\n\t\t}\r\n\t\tthis.initialize.call(this,data);\r\n\t};\r\n\r\n\t//Core methods that'll be a part of every chart type\r\n\textend(Chart.Type.prototype,{\r\n\t\tinitialize : function(){return this;},\r\n\t\tclear : function(){\r\n\t\t\tclear(this.chart);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tstop : function(){\r\n\t\t\t// Stops any current animation loop occuring\r\n\t\t\tChart.animationService.cancelAnimation(this);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tresize : function(callback){\r\n\t\t\tthis.stop();\r\n\t\t\tvar canvas = this.chart.canvas,\r\n\t\t\t\tnewWidth = getMaximumWidth(this.chart.canvas),\r\n\t\t\t\tnewHeight = this.options.maintainAspectRatio ? newWidth / this.chart.aspectRatio : getMaximumHeight(this.chart.canvas);\r\n\r\n\t\t\tcanvas.width = this.chart.width = newWidth;\r\n\t\t\tcanvas.height = this.chart.height = newHeight;\r\n\r\n\t\t\tretinaScale(this.chart);\r\n\r\n\t\t\tif (typeof callback === \"function\"){\r\n\t\t\t\tcallback.apply(this, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\treflow : noop,\r\n\t\trender : function(reflow){\r\n\t\t\tif (reflow){\r\n\t\t\t\tthis.reflow();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.options.animation && !reflow){\r\n\t\t\t\tvar animation = new Chart.Animation();\r\n\t\t\t\tanimation.numSteps = this.options.animationSteps;\r\n\t\t\t\tanimation.easing = this.options.animationEasing;\r\n\t\t\t\t\r\n\t\t\t\t// render function\r\n\t\t\t\tanimation.render = function(chartInstance, animationObject) {\r\n\t\t\t\t\tvar easingFunction = helpers.easingEffects[animationObject.easing];\r\n\t\t\t\t\tvar stepDecimal = animationObject.currentStep / animationObject.numSteps;\r\n\t\t\t\t\tvar easeDecimal = easingFunction(stepDecimal);\r\n\t\t\t\t\t\r\n\t\t\t\t\tchartInstance.draw(easeDecimal, stepDecimal, animationObject.currentStep);\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\t// user events\r\n\t\t\t\tanimation.onAnimationProgress = this.options.onAnimationProgress;\r\n\t\t\t\tanimation.onAnimationComplete = this.options.onAnimationComplete;\r\n\t\t\t\t\r\n\t\t\t\tChart.animationService.addAnimation(this, animation);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.draw();\r\n\t\t\t\tthis.options.onAnimationComplete.call(this);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tgenerateLegend : function(){\r\n\t\t\treturn template(this.options.legendTemplate,this);\r\n\t\t},\r\n\t\tdestroy : function(){\r\n\t\t\tthis.clear();\r\n\t\t\tunbindEvents(this, this.events);\r\n\t\t\tvar canvas = this.chart.canvas;\r\n\r\n\t\t\t// Reset canvas height/width attributes starts a fresh with the canvas context\r\n\t\t\tcanvas.width = this.chart.width;\r\n\t\t\tcanvas.height = this.chart.height;\r\n\r\n\t\t\t// < IE9 doesn't support removeProperty\r\n\t\t\tif (canvas.style.removeProperty) {\r\n\t\t\t\tcanvas.style.removeProperty('width');\r\n\t\t\t\tcanvas.style.removeProperty('height');\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.style.removeAttribute('width');\r\n\t\t\t\tcanvas.style.removeAttribute('height');\r\n\t\t\t}\r\n\r\n\t\t\tdelete Chart.instances[this.id];\r\n\t\t},\r\n\t\tshowTooltip : function(ChartElements, forceRedraw){\r\n\t\t\t// Only redraw the chart if we've actually changed what we're hovering on.\r\n\t\t\tif (typeof this.activeElements === 'undefined') this.activeElements = [];\r\n\r\n\t\t\tvar isChanged = (function(Elements){\r\n\t\t\t\tvar changed = false;\r\n\r\n\t\t\t\tif (Elements.length !== this.activeElements.length){\r\n\t\t\t\t\tchanged = true;\r\n\t\t\t\t\treturn changed;\r\n\t\t\t\t}\r\n\r\n\t\t\t\teach(Elements, function(element, index){\r\n\t\t\t\t\tif (element !== this.activeElements[index]){\r\n\t\t\t\t\t\tchanged = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\t\t\t\treturn changed;\r\n\t\t\t}).call(this, ChartElements);\r\n\r\n\t\t\tif (!isChanged && !forceRedraw){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.activeElements = ChartElements;\r\n\t\t\t}\r\n\t\t\tthis.draw();\r\n\t\t\tif(this.options.customTooltips){\r\n\t\t\t\tthis.options.customTooltips(false);\r\n\t\t\t}\r\n\t\t\tif (ChartElements.length > 0){\r\n\t\t\t\t// If we have multiple datasets, show a MultiTooltip for all of the data points at that index\r\n\t\t\t\tif (this.datasets && this.datasets.length > 1) {\r\n\t\t\t\t\tvar dataArray,\r\n\t\t\t\t\t\tdataIndex;\r\n\r\n\t\t\t\t\tfor (var i = this.datasets.length - 1; i >= 0; i--) {\r\n\t\t\t\t\t\tdataArray = this.datasets[i].points || this.datasets[i].bars || this.datasets[i].segments;\r\n\t\t\t\t\t\tdataIndex = indexOf(dataArray, ChartElements[0]);\r\n\t\t\t\t\t\tif (dataIndex !== -1){\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar tooltipLabels = [],\r\n\t\t\t\t\t\ttooltipColors = [],\r\n\t\t\t\t\t\tmedianPosition = (function(index) {\r\n\r\n\t\t\t\t\t\t\t// Get all the points at that particular index\r\n\t\t\t\t\t\t\tvar Elements = [],\r\n\t\t\t\t\t\t\t\tdataCollection,\r\n\t\t\t\t\t\t\t\txPositions = [],\r\n\t\t\t\t\t\t\t\tyPositions = [],\r\n\t\t\t\t\t\t\t\txMax,\r\n\t\t\t\t\t\t\t\tyMax,\r\n\t\t\t\t\t\t\t\txMin,\r\n\t\t\t\t\t\t\t\tyMin;\r\n\t\t\t\t\t\t\thelpers.each(this.datasets, function(dataset){\r\n\t\t\t\t\t\t\t\tdataCollection = dataset.points || dataset.bars || dataset.segments;\r\n\t\t\t\t\t\t\t\tif (dataCollection[dataIndex] && dataCollection[dataIndex].hasValue()){\r\n\t\t\t\t\t\t\t\t\tElements.push(dataCollection[dataIndex]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\thelpers.each(Elements, function(element) {\r\n\t\t\t\t\t\t\t\txPositions.push(element.x);\r\n\t\t\t\t\t\t\t\tyPositions.push(element.y);\r\n\r\n\r\n\t\t\t\t\t\t\t\t//Include any colour information about the element\r\n\t\t\t\t\t\t\t\ttooltipLabels.push(helpers.template(this.options.multiTooltipTemplate, element));\r\n\t\t\t\t\t\t\t\ttooltipColors.push({\r\n\t\t\t\t\t\t\t\t\tfill: element._saved.fillColor || element.fillColor,\r\n\t\t\t\t\t\t\t\t\tstroke: element._saved.strokeColor || element.strokeColor\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t}, this);\r\n\r\n\t\t\t\t\t\t\tyMin = min(yPositions);\r\n\t\t\t\t\t\t\tyMax = max(yPositions);\r\n\r\n\t\t\t\t\t\t\txMin = min(xPositions);\r\n\t\t\t\t\t\t\txMax = max(xPositions);\r\n\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tx: (xMin > this.chart.width/2) ? xMin : xMax,\r\n\t\t\t\t\t\t\t\ty: (yMin + yMax)/2\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}).call(this, dataIndex);\r\n\r\n\t\t\t\t\tnew Chart.MultiTooltip({\r\n\t\t\t\t\t\tx: medianPosition.x,\r\n\t\t\t\t\t\ty: medianPosition.y,\r\n\t\t\t\t\t\txPadding: this.options.tooltipXPadding,\r\n\t\t\t\t\t\tyPadding: this.options.tooltipYPadding,\r\n\t\t\t\t\t\txOffset: this.options.tooltipXOffset,\r\n\t\t\t\t\t\tfillColor: this.options.tooltipFillColor,\r\n\t\t\t\t\t\ttextColor: this.options.tooltipFontColor,\r\n\t\t\t\t\t\tfontFamily: this.options.tooltipFontFamily,\r\n\t\t\t\t\t\tfontStyle: this.options.tooltipFontStyle,\r\n\t\t\t\t\t\tfontSize: this.options.tooltipFontSize,\r\n\t\t\t\t\t\ttitleTextColor: this.options.tooltipTitleFontColor,\r\n\t\t\t\t\t\ttitleFontFamily: this.options.tooltipTitleFontFamily,\r\n\t\t\t\t\t\ttitleFontStyle: this.options.tooltipTitleFontStyle,\r\n\t\t\t\t\t\ttitleFontSize: this.options.tooltipTitleFontSize,\r\n\t\t\t\t\t\tcornerRadius: this.options.tooltipCornerRadius,\r\n\t\t\t\t\t\tlabels: tooltipLabels,\r\n\t\t\t\t\t\tlegendColors: tooltipColors,\r\n\t\t\t\t\t\tlegendColorBackground : this.options.multiTooltipKeyBackground,\r\n\t\t\t\t\t\ttitle: template(this.options.tooltipTitleTemplate,ChartElements[0]),\r\n\t\t\t\t\t\tchart: this.chart,\r\n\t\t\t\t\t\tctx: this.chart.ctx,\r\n\t\t\t\t\t\tcustom: this.options.customTooltips\r\n\t\t\t\t\t}).draw();\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\teach(ChartElements, function(Element) {\r\n\t\t\t\t\t\tvar tooltipPosition = Element.tooltipPosition();\r\n\t\t\t\t\t\tnew Chart.Tooltip({\r\n\t\t\t\t\t\t\tx: Math.round(tooltipPosition.x),\r\n\t\t\t\t\t\t\ty: Math.round(tooltipPosition.y),\r\n\t\t\t\t\t\t\txPadding: this.options.tooltipXPadding,\r\n\t\t\t\t\t\t\tyPadding: this.options.tooltipYPadding,\r\n\t\t\t\t\t\t\tfillColor: this.options.tooltipFillColor,\r\n\t\t\t\t\t\t\ttextColor: this.options.tooltipFontColor,\r\n\t\t\t\t\t\t\tfontFamily: this.options.tooltipFontFamily,\r\n\t\t\t\t\t\t\tfontStyle: this.options.tooltipFontStyle,\r\n\t\t\t\t\t\t\tfontSize: this.options.tooltipFontSize,\r\n\t\t\t\t\t\t\tcaretHeight: this.options.tooltipCaretSize,\r\n\t\t\t\t\t\t\tcornerRadius: this.options.tooltipCornerRadius,\r\n\t\t\t\t\t\t\ttext: template(this.options.tooltipTemplate, Element),\r\n\t\t\t\t\t\t\tchart: this.chart,\r\n\t\t\t\t\t\t\tcustom: this.options.customTooltips\r\n\t\t\t\t\t\t}).draw();\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\ttoBase64Image : function(){\r\n\t\t\treturn this.chart.canvas.toDataURL.apply(this.chart.canvas, arguments);\r\n\t\t}\r\n\t});\r\n\r\n\tChart.Type.extend = function(extensions){\r\n\r\n\t\tvar parent = this;\r\n\r\n\t\tvar ChartType = function(){\r\n\t\t\treturn parent.apply(this,arguments);\r\n\t\t};\r\n\r\n\t\t//Copy the prototype object of the this class\r\n\t\tChartType.prototype = clone(parent.prototype);\r\n\t\t//Now overwrite some of the properties in the base class with the new extensions\r\n\t\textend(ChartType.prototype, extensions);\r\n\r\n\t\tChartType.extend = Chart.Type.extend;\r\n\r\n\t\tif (extensions.name || parent.prototype.name){\r\n\r\n\t\t\tvar chartName = extensions.name || parent.prototype.name;\r\n\t\t\t//Assign any potential default values of the new chart type\r\n\r\n\t\t\t//If none are defined, we'll use a clone of the chart type this is being extended from.\r\n\t\t\t//I.e. if we extend a line chart, we'll use the defaults from the line chart if our new chart\r\n\t\t\t//doesn't define some defaults of their own.\r\n\r\n\t\t\tvar baseDefaults = (Chart.defaults[parent.prototype.name]) ? clone(Chart.defaults[parent.prototype.name]) : {};\r\n\r\n\t\t\tChart.defaults[chartName] = extend(baseDefaults,extensions.defaults);\r\n\r\n\t\t\tChart.types[chartName] = ChartType;\r\n\r\n\t\t\t//Register this new chart type in the Chart prototype\r\n\t\t\tChart.prototype[chartName] = function(data,options){\r\n\t\t\t\tvar config = merge(Chart.defaults.global, Chart.defaults[chartName], options || {});\r\n\t\t\t\treturn new ChartType(data,config,this);\r\n\t\t\t};\r\n\t\t} else{\r\n\t\t\twarn(\"Name not provided for this chart, so it hasn't been registered\");\r\n\t\t}\r\n\t\treturn parent;\r\n\t};\r\n\r\n\tChart.Element = function(configuration){\r\n\t\textend(this,configuration);\r\n\t\tthis.initialize.apply(this,arguments);\r\n\t\tthis.save();\r\n\t};\r\n\textend(Chart.Element.prototype,{\r\n\t\tinitialize : function(){},\r\n\t\trestore : function(props){\r\n\t\t\tif (!props){\r\n\t\t\t\textend(this,this._saved);\r\n\t\t\t} else {\r\n\t\t\t\teach(props,function(key){\r\n\t\t\t\t\tthis[key] = this._saved[key];\r\n\t\t\t\t},this);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tsave : function(){\r\n\t\t\tthis._saved = clone(this);\r\n\t\t\tdelete this._saved._saved;\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tupdate : function(newProps){\r\n\t\t\teach(newProps,function(value,key){\r\n\t\t\t\tthis._saved[key] = this[key];\r\n\t\t\t\tthis[key] = value;\r\n\t\t\t},this);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\ttransition : function(props,ease){\r\n\t\t\teach(props,function(value,key){\r\n\t\t\t\tthis[key] = ((value - this._saved[key]) * ease) + this._saved[key];\r\n\t\t\t},this);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\ttooltipPosition : function(){\r\n\t\t\treturn {\r\n\t\t\t\tx : this.x,\r\n\t\t\t\ty : this.y\r\n\t\t\t};\r\n\t\t},\r\n\t\thasValue: function(){\r\n\t\t\treturn isNumber(this.value);\r\n\t\t}\r\n\t});\r\n\r\n\tChart.Element.extend = inherits;\r\n\r\n\r\n\tChart.Point = Chart.Element.extend({\r\n\t\tdisplay: true,\r\n\t\tinRange: function(chartX,chartY){\r\n\t\t\tvar hitDetectionRange = this.hitDetectionRadius + this.radius;\r\n\t\t\treturn ((Math.pow(chartX-this.x, 2)+Math.pow(chartY-this.y, 2)) < Math.pow(hitDetectionRange,2));\r\n\t\t},\r\n\t\tdraw : function(){\r\n\t\t\tif (this.display){\r\n\t\t\t\tvar ctx = this.ctx;\r\n\t\t\t\tctx.beginPath();\r\n\r\n\t\t\t\tctx.arc(this.x, this.y, this.radius, 0, Math.PI*2);\r\n\t\t\t\tctx.closePath();\r\n\r\n\t\t\t\tctx.strokeStyle = this.strokeColor;\r\n\t\t\t\tctx.lineWidth = this.strokeWidth;\r\n\r\n\t\t\t\tctx.fillStyle = this.fillColor;\r\n\r\n\t\t\t\tctx.fill();\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\r\n\r\n\t\t\t//Quick debug for bezier curve splining\r\n\t\t\t//Highlights control points and the line between them.\r\n\t\t\t//Handy for dev - stripped in the min version.\r\n\r\n\t\t\t// ctx.save();\r\n\t\t\t// ctx.fillStyle = \"black\";\r\n\t\t\t// ctx.strokeStyle = \"black\"\r\n\t\t\t// ctx.beginPath();\r\n\t\t\t// ctx.arc(this.controlPoints.inner.x,this.controlPoints.inner.y, 2, 0, Math.PI*2);\r\n\t\t\t// ctx.fill();\r\n\r\n\t\t\t// ctx.beginPath();\r\n\t\t\t// ctx.arc(this.controlPoints.outer.x,this.controlPoints.outer.y, 2, 0, Math.PI*2);\r\n\t\t\t// ctx.fill();\r\n\r\n\t\t\t// ctx.moveTo(this.controlPoints.inner.x,this.controlPoints.inner.y);\r\n\t\t\t// ctx.lineTo(this.x, this.y);\r\n\t\t\t// ctx.lineTo(this.controlPoints.outer.x,this.controlPoints.outer.y);\r\n\t\t\t// ctx.stroke();\r\n\r\n\t\t\t// ctx.restore();\r\n\r\n\r\n\r\n\t\t}\r\n\t});\r\n\r\n\tChart.Arc = Chart.Element.extend({\r\n\t\tinRange : function(chartX,chartY){\r\n\r\n\t\t\tvar pointRelativePosition = helpers.getAngleFromPoint(this, {\r\n\t\t\t\tx: chartX,\r\n\t\t\t\ty: chartY\r\n\t\t\t});\r\n\r\n\t\t\t// Normalize all angles to 0 - 2*PI (0 - 360°)\r\n\t\t\tvar pointRelativeAngle = pointRelativePosition.angle % (Math.PI * 2),\r\n\t\t\t    startAngle = (Math.PI * 2 + this.startAngle) % (Math.PI * 2),\r\n\t\t\t    endAngle = (Math.PI * 2 + this.endAngle) % (Math.PI * 2) || 360;\r\n\r\n\t\t\t// Calculate wether the pointRelativeAngle is between the start and the end angle\r\n\t\t\tvar betweenAngles = (endAngle < startAngle) ?\r\n\t\t\t\tpointRelativeAngle <= endAngle || pointRelativeAngle >= startAngle:\r\n\t\t\t\tpointRelativeAngle >= startAngle && pointRelativeAngle <= endAngle;\r\n\r\n\t\t\t//Check if within the range of the open/close angle\r\n\t\t\tvar withinRadius = (pointRelativePosition.distance >= this.innerRadius && pointRelativePosition.distance <= this.outerRadius);\r\n\r\n\t\t\treturn (betweenAngles && withinRadius);\r\n\t\t\t//Ensure within the outside of the arc centre, but inside arc outer\r\n\t\t},\r\n\t\ttooltipPosition : function(){\r\n\t\t\tvar centreAngle = this.startAngle + ((this.endAngle - this.startAngle) / 2),\r\n\t\t\t\trangeFromCentre = (this.outerRadius - this.innerRadius) / 2 + this.innerRadius;\r\n\t\t\treturn {\r\n\t\t\t\tx : this.x + (Math.cos(centreAngle) * rangeFromCentre),\r\n\t\t\t\ty : this.y + (Math.sin(centreAngle) * rangeFromCentre)\r\n\t\t\t};\r\n\t\t},\r\n\t\tdraw : function(animationPercent){\r\n\r\n\t\t\tvar easingDecimal = animationPercent || 1;\r\n\r\n\t\t\tvar ctx = this.ctx;\r\n\r\n\t\t\tctx.beginPath();\r\n\r\n\t\t\tctx.arc(this.x, this.y, this.outerRadius < 0 ? 0 : this.outerRadius, this.startAngle, this.endAngle);\r\n\r\n            ctx.arc(this.x, this.y, this.innerRadius < 0 ? 0 : this.innerRadius, this.endAngle, this.startAngle, true);\r\n\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.strokeStyle = this.strokeColor;\r\n\t\t\tctx.lineWidth = this.strokeWidth;\r\n\r\n\t\t\tctx.fillStyle = this.fillColor;\r\n\r\n\t\t\tctx.fill();\r\n\t\t\tctx.lineJoin = 'bevel';\r\n\r\n\t\t\tif (this.showStroke){\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tChart.Rectangle = Chart.Element.extend({\r\n\t\tdraw : function(){\r\n\t\t\tvar ctx = this.ctx,\r\n\t\t\t\thalfWidth = this.width/2,\r\n\t\t\t\tleftX = this.x - halfWidth,\r\n\t\t\t\trightX = this.x + halfWidth,\r\n\t\t\t\ttop = this.base - (this.base - this.y),\r\n\t\t\t\thalfStroke = this.strokeWidth / 2;\r\n\r\n\t\t\t// Canvas doesn't allow us to stroke inside the width so we can\r\n\t\t\t// adjust the sizes to fit if we're setting a stroke on the line\r\n\t\t\tif (this.showStroke){\r\n\t\t\t\tleftX += halfStroke;\r\n\t\t\t\trightX -= halfStroke;\r\n\t\t\t\ttop += halfStroke;\r\n\t\t\t}\r\n\r\n\t\t\tctx.beginPath();\r\n\r\n\t\t\tctx.fillStyle = this.fillColor;\r\n\t\t\tctx.strokeStyle = this.strokeColor;\r\n\t\t\tctx.lineWidth = this.strokeWidth;\r\n\r\n\t\t\t// It'd be nice to keep this class totally generic to any rectangle\r\n\t\t\t// and simply specify which border to miss out.\r\n\t\t\tctx.moveTo(leftX, this.base);\r\n\t\t\tctx.lineTo(leftX, top);\r\n\t\t\tctx.lineTo(rightX, top);\r\n\t\t\tctx.lineTo(rightX, this.base);\r\n\t\t\tctx.fill();\r\n\t\t\tif (this.showStroke){\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t},\r\n\t\theight : function(){\r\n\t\t\treturn this.base - this.y;\r\n\t\t},\r\n\t\tinRange : function(chartX,chartY){\r\n\t\t\treturn (chartX >= this.x - this.width/2 && chartX <= this.x + this.width/2) && (chartY >= this.y && chartY <= this.base);\r\n\t\t}\r\n\t});\r\n\r\n\tChart.Animation = Chart.Element.extend({\r\n\t\tcurrentStep: null, // the current animation step\r\n\t\tnumSteps: 60, // default number of steps\r\n\t\teasing: \"\", // the easing to use for this animation\r\n\t\trender: null, // render function used by the animation service\r\n\t\t\r\n\t\tonAnimationProgress: null, // user specified callback to fire on each step of the animation \r\n\t\tonAnimationComplete: null, // user specified callback to fire when the animation finishes\r\n\t});\r\n\t\r\n\tChart.Tooltip = Chart.Element.extend({\r\n\t\tdraw : function(){\r\n\r\n\t\t\tvar ctx = this.chart.ctx;\r\n\r\n\t\t\tctx.font = fontString(this.fontSize,this.fontStyle,this.fontFamily);\r\n\r\n\t\t\tthis.xAlign = \"center\";\r\n\t\t\tthis.yAlign = \"above\";\r\n\r\n\t\t\t//Distance between the actual element.y position and the start of the tooltip caret\r\n\t\t\tvar caretPadding = this.caretPadding = 2;\r\n\r\n\t\t\tvar tooltipWidth = ctx.measureText(this.text).width + 2*this.xPadding,\r\n\t\t\t\ttooltipRectHeight = this.fontSize + 2*this.yPadding,\r\n\t\t\t\ttooltipHeight = tooltipRectHeight + this.caretHeight + caretPadding;\r\n\r\n\t\t\tif (this.x + tooltipWidth/2 >this.chart.width){\r\n\t\t\t\tthis.xAlign = \"left\";\r\n\t\t\t} else if (this.x - tooltipWidth/2 < 0){\r\n\t\t\t\tthis.xAlign = \"right\";\r\n\t\t\t}\r\n\r\n\t\t\tif (this.y - tooltipHeight < 0){\r\n\t\t\t\tthis.yAlign = \"below\";\r\n\t\t\t}\r\n\r\n\r\n\t\t\tvar tooltipX = this.x - tooltipWidth/2,\r\n\t\t\t\ttooltipY = this.y - tooltipHeight;\r\n\r\n\t\t\tctx.fillStyle = this.fillColor;\r\n\r\n\t\t\t// Custom Tooltips\r\n\t\t\tif(this.custom){\r\n\t\t\t\tthis.custom(this);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tswitch(this.yAlign)\r\n\t\t\t\t{\r\n\t\t\t\tcase \"above\":\r\n\t\t\t\t\t//Draw a caret above the x/y\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.moveTo(this.x,this.y - caretPadding);\r\n\t\t\t\t\tctx.lineTo(this.x + this.caretHeight, this.y - (caretPadding + this.caretHeight));\r\n\t\t\t\t\tctx.lineTo(this.x - this.caretHeight, this.y - (caretPadding + this.caretHeight));\r\n\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\tctx.fill();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"below\":\r\n\t\t\t\t\ttooltipY = this.y + caretPadding + this.caretHeight;\r\n\t\t\t\t\t//Draw a caret below the x/y\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.moveTo(this.x, this.y + caretPadding);\r\n\t\t\t\t\tctx.lineTo(this.x + this.caretHeight, this.y + caretPadding + this.caretHeight);\r\n\t\t\t\t\tctx.lineTo(this.x - this.caretHeight, this.y + caretPadding + this.caretHeight);\r\n\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\tctx.fill();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tswitch(this.xAlign)\r\n\t\t\t\t{\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\ttooltipX = this.x - tooltipWidth + (this.cornerRadius + this.caretHeight);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\ttooltipX = this.x - (this.cornerRadius + this.caretHeight);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdrawRoundedRectangle(ctx,tooltipX,tooltipY,tooltipWidth,tooltipRectHeight,this.cornerRadius);\r\n\r\n\t\t\t\tctx.fill();\r\n\r\n\t\t\t\tctx.fillStyle = this.textColor;\r\n\t\t\t\tctx.textAlign = \"center\";\r\n\t\t\t\tctx.textBaseline = \"middle\";\r\n\t\t\t\tctx.fillText(this.text, tooltipX + tooltipWidth/2, tooltipY + tooltipRectHeight/2);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tChart.MultiTooltip = Chart.Element.extend({\r\n\t\tinitialize : function(){\r\n\t\t\tthis.font = fontString(this.fontSize,this.fontStyle,this.fontFamily);\r\n\r\n\t\t\tthis.titleFont = fontString(this.titleFontSize,this.titleFontStyle,this.titleFontFamily);\r\n\r\n\t\t\tthis.titleHeight = this.title ? this.titleFontSize * 1.5 : 0;\r\n\t\t\tthis.height = (this.labels.length * this.fontSize) + ((this.labels.length-1) * (this.fontSize/2)) + (this.yPadding*2) + this.titleHeight;\r\n\r\n\t\t\tthis.ctx.font = this.titleFont;\r\n\r\n\t\t\tvar titleWidth = this.ctx.measureText(this.title).width,\r\n\t\t\t\t//Label has a legend square as well so account for this.\r\n\t\t\t\tlabelWidth = longestText(this.ctx,this.font,this.labels) + this.fontSize + 3,\r\n\t\t\t\tlongestTextWidth = max([labelWidth,titleWidth]);\r\n\r\n\t\t\tthis.width = longestTextWidth + (this.xPadding*2);\r\n\r\n\r\n\t\t\tvar halfHeight = this.height/2;\r\n\r\n\t\t\t//Check to ensure the height will fit on the canvas\r\n\t\t\tif (this.y - halfHeight < 0 ){\r\n\t\t\t\tthis.y = halfHeight;\r\n\t\t\t} else if (this.y + halfHeight > this.chart.height){\r\n\t\t\t\tthis.y = this.chart.height - halfHeight;\r\n\t\t\t}\r\n\r\n\t\t\t//Decide whether to align left or right based on position on canvas\r\n\t\t\tif (this.x > this.chart.width/2){\r\n\t\t\t\tthis.x -= this.xOffset + this.width;\r\n\t\t\t} else {\r\n\t\t\t\tthis.x += this.xOffset;\r\n\t\t\t}\r\n\r\n\r\n\t\t},\r\n\t\tgetLineHeight : function(index){\r\n\t\t\tvar baseLineHeight = this.y - (this.height/2) + this.yPadding,\r\n\t\t\t\tafterTitleIndex = index-1;\r\n\r\n\t\t\t//If the index is zero, we're getting the title\r\n\t\t\tif (index === 0){\r\n\t\t\t\treturn baseLineHeight + this.titleHeight / 3;\r\n\t\t\t} else{\r\n\t\t\t\treturn baseLineHeight + ((this.fontSize * 1.5 * afterTitleIndex) + this.fontSize / 2) + this.titleHeight;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tdraw : function(){\r\n\t\t\t// Custom Tooltips\r\n\t\t\tif(this.custom){\r\n\t\t\t\tthis.custom(this);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tdrawRoundedRectangle(this.ctx,this.x,this.y - this.height/2,this.width,this.height,this.cornerRadius);\r\n\t\t\t\tvar ctx = this.ctx;\r\n\t\t\t\tctx.fillStyle = this.fillColor;\r\n\t\t\t\tctx.fill();\r\n\t\t\t\tctx.closePath();\r\n\r\n\t\t\t\tctx.textAlign = \"left\";\r\n\t\t\t\tctx.textBaseline = \"middle\";\r\n\t\t\t\tctx.fillStyle = this.titleTextColor;\r\n\t\t\t\tctx.font = this.titleFont;\r\n\r\n\t\t\t\tctx.fillText(this.title,this.x + this.xPadding, this.getLineHeight(0));\r\n\r\n\t\t\t\tctx.font = this.font;\r\n\t\t\t\thelpers.each(this.labels,function(label,index){\r\n\t\t\t\t\tctx.fillStyle = this.textColor;\r\n\t\t\t\t\tctx.fillText(label,this.x + this.xPadding + this.fontSize + 3, this.getLineHeight(index + 1));\r\n\r\n\t\t\t\t\t//A bit gnarly, but clearing this rectangle breaks when using explorercanvas (clears whole canvas)\r\n\t\t\t\t\t//ctx.clearRect(this.x + this.xPadding, this.getLineHeight(index + 1) - this.fontSize/2, this.fontSize, this.fontSize);\r\n\t\t\t\t\t//Instead we'll make a white filled block to put the legendColour palette over.\r\n\r\n\t\t\t\t\tctx.fillStyle = this.legendColorBackground;\r\n\t\t\t\t\tctx.fillRect(this.x + this.xPadding, this.getLineHeight(index + 1) - this.fontSize/2, this.fontSize, this.fontSize);\r\n\r\n\t\t\t\t\tctx.fillStyle = this.legendColors[index].fill;\r\n\t\t\t\t\tctx.fillRect(this.x + this.xPadding, this.getLineHeight(index + 1) - this.fontSize/2, this.fontSize, this.fontSize);\r\n\r\n\r\n\t\t\t\t},this);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tChart.Scale = Chart.Element.extend({\r\n\t\tinitialize : function(){\r\n\t\t\tthis.fit();\r\n\t\t},\r\n\t\tbuildYLabels : function(){\r\n\t\t\tthis.yLabels = [];\r\n\r\n\t\t\tvar stepDecimalPlaces = getDecimalPlaces(this.stepValue);\r\n\r\n\t\t\tfor (var i=0; i<=this.steps; i++){\r\n\t\t\t\tthis.yLabels.push(template(this.templateString,{value:(this.min + (i * this.stepValue)).toFixed(stepDecimalPlaces)}));\r\n\t\t\t}\r\n\t\t\tthis.yLabelWidth = (this.display && this.showLabels) ? longestText(this.ctx,this.font,this.yLabels) + 10 : 0;\r\n\t\t},\r\n\t\taddXLabel : function(label){\r\n\t\t\tthis.xLabels.push(label);\r\n\t\t\tthis.valuesCount++;\r\n\t\t\tthis.fit();\r\n\t\t},\r\n\t\tremoveXLabel : function(){\r\n\t\t\tthis.xLabels.shift();\r\n\t\t\tthis.valuesCount--;\r\n\t\t\tthis.fit();\r\n\t\t},\r\n\t\t// Fitting loop to rotate x Labels and figure out what fits there, and also calculate how many Y steps to use\r\n\t\tfit: function(){\r\n\t\t\t// First we need the width of the yLabels, assuming the xLabels aren't rotated\r\n\r\n\t\t\t// To do that we need the base line at the top and base of the chart, assuming there is no x label rotation\r\n\t\t\tthis.startPoint = (this.display) ? this.fontSize : 0;\r\n\t\t\tthis.endPoint = (this.display) ? this.height - (this.fontSize * 1.5) - 5 : this.height; // -5 to pad labels\r\n\r\n\t\t\t// Apply padding settings to the start and end point.\r\n\t\t\tthis.startPoint += this.padding;\r\n\t\t\tthis.endPoint -= this.padding;\r\n\r\n\t\t\t// Cache the starting endpoint, excluding the space for x labels\r\n\t\t\tvar cachedEndPoint = this.endPoint;\r\n\r\n\t\t\t// Cache the starting height, so can determine if we need to recalculate the scale yAxis\r\n\t\t\tvar cachedHeight = this.endPoint - this.startPoint,\r\n\t\t\t\tcachedYLabelWidth;\r\n\r\n\t\t\t// Build the current yLabels so we have an idea of what size they'll be to start\r\n\t\t\t/*\r\n\t\t\t *\tThis sets what is returned from calculateScaleRange as static properties of this class:\r\n\t\t\t *\r\n\t\t\t\tthis.steps;\r\n\t\t\t\tthis.stepValue;\r\n\t\t\t\tthis.min;\r\n\t\t\t\tthis.max;\r\n\t\t\t *\r\n\t\t\t */\r\n\t\t\tthis.calculateYRange(cachedHeight);\r\n\r\n\t\t\t// With these properties set we can now build the array of yLabels\r\n\t\t\t// and also the width of the largest yLabel\r\n\t\t\tthis.buildYLabels();\r\n\r\n\t\t\tthis.calculateXLabelRotation();\r\n\r\n\t\t\twhile((cachedHeight > this.endPoint - this.startPoint)){\r\n\t\t\t\tcachedHeight = this.endPoint - this.startPoint;\r\n\t\t\t\tcachedYLabelWidth = this.yLabelWidth;\r\n\r\n\t\t\t\tthis.calculateYRange(cachedHeight);\r\n\t\t\t\tthis.buildYLabels();\r\n\r\n\t\t\t\t// Only go through the xLabel loop again if the yLabel width has changed\r\n\t\t\t\tif (cachedYLabelWidth < this.yLabelWidth){\r\n\t\t\t\t\tthis.endPoint = cachedEndPoint;\r\n\t\t\t\t\tthis.calculateXLabelRotation();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tcalculateXLabelRotation : function(){\r\n\t\t\t//Get the width of each grid by calculating the difference\r\n\t\t\t//between x offsets between 0 and 1.\r\n\r\n\t\t\tthis.ctx.font = this.font;\r\n\r\n\t\t\tvar firstWidth = this.ctx.measureText(this.xLabels[0]).width,\r\n\t\t\t\tlastWidth = this.ctx.measureText(this.xLabels[this.xLabels.length - 1]).width,\r\n\t\t\t\tfirstRotated,\r\n\t\t\t\tlastRotated;\r\n\r\n\r\n\t\t\tthis.xScalePaddingRight = lastWidth/2 + 3;\r\n\t\t\tthis.xScalePaddingLeft = (firstWidth/2 > this.yLabelWidth) ? firstWidth/2 : this.yLabelWidth;\r\n\r\n\t\t\tthis.xLabelRotation = 0;\r\n\t\t\tif (this.display){\r\n\t\t\t\tvar originalLabelWidth = longestText(this.ctx,this.font,this.xLabels),\r\n\t\t\t\t\tcosRotation,\r\n\t\t\t\t\tfirstRotatedWidth;\r\n\t\t\t\tthis.xLabelWidth = originalLabelWidth;\r\n\t\t\t\t//Allow 3 pixels x2 padding either side for label readability\r\n\t\t\t\tvar xGridWidth = Math.floor(this.calculateX(1) - this.calculateX(0)) - 6;\r\n\r\n\t\t\t\t//Max label rotate should be 90 - also act as a loop counter\r\n\t\t\t\twhile ((this.xLabelWidth > xGridWidth && this.xLabelRotation === 0) || (this.xLabelWidth > xGridWidth && this.xLabelRotation <= 90 && this.xLabelRotation > 0)){\r\n\t\t\t\t\tcosRotation = Math.cos(toRadians(this.xLabelRotation));\r\n\r\n\t\t\t\t\tfirstRotated = cosRotation * firstWidth;\r\n\t\t\t\t\tlastRotated = cosRotation * lastWidth;\r\n\r\n\t\t\t\t\t// We're right aligning the text now.\r\n\t\t\t\t\tif (firstRotated + this.fontSize / 2 > this.yLabelWidth){\r\n\t\t\t\t\t\tthis.xScalePaddingLeft = firstRotated + this.fontSize / 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.xScalePaddingRight = this.fontSize/2;\r\n\r\n\r\n\t\t\t\t\tthis.xLabelRotation++;\r\n\t\t\t\t\tthis.xLabelWidth = cosRotation * originalLabelWidth;\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif (this.xLabelRotation > 0){\r\n\t\t\t\t\tthis.endPoint -= Math.sin(toRadians(this.xLabelRotation))*originalLabelWidth + 3;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.xLabelWidth = 0;\r\n\t\t\t\tthis.xScalePaddingRight = this.padding;\r\n\t\t\t\tthis.xScalePaddingLeft = this.padding;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t// Needs to be overidden in each Chart type\r\n\t\t// Otherwise we need to pass all the data into the scale class\r\n\t\tcalculateYRange: noop,\r\n\t\tdrawingArea: function(){\r\n\t\t\treturn this.startPoint - this.endPoint;\r\n\t\t},\r\n\t\tcalculateY : function(value){\r\n\t\t\tvar scalingFactor = this.drawingArea() / (this.min - this.max);\r\n\t\t\treturn this.endPoint - (scalingFactor * (value - this.min));\r\n\t\t},\r\n\t\tcalculateX : function(index){\r\n\t\t\tvar isRotated = (this.xLabelRotation > 0),\r\n\t\t\t\t// innerWidth = (this.offsetGridLines) ? this.width - offsetLeft - this.padding : this.width - (offsetLeft + halfLabelWidth * 2) - this.padding,\r\n\t\t\t\tinnerWidth = this.width - (this.xScalePaddingLeft + this.xScalePaddingRight),\r\n\t\t\t\tvalueWidth = innerWidth/Math.max((this.valuesCount - ((this.offsetGridLines) ? 0 : 1)), 1),\r\n\t\t\t\tvalueOffset = (valueWidth * index) + this.xScalePaddingLeft;\r\n\r\n\t\t\tif (this.offsetGridLines){\r\n\t\t\t\tvalueOffset += (valueWidth/2);\r\n\t\t\t}\r\n\r\n\t\t\treturn Math.round(valueOffset);\r\n\t\t},\r\n\t\tupdate : function(newProps){\r\n\t\t\thelpers.extend(this, newProps);\r\n\t\t\tthis.fit();\r\n\t\t},\r\n\t\tdraw : function(){\r\n\t\t\tvar ctx = this.ctx,\r\n\t\t\t\tyLabelGap = (this.endPoint - this.startPoint) / this.steps,\r\n\t\t\t\txStart = Math.round(this.xScalePaddingLeft);\r\n\t\t\tif (this.display){\r\n\t\t\t\tctx.fillStyle = this.textColor;\r\n\t\t\t\tctx.font = this.font;\r\n\t\t\t\teach(this.yLabels,function(labelString,index){\r\n\t\t\t\t\tvar yLabelCenter = this.endPoint - (yLabelGap * index),\r\n\t\t\t\t\t\tlinePositionY = Math.round(yLabelCenter),\r\n\t\t\t\t\t\tdrawHorizontalLine = this.showHorizontalLines;\r\n\r\n\t\t\t\t\tctx.textAlign = \"right\";\r\n\t\t\t\t\tctx.textBaseline = \"middle\";\r\n\t\t\t\t\tif (this.showLabels){\r\n\t\t\t\t\t\tctx.fillText(labelString,xStart - 10,yLabelCenter);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// This is X axis, so draw it\r\n\t\t\t\t\tif (index === 0 && !drawHorizontalLine){\r\n\t\t\t\t\t\tdrawHorizontalLine = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (drawHorizontalLine){\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (index > 0){\r\n\t\t\t\t\t\t// This is a grid line in the centre, so drop that\r\n\t\t\t\t\t\tctx.lineWidth = this.gridLineWidth;\r\n\t\t\t\t\t\tctx.strokeStyle = this.gridLineColor;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// This is the first line on the scale\r\n\t\t\t\t\t\tctx.lineWidth = this.lineWidth;\r\n\t\t\t\t\t\tctx.strokeStyle = this.lineColor;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlinePositionY += helpers.aliasPixel(ctx.lineWidth);\r\n\r\n\t\t\t\t\tif(drawHorizontalLine){\r\n\t\t\t\t\t\tctx.moveTo(xStart, linePositionY);\r\n\t\t\t\t\t\tctx.lineTo(this.width, linePositionY);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tctx.lineWidth = this.lineWidth;\r\n\t\t\t\t\tctx.strokeStyle = this.lineColor;\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.moveTo(xStart - 5, linePositionY);\r\n\t\t\t\t\tctx.lineTo(xStart, linePositionY);\r\n\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\tctx.closePath();\r\n\r\n\t\t\t\t},this);\r\n\r\n\t\t\t\teach(this.xLabels,function(label,index){\r\n\t\t\t\t\tvar xPos = this.calculateX(index) + aliasPixel(this.lineWidth),\r\n\t\t\t\t\t\t// Check to see if line/bar here and decide where to place the line\r\n\t\t\t\t\t\tlinePos = this.calculateX(index - (this.offsetGridLines ? 0.5 : 0)) + aliasPixel(this.lineWidth),\r\n\t\t\t\t\t\tisRotated = (this.xLabelRotation > 0),\r\n\t\t\t\t\t\tdrawVerticalLine = this.showVerticalLines;\r\n\r\n\t\t\t\t\t// This is Y axis, so draw it\r\n\t\t\t\t\tif (index === 0 && !drawVerticalLine){\r\n\t\t\t\t\t\tdrawVerticalLine = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (drawVerticalLine){\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (index > 0){\r\n\t\t\t\t\t\t// This is a grid line in the centre, so drop that\r\n\t\t\t\t\t\tctx.lineWidth = this.gridLineWidth;\r\n\t\t\t\t\t\tctx.strokeStyle = this.gridLineColor;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// This is the first line on the scale\r\n\t\t\t\t\t\tctx.lineWidth = this.lineWidth;\r\n\t\t\t\t\t\tctx.strokeStyle = this.lineColor;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (drawVerticalLine){\r\n\t\t\t\t\t\tctx.moveTo(linePos,this.endPoint);\r\n\t\t\t\t\t\tctx.lineTo(linePos,this.startPoint - 3);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tctx.lineWidth = this.lineWidth;\r\n\t\t\t\t\tctx.strokeStyle = this.lineColor;\r\n\r\n\r\n\t\t\t\t\t// Small lines at the bottom of the base grid line\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.moveTo(linePos,this.endPoint);\r\n\t\t\t\t\tctx.lineTo(linePos,this.endPoint + 5);\r\n\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\tctx.closePath();\r\n\r\n\t\t\t\t\tctx.save();\r\n\t\t\t\t\tctx.translate(xPos,(isRotated) ? this.endPoint + 12 : this.endPoint + 8);\r\n\t\t\t\t\tctx.rotate(toRadians(this.xLabelRotation)*-1);\r\n\t\t\t\t\tctx.font = this.font;\r\n\t\t\t\t\tctx.textAlign = (isRotated) ? \"right\" : \"center\";\r\n\t\t\t\t\tctx.textBaseline = (isRotated) ? \"middle\" : \"top\";\r\n\t\t\t\t\tctx.fillText(label, 0, 0);\r\n\t\t\t\t\tctx.restore();\r\n\t\t\t\t},this);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tChart.RadialScale = Chart.Element.extend({\r\n\t\tinitialize: function(){\r\n\t\t\tthis.size = min([this.height, this.width]);\r\n\t\t\tthis.drawingArea = (this.display) ? (this.size/2) - (this.fontSize/2 + this.backdropPaddingY) : (this.size/2);\r\n\t\t},\r\n\t\tcalculateCenterOffset: function(value){\r\n\t\t\t// Take into account half font size + the yPadding of the top value\r\n\t\t\tvar scalingFactor = this.drawingArea / (this.max - this.min);\r\n\r\n\t\t\treturn (value - this.min) * scalingFactor;\r\n\t\t},\r\n\t\tupdate : function(){\r\n\t\t\tif (!this.lineArc){\r\n\t\t\t\tthis.setScaleSize();\r\n\t\t\t} else {\r\n\t\t\t\tthis.drawingArea = (this.display) ? (this.size/2) - (this.fontSize/2 + this.backdropPaddingY) : (this.size/2);\r\n\t\t\t}\r\n\t\t\tthis.buildYLabels();\r\n\t\t},\r\n\t\tbuildYLabels: function(){\r\n\t\t\tthis.yLabels = [];\r\n\r\n\t\t\tvar stepDecimalPlaces = getDecimalPlaces(this.stepValue);\r\n\r\n\t\t\tfor (var i=0; i<=this.steps; i++){\r\n\t\t\t\tthis.yLabels.push(template(this.templateString,{value:(this.min + (i * this.stepValue)).toFixed(stepDecimalPlaces)}));\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetCircumference : function(){\r\n\t\t\treturn ((Math.PI*2) / this.valuesCount);\r\n\t\t},\r\n\t\tsetScaleSize: function(){\r\n\t\t\t/*\r\n\t\t\t * Right, this is really confusing and there is a lot of maths going on here\r\n\t\t\t * The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\r\n\t\t\t *\r\n\t\t\t * Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\r\n\t\t\t *\r\n\t\t\t * Solution:\r\n\t\t\t *\r\n\t\t\t * We assume the radius of the polygon is half the size of the canvas at first\r\n\t\t\t * at each index we check if the text overlaps.\r\n\t\t\t *\r\n\t\t\t * Where it does, we store that angle and that index.\r\n\t\t\t *\r\n\t\t\t * After finding the largest index and angle we calculate how much we need to remove\r\n\t\t\t * from the shape radius to move the point inwards by that x.\r\n\t\t\t *\r\n\t\t\t * We average the left and right distances to get the maximum shape radius that can fit in the box\r\n\t\t\t * along with labels.\r\n\t\t\t *\r\n\t\t\t * Once we have that, we can find the centre point for the chart, by taking the x text protrusion\r\n\t\t\t * on each side, removing that from the size, halving it and adding the left x protrusion width.\r\n\t\t\t *\r\n\t\t\t * This will mean we have a shape fitted to the canvas, as large as it can be with the labels\r\n\t\t\t * and position it in the most space efficient manner\r\n\t\t\t *\r\n\t\t\t * https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\r\n\t\t\t */\r\n\r\n\r\n\t\t\t// Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\r\n\t\t\t// Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\r\n\t\t\tvar largestPossibleRadius = min([(this.height/2 - this.pointLabelFontSize - 5), this.width/2]),\r\n\t\t\t\tpointPosition,\r\n\t\t\t\ti,\r\n\t\t\t\ttextWidth,\r\n\t\t\t\thalfTextWidth,\r\n\t\t\t\tfurthestRight = this.width,\r\n\t\t\t\tfurthestRightIndex,\r\n\t\t\t\tfurthestRightAngle,\r\n\t\t\t\tfurthestLeft = 0,\r\n\t\t\t\tfurthestLeftIndex,\r\n\t\t\t\tfurthestLeftAngle,\r\n\t\t\t\txProtrusionLeft,\r\n\t\t\t\txProtrusionRight,\r\n\t\t\t\tradiusReductionRight,\r\n\t\t\t\tradiusReductionLeft,\r\n\t\t\t\tmaxWidthRadius;\r\n\t\t\tthis.ctx.font = fontString(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);\r\n\t\t\tfor (i=0;i<this.valuesCount;i++){\r\n\t\t\t\t// 5px to space the text slightly out - similar to what we do in the draw function.\r\n\t\t\t\tpointPosition = this.getPointPosition(i, largestPossibleRadius);\r\n\t\t\t\ttextWidth = this.ctx.measureText(template(this.templateString, { value: this.labels[i] })).width + 5;\r\n\t\t\t\tif (i === 0 || i === this.valuesCount/2){\r\n\t\t\t\t\t// If we're at index zero, or exactly the middle, we're at exactly the top/bottom\r\n\t\t\t\t\t// of the radar chart, so text will be aligned centrally, so we'll half it and compare\r\n\t\t\t\t\t// w/left and right text sizes\r\n\t\t\t\t\thalfTextWidth = textWidth/2;\r\n\t\t\t\t\tif (pointPosition.x + halfTextWidth > furthestRight) {\r\n\t\t\t\t\t\tfurthestRight = pointPosition.x + halfTextWidth;\r\n\t\t\t\t\t\tfurthestRightIndex = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (pointPosition.x - halfTextWidth < furthestLeft) {\r\n\t\t\t\t\t\tfurthestLeft = pointPosition.x - halfTextWidth;\r\n\t\t\t\t\t\tfurthestLeftIndex = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (i < this.valuesCount/2) {\r\n\t\t\t\t\t// Less than half the values means we'll left align the text\r\n\t\t\t\t\tif (pointPosition.x + textWidth > furthestRight) {\r\n\t\t\t\t\t\tfurthestRight = pointPosition.x + textWidth;\r\n\t\t\t\t\t\tfurthestRightIndex = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (i > this.valuesCount/2){\r\n\t\t\t\t\t// More than half the values means we'll right align the text\r\n\t\t\t\t\tif (pointPosition.x - textWidth < furthestLeft) {\r\n\t\t\t\t\t\tfurthestLeft = pointPosition.x - textWidth;\r\n\t\t\t\t\t\tfurthestLeftIndex = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\txProtrusionLeft = furthestLeft;\r\n\r\n\t\t\txProtrusionRight = Math.ceil(furthestRight - this.width);\r\n\r\n\t\t\tfurthestRightAngle = this.getIndexAngle(furthestRightIndex);\r\n\r\n\t\t\tfurthestLeftAngle = this.getIndexAngle(furthestLeftIndex);\r\n\r\n\t\t\tradiusReductionRight = xProtrusionRight / Math.sin(furthestRightAngle + Math.PI/2);\r\n\r\n\t\t\tradiusReductionLeft = xProtrusionLeft / Math.sin(furthestLeftAngle + Math.PI/2);\r\n\r\n\t\t\t// Ensure we actually need to reduce the size of the chart\r\n\t\t\tradiusReductionRight = (isNumber(radiusReductionRight)) ? radiusReductionRight : 0;\r\n\t\t\tradiusReductionLeft = (isNumber(radiusReductionLeft)) ? radiusReductionLeft : 0;\r\n\r\n\t\t\tthis.drawingArea = largestPossibleRadius - (radiusReductionLeft + radiusReductionRight)/2;\r\n\r\n\t\t\t//this.drawingArea = min([maxWidthRadius, (this.height - (2 * (this.pointLabelFontSize + 5)))/2])\r\n\t\t\tthis.setCenterPoint(radiusReductionLeft, radiusReductionRight);\r\n\r\n\t\t},\r\n\t\tsetCenterPoint: function(leftMovement, rightMovement){\r\n\r\n\t\t\tvar maxRight = this.width - rightMovement - this.drawingArea,\r\n\t\t\t\tmaxLeft = leftMovement + this.drawingArea;\r\n\r\n\t\t\tthis.xCenter = (maxLeft + maxRight)/2;\r\n\t\t\t// Always vertically in the centre as the text height doesn't change\r\n\t\t\tthis.yCenter = (this.height/2);\r\n\t\t},\r\n\r\n\t\tgetIndexAngle : function(index){\r\n\t\t\tvar angleMultiplier = (Math.PI * 2) / this.valuesCount;\r\n\t\t\t// Start from the top instead of right, so remove a quarter of the circle\r\n\r\n\t\t\treturn index * angleMultiplier - (Math.PI/2);\r\n\t\t},\r\n\t\tgetPointPosition : function(index, distanceFromCenter){\r\n\t\t\tvar thisAngle = this.getIndexAngle(index);\r\n\t\t\treturn {\r\n\t\t\t\tx : (Math.cos(thisAngle) * distanceFromCenter) + this.xCenter,\r\n\t\t\t\ty : (Math.sin(thisAngle) * distanceFromCenter) + this.yCenter\r\n\t\t\t};\r\n\t\t},\r\n\t\tdraw: function(){\r\n\t\t\tif (this.display){\r\n\t\t\t\tvar ctx = this.ctx;\r\n\t\t\t\teach(this.yLabels, function(label, index){\r\n\t\t\t\t\t// Don't draw a centre value\r\n\t\t\t\t\tif (index > 0){\r\n\t\t\t\t\t\tvar yCenterOffset = index * (this.drawingArea/this.steps),\r\n\t\t\t\t\t\t\tyHeight = this.yCenter - yCenterOffset,\r\n\t\t\t\t\t\t\tpointPosition;\r\n\r\n\t\t\t\t\t\t// Draw circular lines around the scale\r\n\t\t\t\t\t\tif (this.lineWidth > 0){\r\n\t\t\t\t\t\t\tctx.strokeStyle = this.lineColor;\r\n\t\t\t\t\t\t\tctx.lineWidth = this.lineWidth;\r\n\r\n\t\t\t\t\t\t\tif(this.lineArc){\r\n\t\t\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\t\t\tctx.arc(this.xCenter, this.yCenter, yCenterOffset, 0, Math.PI*2);\r\n\t\t\t\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\t\t\tfor (var i=0;i<this.valuesCount;i++)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpointPosition = this.getPointPosition(i, this.calculateCenterOffset(this.min + (index * this.stepValue)));\r\n\t\t\t\t\t\t\t\t\tif (i === 0){\r\n\t\t\t\t\t\t\t\t\t\tctx.moveTo(pointPosition.x, pointPosition.y);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tctx.lineTo(pointPosition.x, pointPosition.y);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(this.showLabels){\r\n\t\t\t\t\t\t\tctx.font = fontString(this.fontSize,this.fontStyle,this.fontFamily);\r\n\t\t\t\t\t\t\tif (this.showLabelBackdrop){\r\n\t\t\t\t\t\t\t\tvar labelWidth = ctx.measureText(label).width;\r\n\t\t\t\t\t\t\t\tctx.fillStyle = this.backdropColor;\r\n\t\t\t\t\t\t\t\tctx.fillRect(\r\n\t\t\t\t\t\t\t\t\tthis.xCenter - labelWidth/2 - this.backdropPaddingX,\r\n\t\t\t\t\t\t\t\t\tyHeight - this.fontSize/2 - this.backdropPaddingY,\r\n\t\t\t\t\t\t\t\t\tlabelWidth + this.backdropPaddingX*2,\r\n\t\t\t\t\t\t\t\t\tthis.fontSize + this.backdropPaddingY*2\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tctx.textAlign = 'center';\r\n\t\t\t\t\t\t\tctx.textBaseline = \"middle\";\r\n\t\t\t\t\t\t\tctx.fillStyle = this.fontColor;\r\n\t\t\t\t\t\t\tctx.fillText(label, this.xCenter, yHeight);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\r\n\t\t\t\tif (!this.lineArc){\r\n\t\t\t\t\tctx.lineWidth = this.angleLineWidth;\r\n\t\t\t\t\tctx.strokeStyle = this.angleLineColor;\r\n\t\t\t\t\tfor (var i = this.valuesCount - 1; i >= 0; i--) {\r\n\t\t\t\t\t\tvar centerOffset = null, outerPosition = null;\r\n\r\n\t\t\t\t\t\tif (this.angleLineWidth > 0){\r\n\t\t\t\t\t\t\tcenterOffset = this.calculateCenterOffset(this.max);\r\n\t\t\t\t\t\t\touterPosition = this.getPointPosition(i, centerOffset);\r\n\t\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\t\tctx.moveTo(this.xCenter, this.yCenter);\r\n\t\t\t\t\t\t\tctx.lineTo(outerPosition.x, outerPosition.y);\r\n\t\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (this.backgroundColors && this.backgroundColors.length == this.valuesCount) {\r\n\t\t\t\t\t\t\tif (centerOffset == null)\r\n\t\t\t\t\t\t\t\tcenterOffset = this.calculateCenterOffset(this.max);\r\n\r\n\t\t\t\t\t\t\tif (outerPosition == null)\r\n\t\t\t\t\t\t\t\touterPosition = this.getPointPosition(i, centerOffset);\r\n\r\n\t\t\t\t\t\t\tvar previousOuterPosition = this.getPointPosition(i === 0 ? this.valuesCount - 1 : i - 1, centerOffset);\r\n\t\t\t\t\t\t\tvar nextOuterPosition = this.getPointPosition(i === this.valuesCount - 1 ? 0 : i + 1, centerOffset);\r\n\r\n\t\t\t\t\t\t\tvar previousOuterHalfway = { x: (previousOuterPosition.x + outerPosition.x) / 2, y: (previousOuterPosition.y + outerPosition.y) / 2 };\r\n\t\t\t\t\t\t\tvar nextOuterHalfway = { x: (outerPosition.x + nextOuterPosition.x) / 2, y: (outerPosition.y + nextOuterPosition.y) / 2 };\r\n\r\n\t\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\t\tctx.moveTo(this.xCenter, this.yCenter);\r\n\t\t\t\t\t\t\tctx.lineTo(previousOuterHalfway.x, previousOuterHalfway.y);\r\n\t\t\t\t\t\t\tctx.lineTo(outerPosition.x, outerPosition.y);\r\n\t\t\t\t\t\t\tctx.lineTo(nextOuterHalfway.x, nextOuterHalfway.y);\r\n\t\t\t\t\t\t\tctx.fillStyle = this.backgroundColors[i];\r\n\t\t\t\t\t\t\tctx.fill();\r\n\t\t\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Extra 3px out for some label spacing\r\n\t\t\t\t\t\tvar pointLabelPosition = this.getPointPosition(i, this.calculateCenterOffset(this.max) + 5);\r\n\t\t\t\t\t\tctx.font = fontString(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);\r\n\t\t\t\t\t\tctx.fillStyle = this.pointLabelFontColor;\r\n\r\n\t\t\t\t\t\tvar labelsCount = this.labels.length,\r\n\t\t\t\t\t\t\thalfLabelsCount = this.labels.length/2,\r\n\t\t\t\t\t\t\tquarterLabelsCount = halfLabelsCount/2,\r\n\t\t\t\t\t\t\tupperHalf = (i < quarterLabelsCount || i > labelsCount - quarterLabelsCount),\r\n\t\t\t\t\t\t\texactQuarter = (i === quarterLabelsCount || i === labelsCount - quarterLabelsCount);\r\n\t\t\t\t\t\tif (i === 0){\r\n\t\t\t\t\t\t\tctx.textAlign = 'center';\r\n\t\t\t\t\t\t} else if(i === halfLabelsCount){\r\n\t\t\t\t\t\t\tctx.textAlign = 'center';\r\n\t\t\t\t\t\t} else if (i < halfLabelsCount){\r\n\t\t\t\t\t\t\tctx.textAlign = 'left';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tctx.textAlign = 'right';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Set the correct text baseline based on outer positioning\r\n\t\t\t\t\t\tif (exactQuarter){\r\n\t\t\t\t\t\t\tctx.textBaseline = 'middle';\r\n\t\t\t\t\t\t} else if (upperHalf){\r\n\t\t\t\t\t\t\tctx.textBaseline = 'bottom';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tctx.textBaseline = 'top';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tctx.fillText(this.labels[i], pointLabelPosition.x, pointLabelPosition.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tChart.animationService = {\r\n\t\tframeDuration: 17,\r\n\t\tanimations: [],\r\n\t\tdropFrames: 0,\r\n\t\taddAnimation: function(chartInstance, animationObject) {\r\n\t\t\tfor (var index = 0; index < this.animations.length; ++ index){\r\n\t\t\t\tif (this.animations[index].chartInstance === chartInstance){\r\n\t\t\t\t\t// replacing an in progress animation\r\n\t\t\t\t\tthis.animations[index].animationObject = animationObject;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.animations.push({\r\n\t\t\t\tchartInstance: chartInstance,\r\n\t\t\t\tanimationObject: animationObject\r\n\t\t\t});\r\n\r\n\t\t\t// If there are no animations queued, manually kickstart a digest, for lack of a better word\r\n\t\t\tif (this.animations.length == 1) {\r\n\t\t\t\thelpers.requestAnimFrame.call(window, this.digestWrapper);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Cancel the animation for a given chart instance\r\n\t\tcancelAnimation: function(chartInstance) {\r\n\t\t\tvar index = helpers.findNextWhere(this.animations, function(animationWrapper) {\r\n\t\t\t\treturn animationWrapper.chartInstance === chartInstance;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (index)\r\n\t\t\t{\r\n\t\t\t\tthis.animations.splice(index, 1);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// calls startDigest with the proper context\r\n\t\tdigestWrapper: function() {\r\n\t\t\tChart.animationService.startDigest.call(Chart.animationService);\r\n\t\t},\r\n\t\tstartDigest: function() {\r\n\r\n\t\t\tvar startTime = Date.now();\r\n\t\t\tvar framesToDrop = 0;\r\n\r\n\t\t\tif(this.dropFrames > 1){\r\n\t\t\t\tframesToDrop = Math.floor(this.dropFrames);\r\n\t\t\t\tthis.dropFrames -= framesToDrop;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < this.animations.length; i++) {\r\n\r\n\t\t\t\tif (this.animations[i].animationObject.currentStep === null){\r\n\t\t\t\t\tthis.animations[i].animationObject.currentStep = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.animations[i].animationObject.currentStep += 1 + framesToDrop;\r\n\t\t\t\tif(this.animations[i].animationObject.currentStep > this.animations[i].animationObject.numSteps){\r\n\t\t\t\t\tthis.animations[i].animationObject.currentStep = this.animations[i].animationObject.numSteps;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.animations[i].animationObject.render(this.animations[i].chartInstance, this.animations[i].animationObject);\r\n\t\t\t\t\r\n\t\t\t\t// Check if executed the last frame.\r\n\t\t\t\tif (this.animations[i].animationObject.currentStep == this.animations[i].animationObject.numSteps){\r\n\t\t\t\t\t// Call onAnimationComplete\r\n\t\t\t\t\tthis.animations[i].animationObject.onAnimationComplete.call(this.animations[i].chartInstance);\r\n\t\t\t\t\t// Remove the animation.\r\n\t\t\t\t\tthis.animations.splice(i, 1);\r\n\t\t\t\t\t// Keep the index in place to offset the splice\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar endTime = Date.now();\r\n\t\t\tvar delay = endTime - startTime - this.frameDuration;\r\n\t\t\tvar frameDelay = delay / this.frameDuration;\r\n\r\n\t\t\tif(frameDelay > 1){\r\n\t\t\t\tthis.dropFrames += frameDelay;\r\n\t\t\t}\r\n\r\n\t\t\t// Do we have more stuff to animate?\r\n\t\t\tif (this.animations.length > 0){\r\n\t\t\t\thelpers.requestAnimFrame.call(window, this.digestWrapper);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// Attach global event to resize each chart instance when the browser resizes\r\n\thelpers.addEvent(window, \"resize\", (function(){\r\n\t\t// Basic debounce of resize function so it doesn't hurt performance when resizing browser.\r\n\t\tvar timeout;\r\n\t\treturn function(){\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\ttimeout = setTimeout(function(){\r\n\t\t\t\teach(Chart.instances,function(instance){\r\n\t\t\t\t\t// If the responsive flag is set in the chart instance config\r\n\t\t\t\t\t// Cascade the resize event down to the chart.\r\n\t\t\t\t\tif (instance.options.responsive){\r\n\t\t\t\t\t\tinstance.resize(instance.render, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}, 50);\r\n\t\t};\r\n\t})());\r\n\r\n\r\n\tif (amd) {\r\n\t\tdefine(function(){\r\n\t\t\treturn Chart;\r\n\t\t});\r\n\t} else if (typeof module === 'object' && module.exports) {\r\n\t\tmodule.exports = Chart;\r\n\t}\r\n\r\n\troot.Chart = Chart;\r\n\r\n\tChart.noConflict = function(){\r\n\t\troot.Chart = previous;\r\n\t\treturn Chart;\r\n\t};\r\n\r\n}).call(this);\r\n\r\n(function(){\r\n\t\"use strict\";\r\n\r\n\tvar root = this,\r\n\t\tChart = root.Chart,\r\n\t\thelpers = Chart.helpers;\r\n\r\n\r\n\tvar defaultConfig = {\r\n\t\t//Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value\r\n\t\tscaleBeginAtZero : true,\r\n\r\n\t\t//Boolean - Whether grid lines are shown across the chart\r\n\t\tscaleShowGridLines : true,\r\n\r\n\t\t//String - Colour of the grid lines\r\n\t\tscaleGridLineColor : \"rgba(0,0,0,.05)\",\r\n\r\n\t\t//Number - Width of the grid lines\r\n\t\tscaleGridLineWidth : 1,\r\n\r\n\t\t//Boolean - Whether to show horizontal lines (except X axis)\r\n\t\tscaleShowHorizontalLines: true,\r\n\r\n\t\t//Boolean - Whether to show vertical lines (except Y axis)\r\n\t\tscaleShowVerticalLines: true,\r\n\r\n\t\t//Boolean - If there is a stroke on each bar\r\n\t\tbarShowStroke : true,\r\n\r\n\t\t//Number - Pixel width of the bar stroke\r\n\t\tbarStrokeWidth : 2,\r\n\r\n\t\t//Number - Spacing between each of the X value sets\r\n\t\tbarValueSpacing : 5,\r\n\r\n\t\t//Number - Spacing between data sets within X values\r\n\t\tbarDatasetSpacing : 1,\r\n\r\n\t\t//String - A legend template\r\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\\\"background-color:<%=datasets[i].fillColor%>\\\"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>\"\r\n\r\n\t};\r\n\r\n\r\n\tChart.Type.extend({\r\n\t\tname: \"Bar\",\r\n\t\tdefaults : defaultConfig,\r\n\t\tinitialize:  function(data){\r\n\r\n\t\t\t//Expose options as a scope variable here so we can access it in the ScaleClass\r\n\t\t\tvar options = this.options;\r\n\r\n\t\t\tthis.ScaleClass = Chart.Scale.extend({\r\n\t\t\t\toffsetGridLines : true,\r\n\t\t\t\tcalculateBarX : function(datasetCount, datasetIndex, barIndex){\r\n\t\t\t\t\t//Reusable method for calculating the xPosition of a given bar based on datasetIndex & width of the bar\r\n\t\t\t\t\tvar xWidth = this.calculateBaseWidth(),\r\n\t\t\t\t\t\txAbsolute = this.calculateX(barIndex) - (xWidth/2),\r\n\t\t\t\t\t\tbarWidth = this.calculateBarWidth(datasetCount);\r\n\r\n\t\t\t\t\treturn xAbsolute + (barWidth * datasetIndex) + (datasetIndex * options.barDatasetSpacing) + barWidth/2;\r\n\t\t\t\t},\r\n\t\t\t\tcalculateBaseWidth : function(){\r\n\t\t\t\t\treturn (this.calculateX(1) - this.calculateX(0)) - (2*options.barValueSpacing);\r\n\t\t\t\t},\r\n\t\t\t\tcalculateBarWidth : function(datasetCount){\r\n\t\t\t\t\t//The padding between datasets is to the right of each bar, providing that there are more than 1 dataset\r\n\t\t\t\t\tvar baseWidth = this.calculateBaseWidth() - ((datasetCount - 1) * options.barDatasetSpacing);\r\n\r\n\t\t\t\t\treturn (baseWidth / datasetCount);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.datasets = [];\r\n\r\n\t\t\t//Set up tooltip events on the chart\r\n\t\t\tif (this.options.showTooltips){\r\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\r\n\t\t\t\t\tvar activeBars = (evt.type !== 'mouseout') ? this.getBarsAtEvent(evt) : [];\r\n\r\n\t\t\t\t\tthis.eachBars(function(bar){\r\n\t\t\t\t\t\tbar.restore(['fillColor', 'strokeColor']);\r\n\t\t\t\t\t});\r\n\t\t\t\t\thelpers.each(activeBars, function(activeBar){\r\n\t\t\t\t\t\tactiveBar.fillColor = activeBar.highlightFill;\r\n\t\t\t\t\t\tactiveBar.strokeColor = activeBar.highlightStroke;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.showTooltip(activeBars);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t//Declare the extension of the default point, to cater for the options passed in to the constructor\r\n\t\t\tthis.BarClass = Chart.Rectangle.extend({\r\n\t\t\t\tstrokeWidth : this.options.barStrokeWidth,\r\n\t\t\t\tshowStroke : this.options.barShowStroke,\r\n\t\t\t\tctx : this.chart.ctx\r\n\t\t\t});\r\n\r\n\t\t\t//Iterate through each of the datasets, and build this into a property of the chart\r\n\t\t\thelpers.each(data.datasets,function(dataset,datasetIndex){\r\n\r\n\t\t\t\tvar datasetObject = {\r\n\t\t\t\t\tlabel : dataset.label || null,\r\n\t\t\t\t\tfillColor : dataset.fillColor,\r\n\t\t\t\t\tstrokeColor : dataset.strokeColor,\r\n\t\t\t\t\tbars : []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.datasets.push(datasetObject);\r\n\r\n\t\t\t\thelpers.each(dataset.data,function(dataPoint,index){\r\n\t\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\r\n\t\t\t\t\tdatasetObject.bars.push(new this.BarClass({\r\n\t\t\t\t\t\tvalue : dataPoint,\r\n\t\t\t\t\t\tlabel : data.labels[index],\r\n\t\t\t\t\t\tdatasetLabel: dataset.label,\r\n\t\t\t\t\t\tstrokeColor : dataset.strokeColor,\r\n\t\t\t\t\t\tfillColor : dataset.fillColor,\r\n\t\t\t\t\t\thighlightFill : dataset.highlightFill || dataset.fillColor,\r\n\t\t\t\t\t\thighlightStroke : dataset.highlightStroke || dataset.strokeColor\r\n\t\t\t\t\t}));\r\n\t\t\t\t},this);\r\n\r\n\t\t\t},this);\r\n\r\n\t\t\tthis.buildScale(data.labels);\r\n\r\n\t\t\tthis.BarClass.prototype.base = this.scale.endPoint;\r\n\r\n\t\t\tthis.eachBars(function(bar, index, datasetIndex){\r\n\t\t\t\thelpers.extend(bar, {\r\n\t\t\t\t\twidth : this.scale.calculateBarWidth(this.datasets.length),\r\n\t\t\t\t\tx: this.scale.calculateBarX(this.datasets.length, datasetIndex, index),\r\n\t\t\t\t\ty: this.scale.endPoint\r\n\t\t\t\t});\r\n\t\t\t\tbar.save();\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis.render();\r\n\t\t},\r\n\t\tupdate : function(){\r\n\t\t\tthis.scale.update();\r\n\t\t\t// Reset any highlight colours before updating.\r\n\t\t\thelpers.each(this.activeElements, function(activeElement){\r\n\t\t\t\tactiveElement.restore(['fillColor', 'strokeColor']);\r\n\t\t\t});\r\n\r\n\t\t\tthis.eachBars(function(bar){\r\n\t\t\t\tbar.save();\r\n\t\t\t});\r\n\t\t\tthis.render();\r\n\t\t},\r\n\t\teachBars : function(callback){\r\n\t\t\thelpers.each(this.datasets,function(dataset, datasetIndex){\r\n\t\t\t\thelpers.each(dataset.bars, callback, this, datasetIndex);\r\n\t\t\t},this);\r\n\t\t},\r\n\t\tgetBarsAtEvent : function(e){\r\n\t\t\tvar barsArray = [],\r\n\t\t\t\teventPosition = helpers.getRelativePosition(e),\r\n\t\t\t\tdatasetIterator = function(dataset){\r\n\t\t\t\t\tbarsArray.push(dataset.bars[barIndex]);\r\n\t\t\t\t},\r\n\t\t\t\tbarIndex;\r\n\r\n\t\t\tfor (var datasetIndex = 0; datasetIndex < this.datasets.length; datasetIndex++) {\r\n\t\t\t\tfor (barIndex = 0; barIndex < this.datasets[datasetIndex].bars.length; barIndex++) {\r\n\t\t\t\t\tif (this.datasets[datasetIndex].bars[barIndex].inRange(eventPosition.x,eventPosition.y)){\r\n\t\t\t\t\t\thelpers.each(this.datasets, datasetIterator);\r\n\t\t\t\t\t\treturn barsArray;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn barsArray;\r\n\t\t},\r\n\t\tbuildScale : function(labels){\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tvar dataTotal = function(){\r\n\t\t\t\tvar values = [];\r\n\t\t\t\tself.eachBars(function(bar){\r\n\t\t\t\t\tvalues.push(bar.value);\r\n\t\t\t\t});\r\n\t\t\t\treturn values;\r\n\t\t\t};\r\n\r\n\t\t\tvar scaleOptions = {\r\n\t\t\t\ttemplateString : this.options.scaleLabel,\r\n\t\t\t\theight : this.chart.height,\r\n\t\t\t\twidth : this.chart.width,\r\n\t\t\t\tctx : this.chart.ctx,\r\n\t\t\t\ttextColor : this.options.scaleFontColor,\r\n\t\t\t\tfontSize : this.options.scaleFontSize,\r\n\t\t\t\tfontStyle : this.options.scaleFontStyle,\r\n\t\t\t\tfontFamily : this.options.scaleFontFamily,\r\n\t\t\t\tvaluesCount : labels.length,\r\n\t\t\t\tbeginAtZero : this.options.scaleBeginAtZero,\r\n\t\t\t\tintegersOnly : this.options.scaleIntegersOnly,\r\n\t\t\t\tcalculateYRange: function(currentHeight){\r\n\t\t\t\t\tvar updatedRanges = helpers.calculateScaleRange(\r\n\t\t\t\t\t\tdataTotal(),\r\n\t\t\t\t\t\tcurrentHeight,\r\n\t\t\t\t\t\tthis.fontSize,\r\n\t\t\t\t\t\tthis.beginAtZero,\r\n\t\t\t\t\t\tthis.integersOnly\r\n\t\t\t\t\t);\r\n\t\t\t\t\thelpers.extend(this, updatedRanges);\r\n\t\t\t\t},\r\n\t\t\t\txLabels : labels,\r\n\t\t\t\tfont : helpers.fontString(this.options.scaleFontSize, this.options.scaleFontStyle, this.options.scaleFontFamily),\r\n\t\t\t\tlineWidth : this.options.scaleLineWidth,\r\n\t\t\t\tlineColor : this.options.scaleLineColor,\r\n\t\t\t\tshowHorizontalLines : this.options.scaleShowHorizontalLines,\r\n\t\t\t\tshowVerticalLines : this.options.scaleShowVerticalLines,\r\n\t\t\t\tgridLineWidth : (this.options.scaleShowGridLines) ? this.options.scaleGridLineWidth : 0,\r\n\t\t\t\tgridLineColor : (this.options.scaleShowGridLines) ? this.options.scaleGridLineColor : \"rgba(0,0,0,0)\",\r\n\t\t\t\tpadding : (this.options.showScale) ? 0 : (this.options.barShowStroke) ? this.options.barStrokeWidth : 0,\r\n\t\t\t\tshowLabels : this.options.scaleShowLabels,\r\n\t\t\t\tdisplay : this.options.showScale\r\n\t\t\t};\r\n\r\n\t\t\tif (this.options.scaleOverride){\r\n\t\t\t\thelpers.extend(scaleOptions, {\r\n\t\t\t\t\tcalculateYRange: helpers.noop,\r\n\t\t\t\t\tsteps: this.options.scaleSteps,\r\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\r\n\t\t\t\t\tmin: this.options.scaleStartValue,\r\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.scale = new this.ScaleClass(scaleOptions);\r\n\t\t},\r\n\t\taddData : function(valuesArray,label){\r\n\t\t\t//Map the values array for each of the datasets\r\n\t\t\thelpers.each(valuesArray,function(value,datasetIndex){\r\n\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\r\n\t\t\t\tthis.datasets[datasetIndex].bars.push(new this.BarClass({\r\n\t\t\t\t\tvalue : value,\r\n\t\t\t\t\tlabel : label,\r\n\t\t\t\t\tdatasetLabel: this.datasets[datasetIndex].label,\r\n\t\t\t\t\tx: this.scale.calculateBarX(this.datasets.length, datasetIndex, this.scale.valuesCount+1),\r\n\t\t\t\t\ty: this.scale.endPoint,\r\n\t\t\t\t\twidth : this.scale.calculateBarWidth(this.datasets.length),\r\n\t\t\t\t\tbase : this.scale.endPoint,\r\n\t\t\t\t\tstrokeColor : this.datasets[datasetIndex].strokeColor,\r\n\t\t\t\t\tfillColor : this.datasets[datasetIndex].fillColor\r\n\t\t\t\t}));\r\n\t\t\t},this);\r\n\r\n\t\t\tthis.scale.addXLabel(label);\r\n\t\t\t//Then re-render the chart.\r\n\t\t\tthis.update();\r\n\t\t},\r\n\t\tremoveData : function(){\r\n\t\t\tthis.scale.removeXLabel();\r\n\t\t\t//Then re-render the chart.\r\n\t\t\thelpers.each(this.datasets,function(dataset){\r\n\t\t\t\tdataset.bars.shift();\r\n\t\t\t},this);\r\n\t\t\tthis.update();\r\n\t\t},\r\n\t\treflow : function(){\r\n\t\t\thelpers.extend(this.BarClass.prototype,{\r\n\t\t\t\ty: this.scale.endPoint,\r\n\t\t\t\tbase : this.scale.endPoint\r\n\t\t\t});\r\n\t\t\tvar newScaleProps = helpers.extend({\r\n\t\t\t\theight : this.chart.height,\r\n\t\t\t\twidth : this.chart.width\r\n\t\t\t});\r\n\t\t\tthis.scale.update(newScaleProps);\r\n\t\t},\r\n\t\tdraw : function(ease){\r\n\t\t\tvar easingDecimal = ease || 1;\r\n\t\t\tthis.clear();\r\n\r\n\t\t\tvar ctx = this.chart.ctx;\r\n\r\n\t\t\tthis.scale.draw(easingDecimal);\r\n\r\n\t\t\t//Draw all the bars for each dataset\r\n\t\t\thelpers.each(this.datasets,function(dataset,datasetIndex){\r\n\t\t\t\thelpers.each(dataset.bars,function(bar,index){\r\n\t\t\t\t\tif (bar.hasValue()){\r\n\t\t\t\t\t\tbar.base = this.scale.endPoint;\r\n\t\t\t\t\t\t//Transition then draw\r\n\t\t\t\t\t\tbar.transition({\r\n\t\t\t\t\t\t\tx : this.scale.calculateBarX(this.datasets.length, datasetIndex, index),\r\n\t\t\t\t\t\t\ty : this.scale.calculateY(bar.value),\r\n\t\t\t\t\t\t\twidth : this.scale.calculateBarWidth(this.datasets.length)\r\n\t\t\t\t\t\t}, easingDecimal).draw();\r\n\t\t\t\t\t}\r\n\t\t\t\t},this);\r\n\r\n\t\t\t},this);\r\n\t\t}\r\n\t});\r\n\r\n\r\n}).call(this);\r\n\r\n(function(){\r\n\t\"use strict\";\r\n\r\n\tvar root = this,\r\n\t\tChart = root.Chart,\r\n\t\t//Cache a local reference to Chart.helpers\r\n\t\thelpers = Chart.helpers;\r\n\r\n\tvar defaultConfig = {\r\n\t\t//Boolean - Whether we should show a stroke on each segment\r\n\t\tsegmentShowStroke : true,\r\n\r\n\t\t//String - The colour of each segment stroke\r\n\t\tsegmentStrokeColor : \"#fff\",\r\n\r\n\t\t//Number - The width of each segment stroke\r\n\t\tsegmentStrokeWidth : 2,\r\n\r\n\t\t//The percentage of the chart that we cut out of the middle.\r\n\t\tpercentageInnerCutout : 50,\r\n\r\n\t\t//Number - Amount of animation steps\r\n\t\tanimationSteps : 100,\r\n\r\n\t\t//String - Animation easing effect\r\n\t\tanimationEasing : \"easeOutBounce\",\r\n\r\n\t\t//Boolean - Whether we animate the rotation of the Doughnut\r\n\t\tanimateRotate : true,\r\n\r\n\t\t//Boolean - Whether we animate scaling the Doughnut from the centre\r\n\t\tanimateScale : false,\r\n\r\n\t\t//String - A legend template\r\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<segments.length; i++){%><li><span style=\\\"background-color:<%=segments[i].fillColor%>\\\"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>\"\r\n\r\n\t};\r\n\r\n\tChart.Type.extend({\r\n\t\t//Passing in a name registers this chart in the Chart namespace\r\n\t\tname: \"Doughnut\",\r\n\t\t//Providing a defaults will also register the deafults in the chart namespace\r\n\t\tdefaults : defaultConfig,\r\n\t\t//Initialize is fired when the chart is initialized - Data is passed in as a parameter\r\n\t\t//Config is automatically merged by the core of Chart.js, and is available at this.options\r\n\t\tinitialize:  function(data){\r\n\r\n\t\t\t//Declare segments as a static property to prevent inheriting across the Chart type prototype\r\n\t\t\tthis.segments = [];\r\n\t\t\tthis.outerRadius = (helpers.min([this.chart.width,this.chart.height]) -\tthis.options.segmentStrokeWidth/2)/2;\r\n\r\n\t\t\tthis.SegmentArc = Chart.Arc.extend({\r\n\t\t\t\tctx : this.chart.ctx,\r\n\t\t\t\tx : this.chart.width/2,\r\n\t\t\t\ty : this.chart.height/2\r\n\t\t\t});\r\n\r\n\t\t\t//Set up tooltip events on the chart\r\n\t\t\tif (this.options.showTooltips){\r\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\r\n\t\t\t\t\tvar activeSegments = (evt.type !== 'mouseout') ? this.getSegmentsAtEvent(evt) : [];\r\n\r\n\t\t\t\t\thelpers.each(this.segments,function(segment){\r\n\t\t\t\t\t\tsegment.restore([\"fillColor\"]);\r\n\t\t\t\t\t});\r\n\t\t\t\t\thelpers.each(activeSegments,function(activeSegment){\r\n\t\t\t\t\t\tactiveSegment.fillColor = activeSegment.highlightColor;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.showTooltip(activeSegments);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.calculateTotal(data);\r\n\r\n\t\t\thelpers.each(data,function(datapoint, index){\r\n\t\t\t\tif (!datapoint.color) {\r\n\t\t\t\t\tdatapoint.color = 'hsl(' + (360 * index / data.length) + ', 100%, 50%)';\r\n\t\t\t\t}\r\n\t\t\t\tthis.addData(datapoint, index, true);\r\n\t\t\t},this);\r\n\r\n\t\t\tthis.render();\r\n\t\t},\r\n\t\tgetSegmentsAtEvent : function(e){\r\n\t\t\tvar segmentsArray = [];\r\n\r\n\t\t\tvar location = helpers.getRelativePosition(e);\r\n\r\n\t\t\thelpers.each(this.segments,function(segment){\r\n\t\t\t\tif (segment.inRange(location.x,location.y)) segmentsArray.push(segment);\r\n\t\t\t},this);\r\n\t\t\treturn segmentsArray;\r\n\t\t},\r\n\t\taddData : function(segment, atIndex, silent){\r\n\t\t\tvar index = atIndex !== undefined ? atIndex : this.segments.length;\r\n\t\t\tif ( typeof(segment.color) === \"undefined\" ) {\r\n\t\t\t\tsegment.color = Chart.defaults.global.segmentColorDefault[index % Chart.defaults.global.segmentColorDefault.length];\r\n\t\t\t\tsegment.highlight = Chart.defaults.global.segmentHighlightColorDefaults[index % Chart.defaults.global.segmentHighlightColorDefaults.length];\t\t\t\t\r\n\t\t\t}\r\n\t\t\tthis.segments.splice(index, 0, new this.SegmentArc({\r\n\t\t\t\tvalue : segment.value,\r\n\t\t\t\touterRadius : (this.options.animateScale) ? 0 : this.outerRadius,\r\n\t\t\t\tinnerRadius : (this.options.animateScale) ? 0 : (this.outerRadius/100) * this.options.percentageInnerCutout,\r\n\t\t\t\tfillColor : segment.color,\r\n\t\t\t\thighlightColor : segment.highlight || segment.color,\r\n\t\t\t\tshowStroke : this.options.segmentShowStroke,\r\n\t\t\t\tstrokeWidth : this.options.segmentStrokeWidth,\r\n\t\t\t\tstrokeColor : this.options.segmentStrokeColor,\r\n\t\t\t\tstartAngle : Math.PI * 1.5,\r\n\t\t\t\tcircumference : (this.options.animateRotate) ? 0 : this.calculateCircumference(segment.value),\r\n\t\t\t\tlabel : segment.label\r\n\t\t\t}));\r\n\t\t\tif (!silent){\r\n\t\t\t\tthis.reflow();\r\n\t\t\t\tthis.update();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcalculateCircumference : function(value) {\r\n\t\t\tif ( this.total > 0 ) {\r\n\t\t\t\treturn (Math.PI*2)*(value / this.total);\r\n\t\t\t} else {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcalculateTotal : function(data){\r\n\t\t\tthis.total = 0;\r\n\t\t\thelpers.each(data,function(segment){\r\n\t\t\t\tthis.total += Math.abs(segment.value);\r\n\t\t\t},this);\r\n\t\t},\r\n\t\tupdate : function(){\r\n\t\t\tthis.calculateTotal(this.segments);\r\n\r\n\t\t\t// Reset any highlight colours before updating.\r\n\t\t\thelpers.each(this.activeElements, function(activeElement){\r\n\t\t\t\tactiveElement.restore(['fillColor']);\r\n\t\t\t});\r\n\r\n\t\t\thelpers.each(this.segments,function(segment){\r\n\t\t\t\tsegment.save();\r\n\t\t\t});\r\n\t\t\tthis.render();\r\n\t\t},\r\n\r\n\t\tremoveData: function(atIndex){\r\n\t\t\tvar indexToDelete = (helpers.isNumber(atIndex)) ? atIndex : this.segments.length-1;\r\n\t\t\tthis.segments.splice(indexToDelete, 1);\r\n\t\t\tthis.reflow();\r\n\t\t\tthis.update();\r\n\t\t},\r\n\r\n\t\treflow : function(){\r\n\t\t\thelpers.extend(this.SegmentArc.prototype,{\r\n\t\t\t\tx : this.chart.width/2,\r\n\t\t\t\ty : this.chart.height/2\r\n\t\t\t});\r\n\t\t\tthis.outerRadius = (helpers.min([this.chart.width,this.chart.height]) -\tthis.options.segmentStrokeWidth/2)/2;\r\n\t\t\thelpers.each(this.segments, function(segment){\r\n\t\t\t\tsegment.update({\r\n\t\t\t\t\touterRadius : this.outerRadius,\r\n\t\t\t\t\tinnerRadius : (this.outerRadius/100) * this.options.percentageInnerCutout\r\n\t\t\t\t});\r\n\t\t\t}, this);\r\n\t\t},\r\n\t\tdraw : function(easeDecimal){\r\n\t\t\tvar animDecimal = (easeDecimal) ? easeDecimal : 1;\r\n\t\t\tthis.clear();\r\n\t\t\thelpers.each(this.segments,function(segment,index){\r\n\t\t\t\tsegment.transition({\r\n\t\t\t\t\tcircumference : this.calculateCircumference(segment.value),\r\n\t\t\t\t\touterRadius : this.outerRadius,\r\n\t\t\t\t\tinnerRadius : (this.outerRadius/100) * this.options.percentageInnerCutout\r\n\t\t\t\t},animDecimal);\r\n\r\n\t\t\t\tsegment.endAngle = segment.startAngle + segment.circumference;\r\n\r\n\t\t\t\tsegment.draw();\r\n\t\t\t\tif (index === 0){\r\n\t\t\t\t\tsegment.startAngle = Math.PI * 1.5;\r\n\t\t\t\t}\r\n\t\t\t\t//Check to see if it's the last segment, if not get the next and update the start angle\r\n\t\t\t\tif (index < this.segments.length-1){\r\n\t\t\t\t\tthis.segments[index+1].startAngle = segment.endAngle;\r\n\t\t\t\t}\r\n\t\t\t},this);\r\n\r\n\t\t}\r\n\t});\r\n\r\n\tChart.types.Doughnut.extend({\r\n\t\tname : \"Pie\",\r\n\t\tdefaults : helpers.merge(defaultConfig,{percentageInnerCutout : 0})\r\n\t});\r\n\r\n}).call(this);\r\n\r\n(function(){\r\n\t\"use strict\";\r\n\r\n\tvar root = this,\r\n\t\tChart = root.Chart,\r\n\t\thelpers = Chart.helpers;\r\n\r\n\tvar defaultConfig = {\r\n\r\n\t\t///Boolean - Whether grid lines are shown across the chart\r\n\t\tscaleShowGridLines : true,\r\n\r\n\t\t//String - Colour of the grid lines\r\n\t\tscaleGridLineColor : \"rgba(0,0,0,.05)\",\r\n\r\n\t\t//Number - Width of the grid lines\r\n\t\tscaleGridLineWidth : 1,\r\n\r\n\t\t//Boolean - Whether to show horizontal lines (except X axis)\r\n\t\tscaleShowHorizontalLines: true,\r\n\r\n\t\t//Boolean - Whether to show vertical lines (except Y axis)\r\n\t\tscaleShowVerticalLines: true,\r\n\r\n\t\t//Boolean - Whether the line is curved between points\r\n\t\tbezierCurve : true,\r\n\r\n\t\t//Number - Tension of the bezier curve between points\r\n\t\tbezierCurveTension : 0.4,\r\n\r\n\t\t//Boolean - Whether to show a dot for each point\r\n\t\tpointDot : true,\r\n\r\n\t\t//Number - Radius of each point dot in pixels\r\n\t\tpointDotRadius : 4,\r\n\r\n\t\t//Number - Pixel width of point dot stroke\r\n\t\tpointDotStrokeWidth : 1,\r\n\r\n\t\t//Number - amount extra to add to the radius to cater for hit detection outside the drawn point\r\n\t\tpointHitDetectionRadius : 20,\r\n\r\n\t\t//Boolean - Whether to show a stroke for datasets\r\n\t\tdatasetStroke : true,\r\n\r\n\t\t//Number - Pixel width of dataset stroke\r\n\t\tdatasetStrokeWidth : 2,\r\n\r\n\t\t//Boolean - Whether to fill the dataset with a colour\r\n\t\tdatasetFill : true,\r\n\r\n\t\t//String - A legend template\r\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\\\"background-color:<%=datasets[i].strokeColor%>\\\"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>\",\r\n\r\n\t\t//Boolean - Whether to horizontally center the label and point dot inside the grid\r\n\t\toffsetGridLines : false\r\n\r\n\t};\r\n\r\n\r\n\tChart.Type.extend({\r\n\t\tname: \"Line\",\r\n\t\tdefaults : defaultConfig,\r\n\t\tinitialize:  function(data){\r\n\t\t\t//Declare the extension of the default point, to cater for the options passed in to the constructor\r\n\t\t\tthis.PointClass = Chart.Point.extend({\r\n\t\t\t\toffsetGridLines : this.options.offsetGridLines,\r\n\t\t\t\tstrokeWidth : this.options.pointDotStrokeWidth,\r\n\t\t\t\tradius : this.options.pointDotRadius,\r\n\t\t\t\tdisplay: this.options.pointDot,\r\n\t\t\t\thitDetectionRadius : this.options.pointHitDetectionRadius,\r\n\t\t\t\tctx : this.chart.ctx,\r\n\t\t\t\tinRange : function(mouseX){\r\n\t\t\t\t\treturn (Math.pow(mouseX-this.x, 2) < Math.pow(this.radius + this.hitDetectionRadius,2));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.datasets = [];\r\n\r\n\t\t\t//Set up tooltip events on the chart\r\n\t\t\tif (this.options.showTooltips){\r\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\r\n\t\t\t\t\tvar activePoints = (evt.type !== 'mouseout') ? this.getPointsAtEvent(evt) : [];\r\n\t\t\t\t\tthis.eachPoints(function(point){\r\n\t\t\t\t\t\tpoint.restore(['fillColor', 'strokeColor']);\r\n\t\t\t\t\t});\r\n\t\t\t\t\thelpers.each(activePoints, function(activePoint){\r\n\t\t\t\t\t\tactivePoint.fillColor = activePoint.highlightFill;\r\n\t\t\t\t\t\tactivePoint.strokeColor = activePoint.highlightStroke;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.showTooltip(activePoints);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t//Iterate through each of the datasets, and build this into a property of the chart\r\n\t\t\thelpers.each(data.datasets,function(dataset){\r\n\r\n\t\t\t\tvar datasetObject = {\r\n\t\t\t\t\tlabel : dataset.label || null,\r\n\t\t\t\t\tfillColor : dataset.fillColor,\r\n\t\t\t\t\tstrokeColor : dataset.strokeColor,\r\n\t\t\t\t\tpointColor : dataset.pointColor,\r\n\t\t\t\t\tpointStrokeColor : dataset.pointStrokeColor,\r\n\t\t\t\t\tpoints : []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.datasets.push(datasetObject);\r\n\r\n\r\n\t\t\t\thelpers.each(dataset.data,function(dataPoint,index){\r\n\t\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\r\n\t\t\t\t\tdatasetObject.points.push(new this.PointClass({\r\n\t\t\t\t\t\tvalue : dataPoint,\r\n\t\t\t\t\t\tlabel : data.labels[index],\r\n\t\t\t\t\t\tdatasetLabel: dataset.label,\r\n\t\t\t\t\t\tstrokeColor : dataset.pointStrokeColor,\r\n\t\t\t\t\t\tfillColor : dataset.pointColor,\r\n\t\t\t\t\t\thighlightFill : dataset.pointHighlightFill || dataset.pointColor,\r\n\t\t\t\t\t\thighlightStroke : dataset.pointHighlightStroke || dataset.pointStrokeColor\r\n\t\t\t\t\t}));\r\n\t\t\t\t},this);\r\n\r\n\t\t\t\tthis.buildScale(data.labels);\r\n\r\n\r\n\t\t\t\tthis.eachPoints(function(point, index){\r\n\t\t\t\t\thelpers.extend(point, {\r\n\t\t\t\t\t\tx: this.scale.calculateX(index),\r\n\t\t\t\t\t\ty: this.scale.endPoint\r\n\t\t\t\t\t});\r\n\t\t\t\t\tpoint.save();\r\n\t\t\t\t}, this);\r\n\r\n\t\t\t},this);\r\n\r\n\r\n\t\t\tthis.render();\r\n\t\t},\r\n\t\tupdate : function(){\r\n\t\t\tthis.scale.update();\r\n\t\t\t// Reset any highlight colours before updating.\r\n\t\t\thelpers.each(this.activeElements, function(activeElement){\r\n\t\t\t\tactiveElement.restore(['fillColor', 'strokeColor']);\r\n\t\t\t});\r\n\t\t\tthis.eachPoints(function(point){\r\n\t\t\t\tpoint.save();\r\n\t\t\t});\r\n\t\t\tthis.render();\r\n\t\t},\r\n\t\teachPoints : function(callback){\r\n\t\t\thelpers.each(this.datasets,function(dataset){\r\n\t\t\t\thelpers.each(dataset.points,callback,this);\r\n\t\t\t},this);\r\n\t\t},\r\n\t\tgetPointsAtEvent : function(e){\r\n\t\t\tvar pointsArray = [],\r\n\t\t\t\teventPosition = helpers.getRelativePosition(e);\r\n\t\t\thelpers.each(this.datasets,function(dataset){\r\n\t\t\t\thelpers.each(dataset.points,function(point){\r\n\t\t\t\t\tif (point.inRange(eventPosition.x,eventPosition.y)) pointsArray.push(point);\r\n\t\t\t\t});\r\n\t\t\t},this);\r\n\t\t\treturn pointsArray;\r\n\t\t},\r\n\t\tbuildScale : function(labels){\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tvar dataTotal = function(){\r\n\t\t\t\tvar values = [];\r\n\t\t\t\tself.eachPoints(function(point){\r\n\t\t\t\t\tvalues.push(point.value);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn values;\r\n\t\t\t};\r\n\r\n\t\t\tvar scaleOptions = {\r\n\t\t\t\ttemplateString : this.options.scaleLabel,\r\n\t\t\t\theight : this.chart.height,\r\n\t\t\t\twidth : this.chart.width,\r\n\t\t\t\tctx : this.chart.ctx,\r\n\t\t\t\ttextColor : this.options.scaleFontColor,\r\n\t\t\t\toffsetGridLines : this.options.offsetGridLines,\r\n\t\t\t\tfontSize : this.options.scaleFontSize,\r\n\t\t\t\tfontStyle : this.options.scaleFontStyle,\r\n\t\t\t\tfontFamily : this.options.scaleFontFamily,\r\n\t\t\t\tvaluesCount : labels.length,\r\n\t\t\t\tbeginAtZero : this.options.scaleBeginAtZero,\r\n\t\t\t\tintegersOnly : this.options.scaleIntegersOnly,\r\n\t\t\t\tcalculateYRange : function(currentHeight){\r\n\t\t\t\t\tvar updatedRanges = helpers.calculateScaleRange(\r\n\t\t\t\t\t\tdataTotal(),\r\n\t\t\t\t\t\tcurrentHeight,\r\n\t\t\t\t\t\tthis.fontSize,\r\n\t\t\t\t\t\tthis.beginAtZero,\r\n\t\t\t\t\t\tthis.integersOnly\r\n\t\t\t\t\t);\r\n\t\t\t\t\thelpers.extend(this, updatedRanges);\r\n\t\t\t\t},\r\n\t\t\t\txLabels : labels,\r\n\t\t\t\tfont : helpers.fontString(this.options.scaleFontSize, this.options.scaleFontStyle, this.options.scaleFontFamily),\r\n\t\t\t\tlineWidth : this.options.scaleLineWidth,\r\n\t\t\t\tlineColor : this.options.scaleLineColor,\r\n\t\t\t\tshowHorizontalLines : this.options.scaleShowHorizontalLines,\r\n\t\t\t\tshowVerticalLines : this.options.scaleShowVerticalLines,\r\n\t\t\t\tgridLineWidth : (this.options.scaleShowGridLines) ? this.options.scaleGridLineWidth : 0,\r\n\t\t\t\tgridLineColor : (this.options.scaleShowGridLines) ? this.options.scaleGridLineColor : \"rgba(0,0,0,0)\",\r\n\t\t\t\tpadding: (this.options.showScale) ? 0 : this.options.pointDotRadius + this.options.pointDotStrokeWidth,\r\n\t\t\t\tshowLabels : this.options.scaleShowLabels,\r\n\t\t\t\tdisplay : this.options.showScale\r\n\t\t\t};\r\n\r\n\t\t\tif (this.options.scaleOverride){\r\n\t\t\t\thelpers.extend(scaleOptions, {\r\n\t\t\t\t\tcalculateYRange: helpers.noop,\r\n\t\t\t\t\tsteps: this.options.scaleSteps,\r\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\r\n\t\t\t\t\tmin: this.options.scaleStartValue,\r\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\r\n\t\t\tthis.scale = new Chart.Scale(scaleOptions);\r\n\t\t},\r\n\t\taddData : function(valuesArray,label){\r\n\t\t\t//Map the values array for each of the datasets\r\n\r\n\t\t\thelpers.each(valuesArray,function(value,datasetIndex){\r\n\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\r\n\t\t\t\tthis.datasets[datasetIndex].points.push(new this.PointClass({\r\n\t\t\t\t\tvalue : value,\r\n\t\t\t\t\tlabel : label,\r\n\t\t\t\t\tdatasetLabel: this.datasets[datasetIndex].label,\r\n\t\t\t\t\tx: this.scale.calculateX(this.scale.valuesCount+1),\r\n\t\t\t\t\ty: this.scale.endPoint,\r\n\t\t\t\t\tstrokeColor : this.datasets[datasetIndex].pointStrokeColor,\r\n\t\t\t\t\tfillColor : this.datasets[datasetIndex].pointColor\r\n\t\t\t\t}));\r\n\t\t\t},this);\r\n\r\n\t\t\tthis.scale.addXLabel(label);\r\n\t\t\t//Then re-render the chart.\r\n\t\t\tthis.update();\r\n\t\t},\r\n\t\tremoveData : function(){\r\n\t\t\tthis.scale.removeXLabel();\r\n\t\t\t//Then re-render the chart.\r\n\t\t\thelpers.each(this.datasets,function(dataset){\r\n\t\t\t\tdataset.points.shift();\r\n\t\t\t},this);\r\n\t\t\tthis.update();\r\n\t\t},\r\n\t\treflow : function(){\r\n\t\t\tvar newScaleProps = helpers.extend({\r\n\t\t\t\theight : this.chart.height,\r\n\t\t\t\twidth : this.chart.width\r\n\t\t\t});\r\n\t\t\tthis.scale.update(newScaleProps);\r\n\t\t},\r\n\t\tdraw : function(ease){\r\n\t\t\tvar easingDecimal = ease || 1;\r\n\t\t\tthis.clear();\r\n\r\n\t\t\tvar ctx = this.chart.ctx;\r\n\r\n\t\t\t// Some helper methods for getting the next/prev points\r\n\t\t\tvar hasValue = function(item){\r\n\t\t\t\treturn item.value !== null;\r\n\t\t\t},\r\n\t\t\tnextPoint = function(point, collection, index){\r\n\t\t\t\treturn helpers.findNextWhere(collection, hasValue, index) || point;\r\n\t\t\t},\r\n\t\t\tpreviousPoint = function(point, collection, index){\r\n\t\t\t\treturn helpers.findPreviousWhere(collection, hasValue, index) || point;\r\n\t\t\t};\r\n\r\n\t\t\tif (!this.scale) return;\r\n\t\t\tthis.scale.draw(easingDecimal);\r\n\r\n\r\n\t\t\thelpers.each(this.datasets,function(dataset){\r\n\t\t\t\tvar pointsWithValues = helpers.where(dataset.points, hasValue);\r\n\r\n\t\t\t\t//Transition each point first so that the line and point drawing isn't out of sync\r\n\t\t\t\t//We can use this extra loop to calculate the control points of this dataset also in this loop\r\n\r\n\t\t\t\thelpers.each(dataset.points, function(point, index){\r\n\t\t\t\t\tif (point.hasValue()){\r\n\t\t\t\t\t\tpoint.transition({\r\n\t\t\t\t\t\t\ty : this.scale.calculateY(point.value),\r\n\t\t\t\t\t\t\tx : this.scale.calculateX(index)\r\n\t\t\t\t\t\t}, easingDecimal);\r\n\t\t\t\t\t}\r\n\t\t\t\t},this);\r\n\r\n\r\n\t\t\t\t// Control points need to be calculated in a separate loop, because we need to know the current x/y of the point\r\n\t\t\t\t// This would cause issues when there is no animation, because the y of the next point would be 0, so beziers would be skewed\r\n\t\t\t\tif (this.options.bezierCurve){\r\n\t\t\t\t\thelpers.each(pointsWithValues, function(point, index){\r\n\t\t\t\t\t\tvar tension = (index > 0 && index < pointsWithValues.length - 1) ? this.options.bezierCurveTension : 0;\r\n\t\t\t\t\t\tpoint.controlPoints = helpers.splineCurve(\r\n\t\t\t\t\t\t\tpreviousPoint(point, pointsWithValues, index),\r\n\t\t\t\t\t\t\tpoint,\r\n\t\t\t\t\t\t\tnextPoint(point, pointsWithValues, index),\r\n\t\t\t\t\t\t\ttension\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t// Prevent the bezier going outside of the bounds of the graph\r\n\r\n\t\t\t\t\t\t// Cap puter bezier handles to the upper/lower scale bounds\r\n\t\t\t\t\t\tif (point.controlPoints.outer.y > this.scale.endPoint){\r\n\t\t\t\t\t\t\tpoint.controlPoints.outer.y = this.scale.endPoint;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (point.controlPoints.outer.y < this.scale.startPoint){\r\n\t\t\t\t\t\t\tpoint.controlPoints.outer.y = this.scale.startPoint;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Cap inner bezier handles to the upper/lower scale bounds\r\n\t\t\t\t\t\tif (point.controlPoints.inner.y > this.scale.endPoint){\r\n\t\t\t\t\t\t\tpoint.controlPoints.inner.y = this.scale.endPoint;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (point.controlPoints.inner.y < this.scale.startPoint){\r\n\t\t\t\t\t\t\tpoint.controlPoints.inner.y = this.scale.startPoint;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},this);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t//Draw the line between all the points\r\n\t\t\t\tctx.lineWidth = this.options.datasetStrokeWidth;\r\n\t\t\t\tctx.strokeStyle = dataset.strokeColor;\r\n\t\t\t\tctx.beginPath();\r\n\r\n\t\t\t\thelpers.each(pointsWithValues, function(point, index){\r\n\t\t\t\t\tif (index === 0){\r\n\t\t\t\t\t\tctx.moveTo(point.x, point.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif(this.options.bezierCurve){\r\n\t\t\t\t\t\t\tvar previous = previousPoint(point, pointsWithValues, index);\r\n\r\n\t\t\t\t\t\t\tctx.bezierCurveTo(\r\n\t\t\t\t\t\t\t\tprevious.controlPoints.outer.x,\r\n\t\t\t\t\t\t\t\tprevious.controlPoints.outer.y,\r\n\t\t\t\t\t\t\t\tpoint.controlPoints.inner.x,\r\n\t\t\t\t\t\t\t\tpoint.controlPoints.inner.y,\r\n\t\t\t\t\t\t\t\tpoint.x,\r\n\t\t\t\t\t\t\t\tpoint.y\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tctx.lineTo(point.x,point.y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\r\n\t\t\t\tif (this.options.datasetStroke) {\r\n\t\t\t\t\tctx.stroke();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.options.datasetFill && pointsWithValues.length > 0){\r\n\t\t\t\t\t//Round off the line by going to the base of the chart, back to the start, then fill.\r\n\t\t\t\t\tctx.lineTo(pointsWithValues[pointsWithValues.length - 1].x, this.scale.endPoint);\r\n\t\t\t\t\tctx.lineTo(pointsWithValues[0].x, this.scale.endPoint);\r\n\t\t\t\t\tctx.fillStyle = dataset.fillColor;\r\n\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\tctx.fill();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Now draw the points over the line\r\n\t\t\t\t//A little inefficient double looping, but better than the line\r\n\t\t\t\t//lagging behind the point positions\r\n\t\t\t\thelpers.each(pointsWithValues,function(point){\r\n\t\t\t\t\tpoint.draw();\r\n\t\t\t\t});\r\n\t\t\t},this);\r\n\t\t}\r\n\t});\r\n\r\n\r\n}).call(this);\r\n\r\n(function(){\r\n\t\"use strict\";\r\n\r\n\tvar root = this,\r\n\t\tChart = root.Chart,\r\n\t\t//Cache a local reference to Chart.helpers\r\n\t\thelpers = Chart.helpers;\r\n\r\n\tvar defaultConfig = {\r\n\t\t//Boolean - Show a backdrop to the scale label\r\n\t\tscaleShowLabelBackdrop : true,\r\n\r\n\t\t//String - The colour of the label backdrop\r\n\t\tscaleBackdropColor : \"rgba(255,255,255,0.75)\",\r\n\r\n\t\t// Boolean - Whether the scale should begin at zero\r\n\t\tscaleBeginAtZero : true,\r\n\r\n\t\t//Number - The backdrop padding above & below the label in pixels\r\n\t\tscaleBackdropPaddingY : 2,\r\n\r\n\t\t//Number - The backdrop padding to the side of the label in pixels\r\n\t\tscaleBackdropPaddingX : 2,\r\n\r\n\t\t//Boolean - Show line for each value in the scale\r\n\t\tscaleShowLine : true,\r\n\r\n\t\t//Boolean - Stroke a line around each segment in the chart\r\n\t\tsegmentShowStroke : true,\r\n\r\n\t\t//String - The colour of the stroke on each segment.\r\n\t\tsegmentStrokeColor : \"#fff\",\r\n\r\n\t\t//Number - The width of the stroke value in pixels\r\n\t\tsegmentStrokeWidth : 2,\r\n\r\n\t\t//Number - Amount of animation steps\r\n\t\tanimationSteps : 100,\r\n\r\n\t\t//String - Animation easing effect.\r\n\t\tanimationEasing : \"easeOutBounce\",\r\n\r\n\t\t//Boolean - Whether to animate the rotation of the chart\r\n\t\tanimateRotate : true,\r\n\r\n\t\t//Boolean - Whether to animate scaling the chart from the centre\r\n\t\tanimateScale : false,\r\n\r\n\t\t//String - A legend template\r\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<segments.length; i++){%><li><span style=\\\"background-color:<%=segments[i].fillColor%>\\\"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>\"\r\n\t};\r\n\r\n\r\n\tChart.Type.extend({\r\n\t\t//Passing in a name registers this chart in the Chart namespace\r\n\t\tname: \"PolarArea\",\r\n\t\t//Providing a defaults will also register the deafults in the chart namespace\r\n\t\tdefaults : defaultConfig,\r\n\t\t//Initialize is fired when the chart is initialized - Data is passed in as a parameter\r\n\t\t//Config is automatically merged by the core of Chart.js, and is available at this.options\r\n\t\tinitialize:  function(data){\r\n\t\t\tthis.segments = [];\r\n\t\t\t//Declare segment class as a chart instance specific class, so it can share props for this instance\r\n\t\t\tthis.SegmentArc = Chart.Arc.extend({\r\n\t\t\t\tshowStroke : this.options.segmentShowStroke,\r\n\t\t\t\tstrokeWidth : this.options.segmentStrokeWidth,\r\n\t\t\t\tstrokeColor : this.options.segmentStrokeColor,\r\n\t\t\t\tctx : this.chart.ctx,\r\n\t\t\t\tinnerRadius : 0,\r\n\t\t\t\tx : this.chart.width/2,\r\n\t\t\t\ty : this.chart.height/2\r\n\t\t\t});\r\n\t\t\tthis.scale = new Chart.RadialScale({\r\n\t\t\t\tdisplay: this.options.showScale,\r\n\t\t\t\tfontStyle: this.options.scaleFontStyle,\r\n\t\t\t\tfontSize: this.options.scaleFontSize,\r\n\t\t\t\tfontFamily: this.options.scaleFontFamily,\r\n\t\t\t\tfontColor: this.options.scaleFontColor,\r\n\t\t\t\tshowLabels: this.options.scaleShowLabels,\r\n\t\t\t\tshowLabelBackdrop: this.options.scaleShowLabelBackdrop,\r\n\t\t\t\tbackdropColor: this.options.scaleBackdropColor,\r\n\t\t\t\tbackdropPaddingY : this.options.scaleBackdropPaddingY,\r\n\t\t\t\tbackdropPaddingX: this.options.scaleBackdropPaddingX,\r\n\t\t\t\tlineWidth: (this.options.scaleShowLine) ? this.options.scaleLineWidth : 0,\r\n\t\t\t\tlineColor: this.options.scaleLineColor,\r\n\t\t\t\tlineArc: true,\r\n\t\t\t\twidth: this.chart.width,\r\n\t\t\t\theight: this.chart.height,\r\n\t\t\t\txCenter: this.chart.width/2,\r\n\t\t\t\tyCenter: this.chart.height/2,\r\n\t\t\t\tctx : this.chart.ctx,\r\n\t\t\t\ttemplateString: this.options.scaleLabel,\r\n\t\t\t\tvaluesCount: data.length\r\n\t\t\t});\r\n\r\n\t\t\tthis.updateScaleRange(data);\r\n\r\n\t\t\tthis.scale.update();\r\n\r\n\t\t\thelpers.each(data,function(segment,index){\r\n\t\t\t\tthis.addData(segment,index,true);\r\n\t\t\t},this);\r\n\r\n\t\t\t//Set up tooltip events on the chart\r\n\t\t\tif (this.options.showTooltips){\r\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\r\n\t\t\t\t\tvar activeSegments = (evt.type !== 'mouseout') ? this.getSegmentsAtEvent(evt) : [];\r\n\t\t\t\t\thelpers.each(this.segments,function(segment){\r\n\t\t\t\t\t\tsegment.restore([\"fillColor\"]);\r\n\t\t\t\t\t});\r\n\t\t\t\t\thelpers.each(activeSegments,function(activeSegment){\r\n\t\t\t\t\t\tactiveSegment.fillColor = activeSegment.highlightColor;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.showTooltip(activeSegments);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.render();\r\n\t\t},\r\n\t\tgetSegmentsAtEvent : function(e){\r\n\t\t\tvar segmentsArray = [];\r\n\r\n\t\t\tvar location = helpers.getRelativePosition(e);\r\n\r\n\t\t\thelpers.each(this.segments,function(segment){\r\n\t\t\t\tif (segment.inRange(location.x,location.y)) segmentsArray.push(segment);\r\n\t\t\t},this);\r\n\t\t\treturn segmentsArray;\r\n\t\t},\r\n\t\taddData : function(segment, atIndex, silent){\r\n\t\t\tvar index = atIndex || this.segments.length;\r\n\r\n\t\t\tthis.segments.splice(index, 0, new this.SegmentArc({\r\n\t\t\t\tfillColor: segment.color,\r\n\t\t\t\thighlightColor: segment.highlight || segment.color,\r\n\t\t\t\tlabel: segment.label,\r\n\t\t\t\tvalue: segment.value,\r\n\t\t\t\touterRadius: (this.options.animateScale) ? 0 : this.scale.calculateCenterOffset(segment.value),\r\n\t\t\t\tcircumference: (this.options.animateRotate) ? 0 : this.scale.getCircumference(),\r\n\t\t\t\tstartAngle: Math.PI * 1.5\r\n\t\t\t}));\r\n\t\t\tif (!silent){\r\n\t\t\t\tthis.reflow();\r\n\t\t\t\tthis.update();\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveData: function(atIndex){\r\n\t\t\tvar indexToDelete = (helpers.isNumber(atIndex)) ? atIndex : this.segments.length-1;\r\n\t\t\tthis.segments.splice(indexToDelete, 1);\r\n\t\t\tthis.reflow();\r\n\t\t\tthis.update();\r\n\t\t},\r\n\t\tcalculateTotal: function(data){\r\n\t\t\tthis.total = 0;\r\n\t\t\thelpers.each(data,function(segment){\r\n\t\t\t\tthis.total += segment.value;\r\n\t\t\t},this);\r\n\t\t\tthis.scale.valuesCount = this.segments.length;\r\n\t\t},\r\n\t\tupdateScaleRange: function(datapoints){\r\n\t\t\tvar valuesArray = [];\r\n\t\t\thelpers.each(datapoints,function(segment){\r\n\t\t\t\tvaluesArray.push(segment.value);\r\n\t\t\t});\r\n\r\n\t\t\tvar scaleSizes = (this.options.scaleOverride) ?\r\n\t\t\t\t{\r\n\t\t\t\t\tsteps: this.options.scaleSteps,\r\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\r\n\t\t\t\t\tmin: this.options.scaleStartValue,\r\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\r\n\t\t\t\t} :\r\n\t\t\t\thelpers.calculateScaleRange(\r\n\t\t\t\t\tvaluesArray,\r\n\t\t\t\t\thelpers.min([this.chart.width, this.chart.height])/2,\r\n\t\t\t\t\tthis.options.scaleFontSize,\r\n\t\t\t\t\tthis.options.scaleBeginAtZero,\r\n\t\t\t\t\tthis.options.scaleIntegersOnly\r\n\t\t\t\t);\r\n\r\n\t\t\thelpers.extend(\r\n\t\t\t\tthis.scale,\r\n\t\t\t\tscaleSizes,\r\n\t\t\t\t{\r\n\t\t\t\t\tsize: helpers.min([this.chart.width, this.chart.height]),\r\n\t\t\t\t\txCenter: this.chart.width/2,\r\n\t\t\t\t\tyCenter: this.chart.height/2\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t},\r\n\t\tupdate : function(){\r\n\t\t\tthis.calculateTotal(this.segments);\r\n\r\n\t\t\thelpers.each(this.segments,function(segment){\r\n\t\t\t\tsegment.save();\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.reflow();\r\n\t\t\tthis.render();\r\n\t\t},\r\n\t\treflow : function(){\r\n\t\t\thelpers.extend(this.SegmentArc.prototype,{\r\n\t\t\t\tx : this.chart.width/2,\r\n\t\t\t\ty : this.chart.height/2\r\n\t\t\t});\r\n\t\t\tthis.updateScaleRange(this.segments);\r\n\t\t\tthis.scale.update();\r\n\r\n\t\t\thelpers.extend(this.scale,{\r\n\t\t\t\txCenter: this.chart.width/2,\r\n\t\t\t\tyCenter: this.chart.height/2\r\n\t\t\t});\r\n\r\n\t\t\thelpers.each(this.segments, function(segment){\r\n\t\t\t\tsegment.update({\r\n\t\t\t\t\touterRadius : this.scale.calculateCenterOffset(segment.value)\r\n\t\t\t\t});\r\n\t\t\t}, this);\r\n\r\n\t\t},\r\n\t\tdraw : function(ease){\r\n\t\t\tvar easingDecimal = ease || 1;\r\n\t\t\t//Clear & draw the canvas\r\n\t\t\tthis.clear();\r\n\t\t\thelpers.each(this.segments,function(segment, index){\r\n\t\t\t\tsegment.transition({\r\n\t\t\t\t\tcircumference : this.scale.getCircumference(),\r\n\t\t\t\t\touterRadius : this.scale.calculateCenterOffset(segment.value)\r\n\t\t\t\t},easingDecimal);\r\n\r\n\t\t\t\tsegment.endAngle = segment.startAngle + segment.circumference;\r\n\r\n\t\t\t\t// If we've removed the first segment we need to set the first one to\r\n\t\t\t\t// start at the top.\r\n\t\t\t\tif (index === 0){\r\n\t\t\t\t\tsegment.startAngle = Math.PI * 1.5;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Check to see if it's the last segment, if not get the next and update the start angle\r\n\t\t\t\tif (index < this.segments.length - 1){\r\n\t\t\t\t\tthis.segments[index+1].startAngle = segment.endAngle;\r\n\t\t\t\t}\r\n\t\t\t\tsegment.draw();\r\n\t\t\t}, this);\r\n\t\t\tthis.scale.draw();\r\n\t\t}\r\n\t});\r\n\r\n}).call(this);\r\n\r\n(function(){\r\n\t\"use strict\";\r\n\r\n\tvar root = this,\r\n\t\tChart = root.Chart,\r\n\t\thelpers = Chart.helpers;\r\n\r\n\r\n\r\n\tChart.Type.extend({\r\n\t\tname: \"Radar\",\r\n\t\tdefaults:{\r\n\t\t\t//Boolean - Whether to show lines for each scale point\r\n\t\t\tscaleShowLine : true,\r\n\r\n\t\t\t//Boolean - Whether we show the angle lines out of the radar\r\n\t\t\tangleShowLineOut : true,\r\n\r\n\t\t\t//Boolean - Whether to show labels on the scale\r\n\t\t\tscaleShowLabels : false,\r\n\r\n\t\t\t// Boolean - Whether the scale should begin at zero\r\n\t\t\tscaleBeginAtZero : true,\r\n\r\n\t\t\t//String - Colour of the angle line\r\n\t\t\tangleLineColor : \"rgba(0,0,0,.1)\",\r\n\r\n\t\t\t//Number - Pixel width of the angle line\r\n\t\t\tangleLineWidth : 1,\r\n\r\n\t\t\t//String - Point label font declaration\r\n\t\t\tpointLabelFontFamily : \"'Arial'\",\r\n\r\n\t\t\t//String - Point label font weight\r\n\t\t\tpointLabelFontStyle : \"normal\",\r\n\r\n\t\t\t//Number - Point label font size in pixels\r\n\t\t\tpointLabelFontSize : 10,\r\n\r\n\t\t\t//String - Point label font colour\r\n\t\t\tpointLabelFontColor : \"#666\",\r\n\r\n\t\t\t//Boolean - Whether to show a dot for each point\r\n\t\t\tpointDot : true,\r\n\r\n\t\t\t//Number - Radius of each point dot in pixels\r\n\t\t\tpointDotRadius : 3,\r\n\r\n\t\t\t//Number - Pixel width of point dot stroke\r\n\t\t\tpointDotStrokeWidth : 1,\r\n\r\n\t\t\t//Number - amount extra to add to the radius to cater for hit detection outside the drawn point\r\n\t\t\tpointHitDetectionRadius : 20,\r\n\r\n\t\t\t//Boolean - Whether to show a stroke for datasets\r\n\t\t\tdatasetStroke : true,\r\n\r\n\t\t\t//Number - Pixel width of dataset stroke\r\n\t\t\tdatasetStrokeWidth : 2,\r\n\r\n\t\t\t//Boolean - Whether to fill the dataset with a colour\r\n\t\t\tdatasetFill : true,\r\n\r\n\t\t\t//String - A legend template\r\n\t\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\\\"background-color:<%=datasets[i].strokeColor%>\\\"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>\"\r\n\r\n\t\t},\r\n\r\n\t\tinitialize: function(data){\r\n\t\t\tthis.PointClass = Chart.Point.extend({\r\n\t\t\t\tstrokeWidth : this.options.pointDotStrokeWidth,\r\n\t\t\t\tradius : this.options.pointDotRadius,\r\n\t\t\t\tdisplay: this.options.pointDot,\r\n\t\t\t\thitDetectionRadius : this.options.pointHitDetectionRadius,\r\n\t\t\t\tctx : this.chart.ctx\r\n\t\t\t});\r\n\r\n\t\t\tthis.datasets = [];\r\n\r\n\t\t\tthis.buildScale(data);\r\n\r\n\t\t\t//Set up tooltip events on the chart\r\n\t\t\tif (this.options.showTooltips){\r\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\r\n\t\t\t\t\tvar activePointsCollection = (evt.type !== 'mouseout') ? this.getPointsAtEvent(evt) : [];\r\n\r\n\t\t\t\t\tthis.eachPoints(function(point){\r\n\t\t\t\t\t\tpoint.restore(['fillColor', 'strokeColor']);\r\n\t\t\t\t\t});\r\n\t\t\t\t\thelpers.each(activePointsCollection, function(activePoint){\r\n\t\t\t\t\t\tactivePoint.fillColor = activePoint.highlightFill;\r\n\t\t\t\t\t\tactivePoint.strokeColor = activePoint.highlightStroke;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.showTooltip(activePointsCollection);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t//Iterate through each of the datasets, and build this into a property of the chart\r\n\t\t\thelpers.each(data.datasets,function(dataset){\r\n\r\n\t\t\t\tvar datasetObject = {\r\n\t\t\t\t\tlabel: dataset.label || null,\r\n\t\t\t\t\tfillColor : dataset.fillColor,\r\n\t\t\t\t\tstrokeColor : dataset.strokeColor,\r\n\t\t\t\t\tpointColor : dataset.pointColor,\r\n\t\t\t\t\tpointStrokeColor : dataset.pointStrokeColor,\r\n\t\t\t\t\tpoints : []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.datasets.push(datasetObject);\r\n\r\n\t\t\t\thelpers.each(dataset.data,function(dataPoint,index){\r\n\t\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\r\n\t\t\t\t\tvar pointPosition;\r\n\t\t\t\t\tif (!this.scale.animation){\r\n\t\t\t\t\t\tpointPosition = this.scale.getPointPosition(index, this.scale.calculateCenterOffset(dataPoint));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdatasetObject.points.push(new this.PointClass({\r\n\t\t\t\t\t\tvalue : dataPoint,\r\n\t\t\t\t\t\tlabel : data.labels[index],\r\n\t\t\t\t\t\tdatasetLabel: dataset.label,\r\n\t\t\t\t\t\tx: (this.options.animation) ? this.scale.xCenter : pointPosition.x,\r\n\t\t\t\t\t\ty: (this.options.animation) ? this.scale.yCenter : pointPosition.y,\r\n\t\t\t\t\t\tstrokeColor : dataset.pointStrokeColor,\r\n\t\t\t\t\t\tfillColor : dataset.pointColor,\r\n\t\t\t\t\t\thighlightFill : dataset.pointHighlightFill || dataset.pointColor,\r\n\t\t\t\t\t\thighlightStroke : dataset.pointHighlightStroke || dataset.pointStrokeColor\r\n\t\t\t\t\t}));\r\n\t\t\t\t},this);\r\n\r\n\t\t\t},this);\r\n\r\n\t\t\tthis.render();\r\n\t\t},\r\n\t\teachPoints : function(callback){\r\n\t\t\thelpers.each(this.datasets,function(dataset){\r\n\t\t\t\thelpers.each(dataset.points,callback,this);\r\n\t\t\t},this);\r\n\t\t},\r\n\r\n\t\tgetPointsAtEvent : function(evt){\r\n\t\t\tvar mousePosition = helpers.getRelativePosition(evt),\r\n\t\t\t\tfromCenter = helpers.getAngleFromPoint({\r\n\t\t\t\t\tx: this.scale.xCenter,\r\n\t\t\t\t\ty: this.scale.yCenter\r\n\t\t\t\t}, mousePosition);\r\n\r\n\t\t\tvar anglePerIndex = (Math.PI * 2) /this.scale.valuesCount,\r\n\t\t\t\tpointIndex = Math.round((fromCenter.angle - Math.PI * 1.5) / anglePerIndex),\r\n\t\t\t\tactivePointsCollection = [];\r\n\r\n\t\t\t// If we're at the top, make the pointIndex 0 to get the first of the array.\r\n\t\t\tif (pointIndex >= this.scale.valuesCount || pointIndex < 0){\r\n\t\t\t\tpointIndex = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (fromCenter.distance <= this.scale.drawingArea){\r\n\t\t\t\thelpers.each(this.datasets, function(dataset){\r\n\t\t\t\t\tactivePointsCollection.push(dataset.points[pointIndex]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn activePointsCollection;\r\n\t\t},\r\n\r\n\t\tbuildScale : function(data){\r\n\t\t\tthis.scale = new Chart.RadialScale({\r\n\t\t\t\tdisplay: this.options.showScale,\r\n\t\t\t\tfontStyle: this.options.scaleFontStyle,\r\n\t\t\t\tfontSize: this.options.scaleFontSize,\r\n\t\t\t\tfontFamily: this.options.scaleFontFamily,\r\n\t\t\t\tfontColor: this.options.scaleFontColor,\r\n\t\t\t\tshowLabels: this.options.scaleShowLabels,\r\n\t\t\t\tshowLabelBackdrop: this.options.scaleShowLabelBackdrop,\r\n\t\t\t\tbackdropColor: this.options.scaleBackdropColor,\r\n\t\t\t\tbackgroundColors: this.options.scaleBackgroundColors,\r\n\t\t\t\tbackdropPaddingY : this.options.scaleBackdropPaddingY,\r\n\t\t\t\tbackdropPaddingX: this.options.scaleBackdropPaddingX,\r\n\t\t\t\tlineWidth: (this.options.scaleShowLine) ? this.options.scaleLineWidth : 0,\r\n\t\t\t\tlineColor: this.options.scaleLineColor,\r\n\t\t\t\tangleLineColor : this.options.angleLineColor,\r\n\t\t\t\tangleLineWidth : (this.options.angleShowLineOut) ? this.options.angleLineWidth : 0,\r\n\t\t\t\t// Point labels at the edge of each line\r\n\t\t\t\tpointLabelFontColor : this.options.pointLabelFontColor,\r\n\t\t\t\tpointLabelFontSize : this.options.pointLabelFontSize,\r\n\t\t\t\tpointLabelFontFamily : this.options.pointLabelFontFamily,\r\n\t\t\t\tpointLabelFontStyle : this.options.pointLabelFontStyle,\r\n\t\t\t\theight : this.chart.height,\r\n\t\t\t\twidth: this.chart.width,\r\n\t\t\t\txCenter: this.chart.width/2,\r\n\t\t\t\tyCenter: this.chart.height/2,\r\n\t\t\t\tctx : this.chart.ctx,\r\n\t\t\t\ttemplateString: this.options.scaleLabel,\r\n\t\t\t\tlabels: data.labels,\r\n\t\t\t\tvaluesCount: data.datasets[0].data.length\r\n\t\t\t});\r\n\r\n\t\t\tthis.scale.setScaleSize();\r\n\t\t\tthis.updateScaleRange(data.datasets);\r\n\t\t\tthis.scale.buildYLabels();\r\n\t\t},\r\n\t\tupdateScaleRange: function(datasets){\r\n\t\t\tvar valuesArray = (function(){\r\n\t\t\t\tvar totalDataArray = [];\r\n\t\t\t\thelpers.each(datasets,function(dataset){\r\n\t\t\t\t\tif (dataset.data){\r\n\t\t\t\t\t\ttotalDataArray = totalDataArray.concat(dataset.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\thelpers.each(dataset.points, function(point){\r\n\t\t\t\t\t\t\ttotalDataArray.push(point.value);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn totalDataArray;\r\n\t\t\t})();\r\n\r\n\r\n\t\t\tvar scaleSizes = (this.options.scaleOverride) ?\r\n\t\t\t\t{\r\n\t\t\t\t\tsteps: this.options.scaleSteps,\r\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\r\n\t\t\t\t\tmin: this.options.scaleStartValue,\r\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\r\n\t\t\t\t} :\r\n\t\t\t\thelpers.calculateScaleRange(\r\n\t\t\t\t\tvaluesArray,\r\n\t\t\t\t\thelpers.min([this.chart.width, this.chart.height])/2,\r\n\t\t\t\t\tthis.options.scaleFontSize,\r\n\t\t\t\t\tthis.options.scaleBeginAtZero,\r\n\t\t\t\t\tthis.options.scaleIntegersOnly\r\n\t\t\t\t);\r\n\r\n\t\t\thelpers.extend(\r\n\t\t\t\tthis.scale,\r\n\t\t\t\tscaleSizes\r\n\t\t\t);\r\n\r\n\t\t},\r\n\t\taddData : function(valuesArray,label){\r\n\t\t\t//Map the values array for each of the datasets\r\n\t\t\tthis.scale.valuesCount++;\r\n\t\t\thelpers.each(valuesArray,function(value,datasetIndex){\r\n\t\t\t\tvar pointPosition = this.scale.getPointPosition(this.scale.valuesCount, this.scale.calculateCenterOffset(value));\r\n\t\t\t\tthis.datasets[datasetIndex].points.push(new this.PointClass({\r\n\t\t\t\t\tvalue : value,\r\n\t\t\t\t\tlabel : label,\r\n\t\t\t\t\tdatasetLabel: this.datasets[datasetIndex].label,\r\n\t\t\t\t\tx: pointPosition.x,\r\n\t\t\t\t\ty: pointPosition.y,\r\n\t\t\t\t\tstrokeColor : this.datasets[datasetIndex].pointStrokeColor,\r\n\t\t\t\t\tfillColor : this.datasets[datasetIndex].pointColor\r\n\t\t\t\t}));\r\n\t\t\t},this);\r\n\r\n\t\t\tthis.scale.labels.push(label);\r\n\r\n\t\t\tthis.reflow();\r\n\r\n\t\t\tthis.update();\r\n\t\t},\r\n\t\tremoveData : function(){\r\n\t\t\tthis.scale.valuesCount--;\r\n\t\t\tthis.scale.labels.shift();\r\n\t\t\thelpers.each(this.datasets,function(dataset){\r\n\t\t\t\tdataset.points.shift();\r\n\t\t\t},this);\r\n\t\t\tthis.reflow();\r\n\t\t\tthis.update();\r\n\t\t},\r\n\t\tupdate : function(){\r\n\t\t\tthis.eachPoints(function(point){\r\n\t\t\t\tpoint.save();\r\n\t\t\t});\r\n\t\t\tthis.reflow();\r\n\t\t\tthis.render();\r\n\t\t},\r\n\t\treflow: function(){\r\n\t\t\thelpers.extend(this.scale, {\r\n\t\t\t\twidth : this.chart.width,\r\n\t\t\t\theight: this.chart.height,\r\n\t\t\t\tsize : helpers.min([this.chart.width, this.chart.height]),\r\n\t\t\t\txCenter: this.chart.width/2,\r\n\t\t\t\tyCenter: this.chart.height/2\r\n\t\t\t});\r\n\t\t\tthis.updateScaleRange(this.datasets);\r\n\t\t\tthis.scale.setScaleSize();\r\n\t\t\tthis.scale.buildYLabels();\r\n\t\t},\r\n\t\tdraw : function(ease){\r\n\t\t\tvar easeDecimal = ease || 1,\r\n\t\t\t\tctx = this.chart.ctx;\r\n\t\t\tthis.clear();\r\n\t\t\tthis.scale.draw();\r\n\r\n\t\t\thelpers.each(this.datasets,function(dataset){\r\n\r\n\t\t\t\t//Transition each point first so that the line and point drawing isn't out of sync\r\n\t\t\t\thelpers.each(dataset.points,function(point,index){\r\n\t\t\t\t\tif (point.hasValue()){\r\n\t\t\t\t\t\tpoint.transition(this.scale.getPointPosition(index, this.scale.calculateCenterOffset(point.value)), easeDecimal);\r\n\t\t\t\t\t}\r\n\t\t\t\t},this);\r\n\r\n\r\n\r\n\t\t\t\t//Draw the line between all the points\r\n\t\t\t\tctx.lineWidth = this.options.datasetStrokeWidth;\r\n\t\t\t\tctx.strokeStyle = dataset.strokeColor;\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\thelpers.each(dataset.points,function(point,index){\r\n\t\t\t\t\tif (index === 0){\r\n\t\t\t\t\t\tctx.moveTo(point.x,point.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tctx.lineTo(point.x,point.y);\r\n\t\t\t\t\t}\r\n\t\t\t\t},this);\r\n\t\t\t\tctx.closePath();\r\n\t\t\t\tctx.stroke();\r\n\r\n\t\t\t\tctx.fillStyle = dataset.fillColor;\r\n\t\t\t\tif(this.options.datasetFill){\r\n\t\t\t\t\tctx.fill();\r\n\t\t\t\t}\r\n\t\t\t\t//Now draw the points over the line\r\n\t\t\t\t//A little inefficient double looping, but better than the line\r\n\t\t\t\t//lagging behind the point positions\r\n\t\t\t\thelpers.each(dataset.points,function(point){\r\n\t\t\t\t\tif (point.hasValue()){\r\n\t\t\t\t\t\tpoint.draw();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t},this);\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\r\n\r\n\r\n}).call(this);\r\n//WOW SCRIPT - REVEAL ANIMATIONS WHEN SCROLLING\r\n\r\n(function() {\r\n  var MutationObserver, Util, WeakMap, getComputedStyle, getComputedStyleRX,\r\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\r\n    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\r\n\r\n  Util = (function() {\r\n    function Util() {}\r\n\r\n    Util.prototype.extend = function(custom, defaults) {\r\n      var key, value;\r\n      for (key in defaults) {\r\n        value = defaults[key];\r\n        if (custom[key] == null) {\r\n          custom[key] = value;\r\n        }\r\n      }\r\n      return custom;\r\n    };\r\n\r\n    Util.prototype.isMobile = function(agent) {\r\n      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(agent);\r\n    };\r\n\r\n    Util.prototype.createEvent = function(event, bubble, cancel, detail) {\r\n      var customEvent;\r\n      if (bubble == null) {\r\n        bubble = false;\r\n      }\r\n      if (cancel == null) {\r\n        cancel = false;\r\n      }\r\n      if (detail == null) {\r\n        detail = null;\r\n      }\r\n      if (document.createEvent != null) {\r\n        customEvent = document.createEvent('CustomEvent');\r\n        customEvent.initCustomEvent(event, bubble, cancel, detail);\r\n      } else if (document.createEventObject != null) {\r\n        customEvent = document.createEventObject();\r\n        customEvent.eventType = event;\r\n      } else {\r\n        customEvent.eventName = event;\r\n      }\r\n      return customEvent;\r\n    };\r\n\r\n    Util.prototype.emitEvent = function(elem, event) {\r\n      if (elem.dispatchEvent != null) {\r\n        return elem.dispatchEvent(event);\r\n      } else if (event in (elem != null)) {\r\n        return elem[event]();\r\n      } else if ((\"on\" + event) in (elem != null)) {\r\n        return elem[\"on\" + event]();\r\n      }\r\n    };\r\n\r\n    Util.prototype.addEvent = function(elem, event, fn) {\r\n      if (elem.addEventListener != null) {\r\n        return elem.addEventListener(event, fn, false);\r\n      } else if (elem.attachEvent != null) {\r\n        return elem.attachEvent(\"on\" + event, fn);\r\n      } else {\r\n        return elem[event] = fn;\r\n      }\r\n    };\r\n\r\n    Util.prototype.removeEvent = function(elem, event, fn) {\r\n      if (elem.removeEventListener != null) {\r\n        return elem.removeEventListener(event, fn, false);\r\n      } else if (elem.detachEvent != null) {\r\n        return elem.detachEvent(\"on\" + event, fn);\r\n      } else {\r\n        return delete elem[event];\r\n      }\r\n    };\r\n\r\n    Util.prototype.innerHeight = function() {\r\n      if ('innerHeight' in window) {\r\n        return window.innerHeight;\r\n      } else {\r\n        return document.documentElement.clientHeight;\r\n      }\r\n    };\r\n\r\n    return Util;\r\n\r\n  })();\r\n\r\n  WeakMap = this.WeakMap || this.MozWeakMap || (WeakMap = (function() {\r\n    function WeakMap() {\r\n      this.keys = [];\r\n      this.values = [];\r\n    }\r\n\r\n    WeakMap.prototype.get = function(key) {\r\n      var i, item, j, len, ref;\r\n      ref = this.keys;\r\n      for (i = j = 0, len = ref.length; j < len; i = ++j) {\r\n        item = ref[i];\r\n        if (item === key) {\r\n          return this.values[i];\r\n        }\r\n      }\r\n    };\r\n\r\n    WeakMap.prototype.set = function(key, value) {\r\n      var i, item, j, len, ref;\r\n      ref = this.keys;\r\n      for (i = j = 0, len = ref.length; j < len; i = ++j) {\r\n        item = ref[i];\r\n        if (item === key) {\r\n          this.values[i] = value;\r\n          return;\r\n        }\r\n      }\r\n      this.keys.push(key);\r\n      return this.values.push(value);\r\n    };\r\n\r\n    return WeakMap;\r\n\r\n  })());\r\n\r\n  MutationObserver = this.MutationObserver || this.WebkitMutationObserver || this.MozMutationObserver || (MutationObserver = (function() {\r\n    function MutationObserver() {\r\n      if (typeof console !== \"undefined\" && console !== null) {\r\n        console.warn('MutationObserver is not supported by your browser.');\r\n      }\r\n      if (typeof console !== \"undefined\" && console !== null) {\r\n        console.warn('WOW.js cannot detect dom mutations, please call .sync() after loading new content.');\r\n      }\r\n    }\r\n\r\n    MutationObserver.notSupported = true;\r\n\r\n    MutationObserver.prototype.observe = function() {};\r\n\r\n    return MutationObserver;\r\n\r\n  })());\r\n\r\n  getComputedStyle = this.getComputedStyle || function(el, pseudo) {\r\n    this.getPropertyValue = function(prop) {\r\n      var ref;\r\n      if (prop === 'float') {\r\n        prop = 'styleFloat';\r\n      }\r\n      if (getComputedStyleRX.test(prop)) {\r\n        prop.replace(getComputedStyleRX, function(_, _char) {\r\n          return _char.toUpperCase();\r\n        });\r\n      }\r\n      return ((ref = el.currentStyle) != null ? ref[prop] : void 0) || null;\r\n    };\r\n    return this;\r\n  };\r\n\r\n  getComputedStyleRX = /(\\-([a-z]){1})/g;\r\n\r\n  this.WOW = (function() {\r\n    WOW.prototype.defaults = {\r\n      boxClass: 'wow',\r\n      animateClass: 'animated',\r\n      offset: 0,\r\n      mobile: true,\r\n      live: true,\r\n      callback: null,\r\n      scrollContainer: null\r\n    };\r\n\r\n    function WOW(options) {\r\n      if (options == null) {\r\n        options = {};\r\n      }\r\n      this.scrollCallback = bind(this.scrollCallback, this);\r\n      this.scrollHandler = bind(this.scrollHandler, this);\r\n      this.resetAnimation = bind(this.resetAnimation, this);\r\n      this.start = bind(this.start, this);\r\n      this.scrolled = true;\r\n      this.config = this.util().extend(options, this.defaults);\r\n      if (options.scrollContainer != null) {\r\n        this.config.scrollContainer = document.querySelector(options.scrollContainer);\r\n      }\r\n      this.animationNameCache = new WeakMap();\r\n      this.wowEvent = this.util().createEvent(this.config.boxClass);\r\n    }\r\n\r\n    WOW.prototype.init = function() {\r\n      var ref;\r\n      this.element = window.document.documentElement;\r\n      if ((ref = document.readyState) === \"interactive\" || ref === \"complete\") {\r\n        this.start();\r\n      } else {\r\n        this.util().addEvent(document, 'DOMContentLoaded', this.start);\r\n      }\r\n      return this.finished = [];\r\n    };\r\n\r\n    WOW.prototype.start = function() {\r\n      var box, j, len, ref;\r\n      this.stopped = false;\r\n      this.boxes = (function() {\r\n        var j, len, ref, results;\r\n        ref = this.element.querySelectorAll(\".\" + this.config.boxClass);\r\n        results = [];\r\n        for (j = 0, len = ref.length; j < len; j++) {\r\n          box = ref[j];\r\n          results.push(box);\r\n        }\r\n        return results;\r\n      }).call(this);\r\n      this.all = (function() {\r\n        var j, len, ref, results;\r\n        ref = this.boxes;\r\n        results = [];\r\n        for (j = 0, len = ref.length; j < len; j++) {\r\n          box = ref[j];\r\n          results.push(box);\r\n        }\r\n        return results;\r\n      }).call(this);\r\n      if (this.boxes.length) {\r\n        if (this.disabled()) {\r\n          this.resetStyle();\r\n        } else {\r\n          ref = this.boxes;\r\n          for (j = 0, len = ref.length; j < len; j++) {\r\n            box = ref[j];\r\n            this.applyStyle(box, true);\r\n          }\r\n        }\r\n      }\r\n      if (!this.disabled()) {\r\n        this.util().addEvent(this.config.scrollContainer || window, 'scroll', this.scrollHandler);\r\n        this.util().addEvent(window, 'resize', this.scrollHandler);\r\n        this.interval = setInterval(this.scrollCallback, 50);\r\n      }\r\n      if (this.config.live) {\r\n        return new MutationObserver((function(_this) {\r\n          return function(records) {\r\n            var k, len1, node, record, results;\r\n            results = [];\r\n            for (k = 0, len1 = records.length; k < len1; k++) {\r\n              record = records[k];\r\n              results.push((function() {\r\n                var l, len2, ref1, results1;\r\n                ref1 = record.addedNodes || [];\r\n                results1 = [];\r\n                for (l = 0, len2 = ref1.length; l < len2; l++) {\r\n                  node = ref1[l];\r\n                  results1.push(this.doSync(node));\r\n                }\r\n                return results1;\r\n              }).call(_this));\r\n            }\r\n            return results;\r\n          };\r\n        })(this)).observe(document.body, {\r\n          childList: true,\r\n          subtree: true\r\n        });\r\n      }\r\n    };\r\n\r\n    WOW.prototype.stop = function() {\r\n      this.stopped = true;\r\n      this.util().removeEvent(this.config.scrollContainer || window, 'scroll', this.scrollHandler);\r\n      this.util().removeEvent(window, 'resize', this.scrollHandler);\r\n      if (this.interval != null) {\r\n        return clearInterval(this.interval);\r\n      }\r\n    };\r\n\r\n    WOW.prototype.sync = function(element) {\r\n      if (MutationObserver.notSupported) {\r\n        return this.doSync(this.element);\r\n      }\r\n    };\r\n\r\n    WOW.prototype.doSync = function(element) {\r\n      var box, j, len, ref, results;\r\n      if (element == null) {\r\n        element = this.element;\r\n      }\r\n      if (element.nodeType !== 1) {\r\n        return;\r\n      }\r\n      element = element.parentNode || element;\r\n      ref = element.querySelectorAll(\".\" + this.config.boxClass);\r\n      results = [];\r\n      for (j = 0, len = ref.length; j < len; j++) {\r\n        box = ref[j];\r\n        if (indexOf.call(this.all, box) < 0) {\r\n          this.boxes.push(box);\r\n          this.all.push(box);\r\n          if (this.stopped || this.disabled()) {\r\n            this.resetStyle();\r\n          } else {\r\n            this.applyStyle(box, true);\r\n          }\r\n          results.push(this.scrolled = true);\r\n        } else {\r\n          results.push(void 0);\r\n        }\r\n      }\r\n      return results;\r\n    };\r\n\r\n    WOW.prototype.show = function(box) {\r\n      this.applyStyle(box);\r\n      box.className = box.className + \" \" + this.config.animateClass;\r\n      if (this.config.callback != null) {\r\n        this.config.callback(box);\r\n      }\r\n      this.util().emitEvent(box, this.wowEvent);\r\n      this.util().addEvent(box, 'animationend', this.resetAnimation);\r\n      this.util().addEvent(box, 'oanimationend', this.resetAnimation);\r\n      this.util().addEvent(box, 'webkitAnimationEnd', this.resetAnimation);\r\n      this.util().addEvent(box, 'MSAnimationEnd', this.resetAnimation);\r\n      return box;\r\n    };\r\n\r\n    WOW.prototype.applyStyle = function(box, hidden) {\r\n      var delay, duration, iteration;\r\n      duration = box.getAttribute('data-wow-duration');\r\n      delay = box.getAttribute('data-wow-delay');\r\n      iteration = box.getAttribute('data-wow-iteration');\r\n      return this.animate((function(_this) {\r\n        return function() {\r\n          return _this.customStyle(box, hidden, duration, delay, iteration);\r\n        };\r\n      })(this));\r\n    };\r\n\r\n    WOW.prototype.animate = (function() {\r\n      if ('requestAnimationFrame' in window) {\r\n        return function(callback) {\r\n          return window.requestAnimationFrame(callback);\r\n        };\r\n      } else {\r\n        return function(callback) {\r\n          return callback();\r\n        };\r\n      }\r\n    })();\r\n\r\n    WOW.prototype.resetStyle = function() {\r\n      var box, j, len, ref, results;\r\n      ref = this.boxes;\r\n      results = [];\r\n      for (j = 0, len = ref.length; j < len; j++) {\r\n        box = ref[j];\r\n        results.push(box.style.visibility = 'visible');\r\n      }\r\n      return results;\r\n    };\r\n\r\n    WOW.prototype.resetAnimation = function(event) {\r\n      var target;\r\n      if (event.type.toLowerCase().indexOf('animationend') >= 0) {\r\n        target = event.target || event.srcElement;\r\n        return target.className = target.className.replace(this.config.animateClass, '').trim();\r\n      }\r\n    };\r\n\r\n    WOW.prototype.customStyle = function(box, hidden, duration, delay, iteration) {\r\n      if (hidden) {\r\n        this.cacheAnimationName(box);\r\n      }\r\n      box.style.visibility = hidden ? 'hidden' : 'visible';\r\n      if (duration) {\r\n        this.vendorSet(box.style, {\r\n          animationDuration: duration\r\n        });\r\n      }\r\n      if (delay) {\r\n        this.vendorSet(box.style, {\r\n          animationDelay: delay\r\n        });\r\n      }\r\n      if (iteration) {\r\n        this.vendorSet(box.style, {\r\n          animationIterationCount: iteration\r\n        });\r\n      }\r\n      this.vendorSet(box.style, {\r\n        animationName: hidden ? 'none' : this.cachedAnimationName(box)\r\n      });\r\n      return box;\r\n    };\r\n\r\n    WOW.prototype.vendors = [\"moz\", \"webkit\"];\r\n\r\n    WOW.prototype.vendorSet = function(elem, properties) {\r\n      var name, results, value, vendor;\r\n      results = [];\r\n      for (name in properties) {\r\n        value = properties[name];\r\n        elem[\"\" + name] = value;\r\n        results.push((function() {\r\n          var j, len, ref, results1;\r\n          ref = this.vendors;\r\n          results1 = [];\r\n          for (j = 0, len = ref.length; j < len; j++) {\r\n            vendor = ref[j];\r\n            results1.push(elem[\"\" + vendor + (name.charAt(0).toUpperCase()) + (name.substr(1))] = value);\r\n          }\r\n          return results1;\r\n        }).call(this));\r\n      }\r\n      return results;\r\n    };\r\n\r\n    WOW.prototype.vendorCSS = function(elem, property) {\r\n      var j, len, ref, result, style, vendor;\r\n      style = getComputedStyle(elem);\r\n      result = style.getPropertyCSSValue(property);\r\n      ref = this.vendors;\r\n      for (j = 0, len = ref.length; j < len; j++) {\r\n        vendor = ref[j];\r\n        result = result || style.getPropertyCSSValue(\"-\" + vendor + \"-\" + property);\r\n      }\r\n      return result;\r\n    };\r\n\r\n    WOW.prototype.animationName = function(box) {\r\n      var animationName;\r\n      try {\r\n        animationName = this.vendorCSS(box, 'animation-name').cssText;\r\n      } catch (_error) {\r\n        animationName = getComputedStyle(box).getPropertyValue('animation-name');\r\n      }\r\n      if (animationName === 'none') {\r\n        return '';\r\n      } else {\r\n        return animationName;\r\n      }\r\n    };\r\n\r\n    WOW.prototype.cacheAnimationName = function(box) {\r\n      return this.animationNameCache.set(box, this.animationName(box));\r\n    };\r\n\r\n    WOW.prototype.cachedAnimationName = function(box) {\r\n      return this.animationNameCache.get(box);\r\n    };\r\n\r\n    WOW.prototype.scrollHandler = function() {\r\n      return this.scrolled = true;\r\n    };\r\n\r\n    WOW.prototype.scrollCallback = function() {\r\n      var box;\r\n      if (this.scrolled) {\r\n        this.scrolled = false;\r\n        this.boxes = (function() {\r\n          var j, len, ref, results;\r\n          ref = this.boxes;\r\n          results = [];\r\n          for (j = 0, len = ref.length; j < len; j++) {\r\n            box = ref[j];\r\n            if (!(box)) {\r\n              continue;\r\n            }\r\n            if (this.isVisible(box)) {\r\n              this.show(box);\r\n              continue;\r\n            }\r\n            results.push(box);\r\n          }\r\n          return results;\r\n        }).call(this);\r\n        if (!(this.boxes.length || this.config.live)) {\r\n          return this.stop();\r\n        }\r\n      }\r\n    };\r\n\r\n    WOW.prototype.offsetTop = function(element) {\r\n      var top;\r\n      while (element.offsetTop === void 0) {\r\n        element = element.parentNode;\r\n      }\r\n      top = element.offsetTop;\r\n      while (element = element.offsetParent) {\r\n        top += element.offsetTop;\r\n      }\r\n      return top;\r\n    };\r\n\r\n    WOW.prototype.isVisible = function(box) {\r\n      var bottom, offset, top, viewBottom, viewTop;\r\n      offset = box.getAttribute('data-wow-offset') || this.config.offset;\r\n      viewTop = (this.config.scrollContainer && this.config.scrollContainer.scrollTop) || window.pageYOffset;\r\n      viewBottom = viewTop + Math.min(this.element.clientHeight, this.util().innerHeight()) - offset;\r\n      top = this.offsetTop(box);\r\n      bottom = top + box.clientHeight;\r\n      return top <= viewBottom && bottom >= viewTop;\r\n    };\r\n\r\n    WOW.prototype.util = function() {\r\n      return this._util != null ? this._util : this._util = new Util();\r\n    };\r\n\r\n    WOW.prototype.disabled = function() {\r\n      return !this.config.mobile && this.util().isMobile(navigator.userAgent);\r\n    };\r\n\r\n    return WOW;\r\n\r\n  })();\r\n\r\n}).call(this);/* SCROLLING NAVBAR */\r\n//jQuery to collapse the navbar on scroll\r\n$(window).scroll(function () {\r\nif ($(\".navbar\").offset()) {\r\n    if ($(\".navbar\").offset().top > 50) {\r\n        $(\".scrolling-navbar\").addClass(\"top-nav-collapse\");\r\n    } else {\r\n        $(\".scrolling-navbar\").removeClass(\"top-nav-collapse\");\r\n    }\r\n}\r\n\r\n});\r\n\r\n//jQuery for page scrolling feature - requires jQuery Easing plugin\r\n$(function () {\r\n    $('a.page-scroll').bind('click', function (event) {\r\n        var $anchor = $(this);\r\n        $('html, body').stop().animate({\r\n            scrollTop: $($anchor.attr('href')).offset().top\r\n        }, 1500, 'easeInOutExpo');\r\n        event.preventDefault();\r\n    });\r\n});\r\n/*!\r\n * Waves v0.7.5\r\n * http://fian.my.id/Waves\r\n *\r\n * Copyright 2014-2016 Alfiana E. Sibuea and other contributors\r\n * Released under the MIT license\r\n * https://github.com/fians/Waves/blob/master/LICENSE\r\n */\r\n\r\n;\r\n(function (window, factory) {\r\n    'use strict';\r\n\r\n    // AMD. Register as an anonymous module.  Wrap in function so we have access\r\n    // to root via `this`.\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([], function () {\r\n            return factory.apply(window);\r\n        });\r\n    }\r\n\r\n    // Node. Does not work with strict CommonJS, but only CommonJS-like\r\n    // environments that support module.exports, like Node.\r\n    else if (typeof exports === 'object') {\r\n        module.exports = factory.call(window);\r\n    }\r\n\r\n    // Browser globals.\r\n    else {\r\n        window.Waves = factory.call(window);\r\n    }\r\n})(typeof global === 'object' ? global : this, function () {\r\n    'use strict';\r\n\r\n    var Waves = Waves || {};\r\n    var $$ = document.querySelectorAll.bind(document);\r\n    var toString = Object.prototype.toString;\r\n    var isTouchAvailable = 'ontouchstart' in window;\r\n\r\n\r\n    // Find exact position of element\r\n    function isWindow(obj) {\r\n        return obj !== null && obj === obj.window;\r\n    }\r\n\r\n    function getWindow(elem) {\r\n        return isWindow(elem) ? elem : elem.nodeType === 9 && elem.defaultView;\r\n    }\r\n\r\n    function isObject(value) {\r\n        var type = typeof value;\r\n        return type === 'function' || type === 'object' && !!value;\r\n    }\r\n\r\n    function isDOMNode(obj) {\r\n        return isObject(obj) && obj.nodeType > 0;\r\n    }\r\n\r\n    function getWavesElements(nodes) {\r\n        var stringRepr = toString.call(nodes);\r\n\r\n        if (stringRepr === '[object String]') {\r\n            return $$(nodes);\r\n        } else if (isObject(nodes) && /^\\[object (Array|HTMLCollection|NodeList|Object)\\]$/.test(stringRepr) && nodes.hasOwnProperty('length')) {\r\n            return nodes;\r\n        } else if (isDOMNode(nodes)) {\r\n            return [nodes];\r\n        }\r\n\r\n        return [];\r\n    }\r\n\r\n    function offset(elem) {\r\n        var docElem, win,\r\n            box = {\r\n                top: 0,\r\n                left: 0\r\n            },\r\n            doc = elem && elem.ownerDocument;\r\n\r\n        docElem = doc.documentElement;\r\n\r\n        if (typeof elem.getBoundingClientRect !== typeof undefined) {\r\n            box = elem.getBoundingClientRect();\r\n        }\r\n        win = getWindow(doc);\r\n        return {\r\n            top: box.top + win.pageYOffset - docElem.clientTop,\r\n            left: box.left + win.pageXOffset - docElem.clientLeft\r\n        };\r\n    }\r\n\r\n    function convertStyle(styleObj) {\r\n        var style = '';\r\n\r\n        for (var prop in styleObj) {\r\n            if (styleObj.hasOwnProperty(prop)) {\r\n                style += (prop + ':' + styleObj[prop] + ';');\r\n            }\r\n        }\r\n\r\n        return style;\r\n    }\r\n\r\n    var Effect = {\r\n\r\n        // Effect duration\r\n        duration: 750,\r\n\r\n        // Effect delay (check for scroll before showing effect)\r\n        delay: 200,\r\n\r\n        show: function (e, element, velocity) {\r\n\r\n            // Disable right click\r\n            if (e.button === 2) {\r\n                return false;\r\n            }\r\n\r\n            element = element || this;\r\n\r\n            // Create ripple\r\n            var ripple = document.createElement('div');\r\n            ripple.className = 'waves-ripple waves-rippling';\r\n            element.appendChild(ripple);\r\n\r\n            // Get click coordinate and element width\r\n            var pos = offset(element);\r\n            var relativeY = 0;\r\n            var relativeX = 0;\r\n            // Support for touch devices\r\n            if ('touches' in e && e.touches.length) {\r\n                relativeY = (e.touches[0].pageY - pos.top);\r\n                relativeX = (e.touches[0].pageX - pos.left);\r\n            }\r\n            //Normal case\r\n            else {\r\n                relativeY = (e.pageY - pos.top);\r\n                relativeX = (e.pageX - pos.left);\r\n            }\r\n            // Support for synthetic events\r\n            relativeX = relativeX >= 0 ? relativeX : 0;\r\n            relativeY = relativeY >= 0 ? relativeY : 0;\r\n\r\n            var scale = 'scale(' + ((element.clientWidth / 100) * 3) + ')';\r\n            var translate = 'translate(0,0)';\r\n\r\n            if (velocity) {\r\n                translate = 'translate(' + (velocity.x) + 'px, ' + (velocity.y) + 'px)';\r\n            }\r\n\r\n            // Attach data to element\r\n            ripple.setAttribute('data-hold', Date.now());\r\n            ripple.setAttribute('data-x', relativeX);\r\n            ripple.setAttribute('data-y', relativeY);\r\n            ripple.setAttribute('data-scale', scale);\r\n            ripple.setAttribute('data-translate', translate);\r\n\r\n            // Set ripple position\r\n            var rippleStyle = {\r\n                top: relativeY + 'px',\r\n                left: relativeX + 'px'\r\n            };\r\n\r\n            ripple.classList.add('waves-notransition');\r\n            ripple.setAttribute('style', convertStyle(rippleStyle));\r\n            ripple.classList.remove('waves-notransition');\r\n\r\n            // Scale the ripple\r\n            rippleStyle['-webkit-transform'] = scale + ' ' + translate;\r\n            rippleStyle['-moz-transform'] = scale + ' ' + translate;\r\n            rippleStyle['-ms-transform'] = scale + ' ' + translate;\r\n            rippleStyle['-o-transform'] = scale + ' ' + translate;\r\n            rippleStyle.transform = scale + ' ' + translate;\r\n            rippleStyle.opacity = '1';\r\n\r\n            var duration = e.type === 'mousemove' ? 2500 : Effect.duration;\r\n            rippleStyle['-webkit-transition-duration'] = duration + 'ms';\r\n            rippleStyle['-moz-transition-duration'] = duration + 'ms';\r\n            rippleStyle['-o-transition-duration'] = duration + 'ms';\r\n            rippleStyle['transition-duration'] = duration + 'ms';\r\n\r\n            ripple.setAttribute('style', convertStyle(rippleStyle));\r\n        },\r\n\r\n        hide: function (e, element) {\r\n            element = element || this;\r\n\r\n            var ripples = element.getElementsByClassName('waves-rippling');\r\n\r\n            for (var i = 0, len = ripples.length; i < len; i++) {\r\n                removeRipple(e, element, ripples[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Collection of wrapper for HTML element that only have single tag\r\n     * like <input> and <img>\r\n     */\r\n    var TagWrapper = {\r\n\r\n        // Wrap <input> tag so it can perform the effect\r\n        input: function (element) {\r\n\r\n            var parent = element.parentNode;\r\n\r\n            // If input already have parent just pass through\r\n            if (parent.tagName.toLowerCase() === 'i' && parent.classList.contains('waves-effect')) {\r\n                return;\r\n            }\r\n\r\n            // Put element class and style to the specified parent\r\n            var wrapper = document.createElement('i');\r\n            wrapper.className = element.className + ' waves-input-wrapper';\r\n            element.className = 'waves-button-input';\r\n\r\n            // Put element as child\r\n            parent.replaceChild(wrapper, element);\r\n            wrapper.appendChild(element);\r\n\r\n            // Apply element color and background color to wrapper\r\n            var elementStyle = window.getComputedStyle(element, null);\r\n            var color = elementStyle.color;\r\n            var backgroundColor = elementStyle.backgroundColor;\r\n\r\n            wrapper.setAttribute('style', 'color:' + color + ';background:' + backgroundColor);\r\n            element.setAttribute('style', 'background-color:rgba(0,0,0,0);');\r\n\r\n        },\r\n\r\n        // Wrap <img> tag so it can perform the effect\r\n        img: function (element) {\r\n\r\n            var parent = element.parentNode;\r\n\r\n            // If input already have parent just pass through\r\n            if (parent.tagName.toLowerCase() === 'i' && parent.classList.contains('waves-effect')) {\r\n                return;\r\n            }\r\n\r\n            // Put element as child\r\n            var wrapper = document.createElement('i');\r\n            parent.replaceChild(wrapper, element);\r\n            wrapper.appendChild(element);\r\n\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Hide the effect and remove the ripple. Must be\r\n     * a separate function to pass the JSLint...\r\n     */\r\n    function removeRipple(e, el, ripple) {\r\n\r\n        // Check if the ripple still exist\r\n        if (!ripple) {\r\n            return;\r\n        }\r\n\r\n        ripple.classList.remove('waves-rippling');\r\n\r\n        var relativeX = ripple.getAttribute('data-x');\r\n        var relativeY = ripple.getAttribute('data-y');\r\n        var scale = ripple.getAttribute('data-scale');\r\n        var translate = ripple.getAttribute('data-translate');\r\n\r\n        // Get delay beetween mousedown and mouse leave\r\n        var diff = Date.now() - Number(ripple.getAttribute('data-hold'));\r\n        var delay = 350 - diff;\r\n\r\n        if (delay < 0) {\r\n            delay = 0;\r\n        }\r\n\r\n        if (e.type === 'mousemove') {\r\n            delay = 150;\r\n        }\r\n\r\n        // Fade out ripple after delay\r\n        var duration = e.type === 'mousemove' ? 2500 : Effect.duration;\r\n\r\n        setTimeout(function () {\r\n\r\n            var style = {\r\n                top: relativeY + 'px',\r\n                left: relativeX + 'px',\r\n                opacity: '0',\r\n\r\n                // Duration\r\n                '-webkit-transition-duration': duration + 'ms',\r\n                '-moz-transition-duration': duration + 'ms',\r\n                '-o-transition-duration': duration + 'ms',\r\n                'transition-duration': duration + 'ms',\r\n                '-webkit-transform': scale + ' ' + translate,\r\n                '-moz-transform': scale + ' ' + translate,\r\n                '-ms-transform': scale + ' ' + translate,\r\n                '-o-transform': scale + ' ' + translate,\r\n                'transform': scale + ' ' + translate\r\n            };\r\n\r\n            ripple.setAttribute('style', convertStyle(style));\r\n\r\n            setTimeout(function () {\r\n                try {\r\n                    el.removeChild(ripple);\r\n                } catch (e) {\r\n                    return false;\r\n                }\r\n            }, duration);\r\n\r\n        }, delay);\r\n    }\r\n\r\n\r\n    /**\r\n     * Disable mousedown event for 500ms during and after touch\r\n     */\r\n    var TouchHandler = {\r\n\r\n        /* uses an integer rather than bool so there's no issues with\r\n         * needing to clear timeouts if another touch event occurred\r\n         * within the 500ms. Cannot mouseup between touchstart and\r\n         * touchend, nor in the 500ms after touchend. */\r\n        touches: 0,\r\n\r\n        allowEvent: function (e) {\r\n\r\n            var allow = true;\r\n\r\n            if (/^(mousedown|mousemove)$/.test(e.type) && TouchHandler.touches) {\r\n                allow = false;\r\n            }\r\n\r\n            return allow;\r\n        },\r\n        registerEvent: function (e) {\r\n            var eType = e.type;\r\n\r\n            if (eType === 'touchstart') {\r\n\r\n                TouchHandler.touches += 1; // push\r\n\r\n            } else if (/^(touchend|touchcancel)$/.test(eType)) {\r\n\r\n                setTimeout(function () {\r\n                    if (TouchHandler.touches) {\r\n                        TouchHandler.touches -= 1; // pop after 500ms\r\n                    }\r\n                }, 500);\r\n\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Delegated click handler for .waves-effect element.\r\n     * returns null when .waves-effect element not in \"click tree\"\r\n     */\r\n    function getWavesEffectElement(e) {\r\n\r\n        if (TouchHandler.allowEvent(e) === false) {\r\n            return null;\r\n        }\r\n\r\n        var element = null;\r\n        var target = e.target || e.srcElement;\r\n\r\n        while (target.parentElement !== null) {\r\n            if (target.classList.contains('waves-effect') && (!(target instanceof SVGElement))) {\r\n                element = target;\r\n                break;\r\n            }\r\n            target = target.parentElement;\r\n        }\r\n\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Bubble the click and show effect if .waves-effect elem was found\r\n     */\r\n    function showEffect(e) {\r\n\r\n        // Disable effect if element has \"disabled\" property on it\r\n        // In some cases, the event is not triggered by the current element\r\n        // if (e.target.getAttribute('disabled') !== null) {\r\n        //     return;\r\n        // }\r\n\r\n        var element = getWavesEffectElement(e);\r\n\r\n        if (element !== null) {\r\n\r\n            // Make it sure the element has either disabled property, disabled attribute or 'disabled' class\r\n            if (element.disabled || element.getAttribute('disabled') || element.classList.contains('disabled')) {\r\n                return;\r\n            }\r\n\r\n            TouchHandler.registerEvent(e);\r\n\r\n            if (e.type === 'touchstart' && Effect.delay) {\r\n\r\n                var hidden = false;\r\n\r\n                var timer = setTimeout(function () {\r\n                    timer = null;\r\n                    Effect.show(e, element);\r\n                }, Effect.delay);\r\n\r\n                var hideEffect = function (hideEvent) {\r\n\r\n                    // if touch hasn't moved, and effect not yet started: start effect now\r\n                    if (timer) {\r\n                        clearTimeout(timer);\r\n                        timer = null;\r\n                        Effect.show(e, element);\r\n                    }\r\n                    if (!hidden) {\r\n                        hidden = true;\r\n                        Effect.hide(hideEvent, element);\r\n                    }\r\n                };\r\n\r\n                var touchMove = function (moveEvent) {\r\n                    if (timer) {\r\n                        clearTimeout(timer);\r\n                        timer = null;\r\n                    }\r\n                    hideEffect(moveEvent);\r\n                };\r\n\r\n                element.addEventListener('touchmove', touchMove, false);\r\n                element.addEventListener('touchend', hideEffect, false);\r\n                element.addEventListener('touchcancel', hideEffect, false);\r\n\r\n            } else {\r\n\r\n                Effect.show(e, element);\r\n\r\n                if (isTouchAvailable) {\r\n                    element.addEventListener('touchend', Effect.hide, false);\r\n                    element.addEventListener('touchcancel', Effect.hide, false);\r\n                }\r\n\r\n                element.addEventListener('mouseup', Effect.hide, false);\r\n                element.addEventListener('mouseleave', Effect.hide, false);\r\n            }\r\n        }\r\n    }\r\n\r\n    Waves.init = function (options) {\r\n        var body = document.body;\r\n\r\n        options = options || {};\r\n\r\n        if ('duration' in options) {\r\n            Effect.duration = options.duration;\r\n        }\r\n\r\n        if ('delay' in options) {\r\n            Effect.delay = options.delay;\r\n        }\r\n\r\n        if (isTouchAvailable) {\r\n            body.addEventListener('touchstart', showEffect, false);\r\n            body.addEventListener('touchcancel', TouchHandler.registerEvent, false);\r\n            body.addEventListener('touchend', TouchHandler.registerEvent, false);\r\n        }\r\n\r\n        body.addEventListener('mousedown', showEffect, false);\r\n    };\r\n\r\n\r\n    /**\r\n     * Attach Waves to dynamically loaded inputs, or add .waves-effect and other\r\n     * waves classes to a set of elements. Set drag to true if the ripple mouseover\r\n     * or skimming effect should be applied to the elements.\r\n     */\r\n    Waves.attach = function (elements, classes) {\r\n\r\n        elements = getWavesElements(elements);\r\n\r\n        if (toString.call(classes) === '[object Array]') {\r\n            classes = classes.join(' ');\r\n        }\r\n\r\n        classes = classes ? ' ' + classes : '';\r\n\r\n        var element, tagName;\r\n\r\n        for (var i = 0, len = elements.length; i < len; i++) {\r\n\r\n            element = elements[i];\r\n            tagName = element.tagName.toLowerCase();\r\n\r\n            if (['input', 'img'].indexOf(tagName) !== -1) {\r\n                TagWrapper[tagName](element);\r\n                element = element.parentElement;\r\n            }\r\n\r\n            if (element.className.indexOf('waves-effect') === -1) {\r\n                element.className += ' waves-effect' + classes;\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Cause a ripple to appear in an element via code.\r\n     */\r\n    Waves.ripple = function (elements, options) {\r\n        elements = getWavesElements(elements);\r\n        var elementsLen = elements.length;\r\n\r\n        options = options || {};\r\n        options.wait = options.wait || 0;\r\n        options.position = options.position || null; // default = centre of element\r\n\r\n\r\n        if (elementsLen) {\r\n            var element, pos, off, centre = {},\r\n                i = 0;\r\n            var mousedown = {\r\n                type: 'mousedown',\r\n                button: 1\r\n            };\r\n            var hideRipple = function (mouseup, element) {\r\n                return function () {\r\n                    Effect.hide(mouseup, element);\r\n                };\r\n            };\r\n\r\n            for (; i < elementsLen; i++) {\r\n                element = elements[i];\r\n                pos = options.position || {\r\n                    x: element.clientWidth / 2,\r\n                    y: element.clientHeight / 2\r\n                };\r\n\r\n                off = offset(element);\r\n                centre.x = off.left + pos.x;\r\n                centre.y = off.top + pos.y;\r\n\r\n                mousedown.pageX = centre.x;\r\n                mousedown.pageY = centre.y;\r\n\r\n                Effect.show(mousedown, element);\r\n\r\n                if (options.wait >= 0 && options.wait !== null) {\r\n                    var mouseup = {\r\n                        type: 'mouseup',\r\n                        button: 1\r\n                    };\r\n\r\n                    setTimeout(hideRipple(mouseup, element), options.wait);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Remove all ripples from an element.\r\n     */\r\n    Waves.calm = function (elements) {\r\n        elements = getWavesElements(elements);\r\n        var mouseup = {\r\n            type: 'mouseup',\r\n            button: 1\r\n        };\r\n\r\n        for (var i = 0, len = elements.length; i < len; i++) {\r\n            Effect.hide(mouseup, elements[i]);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Deprecated API fallback\r\n     */\r\n    Waves.displayEffect = function (options) {\r\n        console.error('Waves.displayEffect() has been deprecated and will be removed in future version. Please use Waves.init() to initialize Waves effect');\r\n        Waves.init(options);\r\n    };\r\n\r\n    return Waves;\r\n});\r\n\r\n//Initialization\r\nWaves.attach('.btn, .btn-floating', ['waves-light']);\r\nWaves.attach('.view .mask', ['waves-light']);\r\nWaves.attach('.waves-light', ['waves-light']);\r\nWaves.attach('.navbar-nav a, .nav-icons li a, .navbar form, .nav-tabs .nav-item', ['waves-light']);\r\nWaves.attach('.navbar-brand', ['waves-light']);\r\nWaves.attach('.pager li a', ['waves-light']);\r\nWaves.attach('.pagination .page-item .page-link', ['waves-effect']);\r\nWaves.init();/* FORMS */\r\n\r\n(function ($) {\r\n    $(document).ready(function () {\r\n\r\n        // Function to update labels of text fields\r\n        Materialize.updateTextFields = function () {\r\n            var input_selector = 'input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea';\r\n            $(input_selector).each(function (index, element) {\r\n                if ($(element).val().length > 0 || $(this).attr('placeholder') !== undefined || $(element)[0].validity.badInput === true) {\r\n                    $(this).siblings('label, i').addClass('active');\r\n                } else {\r\n                    $(this).siblings('label, i').removeClass('active');\r\n                }\r\n            });\r\n        };\r\n\r\n        // Text based inputs\r\n        var input_selector = 'input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea';\r\n\r\n        // Handle HTML5 autofocus\r\n        $('input[autofocus]').siblings('label, i').addClass('active');\r\n\r\n        // Add active if form auto complete\r\n        $(document).on('change', input_selector, function () {\r\n            if ($(this).val().length !== 0 || $(this).attr('placeholder') !== undefined) {\r\n                $(this).siblings('label, i').addClass('active');\r\n            }\r\n            validate_field($(this));\r\n        });\r\n\r\n        // Add active if input element has been pre-populated on document ready\r\n        $(document).ready(function () {\r\n            Materialize.updateTextFields();\r\n        });\r\n\r\n        // HTML DOM FORM RESET handling\r\n        $(document).on('reset', function (e) {\r\n            var formReset = $(e.target);\r\n            if (formReset.is('form')) {\r\n                formReset.find(input_selector).removeClass('valid').removeClass('invalid');\r\n                formReset.find(input_selector).each(function () {\r\n                    if ($(this).attr('value') === '') {\r\n                        $(this).siblings('label, i').removeClass('active');\r\n                    }\r\n                });\r\n\r\n                // Reset select\r\n                formReset.find('select.initialized').each(function () {\r\n                    var reset_text = formReset.find('option[selected]').text();\r\n                    formReset.siblings('input.select-dropdown').val(reset_text);\r\n                });\r\n            }\r\n        });\r\n\r\n        // Add active when element has focus\r\n        $(document).on('focus', input_selector, function () {\r\n            $(this).siblings('label, i').addClass('active');\r\n        });\r\n\r\n        $(document).on('blur', input_selector, function () {\r\n            var $inputElement = $(this);\r\n            if ($inputElement.val().length === 0 && $inputElement[0].validity.badInput !== true && $inputElement.attr('placeholder') === undefined) {\r\n                $inputElement.siblings('label, i').removeClass('active');\r\n            }\r\n            validate_field($inputElement);\r\n        });\r\n\r\n        validate_field = function (object) {\r\n            var hasLength = object.attr('length') !== undefined;\r\n            var lenAttr = parseInt(object.attr('length'));\r\n            var len = object.val().length;\r\n\r\n            if (object.val().length === 0 && object[0].validity.badInput === false) {\r\n                if (object.hasClass('validate')) {\r\n                    object.removeClass('valid');\r\n                    object.removeClass('invalid');\r\n                }\r\n            } else {\r\n                if (object.hasClass('validate')) {\r\n                    // Check for character counter attributes\r\n                    if ((object.is(':valid') && hasLength && (len < lenAttr)) || (object.is(':valid') && !hasLength)) {\r\n                        object.removeClass('invalid');\r\n                        object.addClass('valid');\r\n                    } else {\r\n                        object.removeClass('valid');\r\n                        object.addClass('invalid');\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n\r\n        // Textarea Auto Resize\r\n        var hiddenDiv = $('.hiddendiv').first();\r\n        if (!hiddenDiv.length) {\r\n            hiddenDiv = $('<div class=\"hiddendiv common\"></div>');\r\n            $('body').append(hiddenDiv);\r\n        }\r\n        var text_area_selector = '.materialize-textarea';\r\n\r\n        function textareaAutoResize($textarea) {\r\n            // Set font properties of hiddenDiv\r\n\r\n            var fontFamily = $textarea.css('font-family');\r\n            var fontSize = $textarea.css('font-size');\r\n\r\n            if (fontSize) {\r\n                hiddenDiv.css('font-size', fontSize);\r\n            }\r\n            if (fontFamily) {\r\n                hiddenDiv.css('font-family', fontFamily);\r\n            }\r\n\r\n            if ($textarea.attr('wrap') === \"off\") {\r\n                hiddenDiv.css('overflow-wrap', \"normal\")\r\n                    .css('white-space', \"pre\");\r\n            }\r\n\r\n\r\n\r\n\r\n            hiddenDiv.text($textarea.val() + '\\n');\r\n            var content = hiddenDiv.html().replace(/\\n/g, '<br>');\r\n            hiddenDiv.html(content);\r\n\r\n\r\n            // When textarea is hidden, width goes crazy.\r\n            // Approximate with half of window size\r\n\r\n            if ($textarea.is(':visible')) {\r\n                hiddenDiv.css('width', $textarea.width());\r\n            } else {\r\n                hiddenDiv.css('width', $(window).width() / 2);\r\n            }\r\n\r\n            $textarea.css('height', hiddenDiv.height());\r\n        }\r\n\r\n        $(text_area_selector).each(function () {\r\n            var $textarea = $(this);\r\n            if ($textarea.val().length) {\r\n                textareaAutoResize($textarea);\r\n            }\r\n        });\r\n\r\n        $('body').on('keyup keydown', text_area_selector, function () {\r\n            textareaAutoResize($(this));\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }); // End of $(document).ready\r\n\r\n}(jQuery));"]}